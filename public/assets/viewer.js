(function(a,b){function c(a){var m=Ma[a]={};e.each(a.split(ca),function(a,v){m[v]=!0});return m}function d(a,m,B){if(B===b&&1===a.nodeType)if(B="data-"+m.replace(ob,"-$1").toLowerCase(),B=a.getAttribute(B),"string"===typeof B){try{B="true"===B?!0:"false"===B?!1:"null"===B?null:+B+""===B?+B:pb.test(B)?e.parseJSON(B):B}catch(c){}e.data(a,m,B)}else B=b;return B}function f(a){for(var m in a)if(!("data"===m&&e.isEmptyObject(a[m]))&&"toJSON"!==m)return!1;return!0}function n(){return!1}function k(){return!0}
function q(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function t(a,m){do a=a[m];while(a&&1!==a.nodeType);return a}function u(a,m,b){m=m||0;if(e.isFunction(m))return e.grep(a,function(a,v){return!!m.call(a,v,a)===b});if(m.nodeType)return e.grep(a,function(a,v){return a===m===b});if("string"===typeof m){var c=e.grep(a,function(a){return 1===a.nodeType});if(rb.test(m))return e.filter(m,c,!b);m=e.filter(m,c)}return e.grep(a,function(a,v){return 0<=e.inArray(a,m)===b})}function g(a){var m=
Na.split("|");a=a.createDocumentFragment();if(a.createElement)for(;m.length;)a.createElement(m.pop());return a}function r(a,m){if(1===m.nodeType&&e.hasData(a)){var b,c,d;c=e._data(a);var H=e._data(m,c),g=c.events;if(g)for(b in delete H.handle,H.events={},g){c=0;for(d=g[b].length;c<d;c++)e.event.add(m,b,g[b][c])}H.data&&(H.data=e.extend({},H.data))}}function z(a,m){var b;1===m.nodeType&&(m.clearAttributes&&m.clearAttributes(),m.mergeAttributes&&m.mergeAttributes(a),b=m.nodeName.toLowerCase(),"object"===
b?(m.parentNode&&(m.outerHTML=a.outerHTML),e.support.html5Clone&&(a.innerHTML&&!e.trim(m.innerHTML))&&(m.innerHTML=a.innerHTML)):"input"===b&&Oa.test(a.type)?(m.defaultChecked=m.checked=a.checked,m.value!==a.value&&(m.value=a.value)):"option"===b?m.selected=a.defaultSelected:"input"===b||"textarea"===b?m.defaultValue=a.defaultValue:"script"===b&&m.text!==a.text&&(m.text=a.text),m.removeAttribute(e.expando))}function y(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):
"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function D(a){Oa.test(a.type)&&(a.defaultChecked=a.checked)}function C(a,m){if(m in a)return m;for(var e=m.charAt(0).toUpperCase()+m.slice(1),b=m,c=Pa.length;c--;)if(m=Pa[c]+e,m in a)return m;return b}function F(a,m){a=m||a;return"none"===e.css(a,"display")||!e.contains(a.ownerDocument,a)}function E(a,m){for(var b,c,d=[],H=0,g=a.length;H<g;H++)b=a[H],b.style&&(d[H]=e._data(b,"olddisplay"),m?(!d[H]&&"none"===b.style.display&&(b.style.display=
""),""===b.style.display&&F(b)&&(d[H]=e._data(b,"olddisplay",p(b.nodeName)))):(c=W(b,"display"),!d[H]&&"none"!==c&&e._data(b,"olddisplay",c)));for(H=0;H<g;H++)if(b=a[H],b.style&&(!m||"none"===b.style.display||""===b.style.display))b.style.display=m?d[H]||"":"none";return a}function Q(a,m,b){return(a=sb.exec(m))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):m}function da(a,m,b,c){m=b===(c?"border":"content")?4:"width"===m?1:0;for(var d=0;4>m;m+=2)"margin"===b&&(d+=e.css(a,b+ia[m],!0)),c?("content"===b&&(d-=
parseFloat(W(a,"padding"+ia[m]))||0),"margin"!==b&&(d-=parseFloat(W(a,"border"+ia[m]+"Width"))||0)):(d+=parseFloat(W(a,"padding"+ia[m]))||0,"padding"!==b&&(d+=parseFloat(W(a,"border"+ia[m]+"Width"))||0));return d}function T(a,m,b){var c="width"===m?a.offsetWidth:a.offsetHeight,d=!0,H=e.support.boxSizing&&"border-box"===e.css(a,"boxSizing");if(0>=c||null==c){c=W(a,m);if(0>c||null==c)c=a.style[m];if(ua.test(c))return c;d=H&&(e.support.boxSizingReliable||c===a.style[m]);c=parseFloat(c)||0}return c+da(a,
m,b||(H?"border":"content"),d)+"px"}function p(a){if(Ba[a])return Ba[a];var m=e("<"+a+">").appendTo(s.body),b=m.css("display");m.remove();if("none"===b||""===b){la=s.body.appendChild(la||e.extend(s.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!ma||!la.createElement)ma=(la.contentWindow||la.contentDocument).document,ma.write("<!doctype html><html><body>"),ma.close();m=ma.body.appendChild(ma.createElement(a));b=W(m,"display");s.body.removeChild(la)}return Ba[a]=b}function K(a,m,b,c){var d;
if(e.isArray(m))e.each(m,function(m,e){b||tb.test(a)?c(a,e):K(a+"["+("object"===typeof e?m:"")+"]",e,b,c)});else if(!b&&"object"===e.type(m))for(d in m)K(a+"["+d+"]",m[d],b,c);else c(a,m)}function N(a){return function(m,b){"string"!==typeof m&&(b=m,m="*");var c,d,H=m.toLowerCase().split(ca),g=0,l=H.length;if(e.isFunction(b))for(;g<l;g++)c=H[g],(d=/^\+/.test(c))&&(c=c.substr(1)||"*"),c=a[c]=a[c]||[],c[d?"unshift":"push"](b)}}function P(a,m,e,c,d,H){d=d||m.dataTypes[0];H=H||{};H[d]=!0;var g;d=a[d];
for(var l=0,f=d?d.length:0,h=a===Ca;l<f&&(h||!g);l++)g=d[l](m,e,c),"string"===typeof g&&(!h||H[g]?g=b:(m.dataTypes.unshift(g),g=P(a,m,e,c,g,H)));if((h||!g)&&!H["*"])g=P(a,m,e,c,"*",H);return g}function ba(a,m){var B,c,d=e.ajaxSettings.flatOptions||{};for(B in m)m[B]!==b&&((d[B]?a:c||(c={}))[B]=m[B]);c&&e.extend(!0,a,c)}function X(){try{return new a.XMLHttpRequest}catch(v){}}function A(){setTimeout(function(){na=b},0);return na=e.now()}function h(a,m){e.each(m,function(m,b){for(var e=(qa[m]||[]).concat(qa["*"]),
c=0,d=e.length;c<d&&!e[c].call(a,m,b);c++);})}function x(a,m,b){var c=0,d=va.length,g=e.Deferred().always(function(){delete l.elem}),l=function(){for(var m=na||A(),m=Math.max(0,f.startTime+f.duration-m),b=1-(m/f.duration||0),e=0,B=f.tweens.length;e<B;e++)f.tweens[e].run(b);g.notifyWith(a,[f,b,m]);if(1>b&&B)return m;g.resolveWith(a,[f]);return!1},f=g.promise({elem:a,props:e.extend({},m),opts:e.extend(!0,{specialEasing:{}},b),originalProperties:m,originalOptions:b,startTime:na||A(),duration:b.duration,
tweens:[],createTween:function(m,b,B){m=e.Tween(a,f.opts,m,b,f.opts.specialEasing[m]||f.opts.easing);f.tweens.push(m);return m},stop:function(m){for(var b=0,e=m?f.tweens.length:0;b<e;b++)f.tweens[b].run(1);m?g.resolveWith(a,[f,m]):g.rejectWith(a,[f,m]);return this}});b=f.props;for(L(b,f.opts.specialEasing);c<d;c++)if(m=va[c].call(f,a,b,f.opts))return m;h(f,b);e.isFunction(f.opts.start)&&f.opts.start.call(a,f);e.fx.timer(e.extend(l,{anim:f,queue:f.opts.queue,elem:a}));return f.progress(f.opts.progress).done(f.opts.done,
f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function L(a,m){var b,c,d,g,l;for(b in a)if(c=e.camelCase(b),d=m[c],g=a[b],e.isArray(g)&&(d=g[1],g=a[b]=g[0]),b!==c&&(a[c]=g,delete a[b]),(l=e.cssHooks[c])&&"expand"in l)for(b in g=l.expand(g),delete a[c],g)b in a||(a[b]=g[b],m[b]=d);else m[c]=d}function G(a,m,b,e,c){return new G.prototype.init(a,m,b,e,c)}function O(a,m){var b,e={height:a},c=0;for(m=m?1:0;4>c;c+=2-m)b=ia[c],e["margin"+b]=e["padding"+b]=a;m&&(e.opacity=e.width=a);return e}function ea(a){return e.isWindow(a)?
a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var U,l,s=a.document,V=a.location,I=a.navigator,M=a.jQuery,R=a.$,Z=Array.prototype.push,w=Array.prototype.slice,S=Array.prototype.indexOf,fa=Object.prototype.toString,J=Object.prototype.hasOwnProperty,ra=String.prototype.trim,e=function(a,m){return new e.fn.init(a,m,U)},oa=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,aa=/\S/,ca=/\s+/,ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,sa=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,wa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,
Da=/^[\],:{}\s]*$/,Ea=/(?:^|:|,)(?:\s*\[)+/g,ta=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,xa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,Fa=/^-ms-/,ub=/-([\da-z])/gi,vb=function(a,m){return(m+"").toUpperCase()},ya=function(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",ya,!1),e.ready()):"complete"===s.readyState&&(s.detachEvent("onreadystatechange",ya),e.ready())},Qa={};e.fn=e.prototype={constructor:e,init:function(a,m,B){var c;if(!a)return this;if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if("string"===typeof a){if((c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:sa.exec(a))&&(c[1]||!m)){if(c[1])return a=(m=m instanceof e?m[0]:m)&&m.nodeType?m.ownerDocument||m:s,a=e.parseHTML(c[1],a,!0),wa.test(c[1])&&e.isPlainObject(m)&&this.attr.call(a,m,!0),e.merge(this,a);if((m=s.getElementById(c[2]))&&m.parentNode){if(m.id!==c[2])return B.find(a);this.length=1;this[0]=m}this.context=s;this.selector=a;return this}return!m||m.jquery?(m||B).find(a):
this.constructor(m).find(a)}if(e.isFunction(a))return B.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return w.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,m,b){a=e.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===m?a.selector=this.selector+(this.selector?" ":
"")+b:m&&(a.selector=this.selector+"."+m+"("+b+")");return a},each:function(a,m){return e.each(this,a,m)},ready:function(a){e.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(w.apply(this,arguments),"slice",w.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(m,b){return a.call(m,b,m)}))},end:function(){return this.prevObject||
this.constructor(null)},push:Z,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var a,m,B,c,d,g=arguments[0]||{},l=1,f=arguments.length,h=!1;"boolean"===typeof g&&(h=g,g=arguments[1]||{},l=2);"object"!==typeof g&&!e.isFunction(g)&&(g={});f===l&&(g=this,--l);for(;l<f;l++)if(null!=(a=arguments[l]))for(m in a)B=g[m],c=a[m],g!==c&&(h&&c&&(e.isPlainObject(c)||(d=e.isArray(c)))?(d?(d=!1,B=B&&e.isArray(B)?B:[]):B=B&&e.isPlainObject(B)?B:{},g[m]=e.extend(h,B,c)):c!==
b&&(g[m]=c));return g};e.extend({noConflict:function(v){a.$===e&&(a.$=R);v&&a.jQuery===e&&(a.jQuery=M);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(!(!0===a?--e.readyWait:e.isReady)){if(!s.body)return setTimeout(e.ready,1);e.isReady=!0;!0!==a&&0<--e.readyWait||(l.resolveWith(s,[e]),e.fn.trigger&&e(s).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},
isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):Qa[fa.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!J.call(a,"constructor")&&!J.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(m){return!1}for(var B in a);return B===b||J.call(a,B)},isEmptyObject:function(a){for(var m in a)return!1;return!0},error:function(a){throw Error(a);
},parseHTML:function(a,m,b){var c;if(!a||"string"!==typeof a)return null;"boolean"===typeof m&&(b=m,m=0);m=m||s;if(c=wa.exec(a))return[m.createElement(c[1])];c=e.buildFragment([a],m,b?null:[]);return e.merge([],(c.cacheable?e.clone(c.fragment):c.fragment).childNodes)},parseJSON:function(v){if(!v||"string"!==typeof v)return null;v=e.trim(v);if(a.JSON&&a.JSON.parse)return a.JSON.parse(v);if(Da.test(v.replace(ta,"@").replace(xa,"]").replace(Ea,"")))return(new Function("return "+v))();e.error("Invalid JSON: "+
v)},parseXML:function(v){var m,B;if(!v||"string"!==typeof v)return null;try{a.DOMParser?(B=new DOMParser,m=B.parseFromString(v,"text/xml")):(m=new ActiveXObject("Microsoft.XMLDOM"),m.async="false",m.loadXML(v))}catch(c){m=b}(!m||!m.documentElement||m.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+v);return m},noop:function(){},globalEval:function(v){v&&aa.test(v)&&(a.execScript||function(v){a.eval.call(a,v)})(v)},camelCase:function(a){return a.replace(Fa,"ms-").replace(ub,vb)},
nodeName:function(a,m){return a.nodeName&&a.nodeName.toLowerCase()===m.toLowerCase()},each:function(a,m,c){var d,g=0,l=a.length,f=l===b||e.isFunction(a);if(c)if(f)for(d in a){if(!1===m.apply(a[d],c))break}else for(;g<l&&!1!==m.apply(a[g++],c););else if(f)for(d in a){if(!1===m.call(a[d],d,a[d]))break}else for(;g<l&&!1!==m.call(a[g],g,a[g++]););return a},trim:ra&&!ra.call("\ufeff\u00a0")?function(a){return null==a?"":ra.call(a)}:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,
m){var b,c=m||[];null!=a&&(b=e.type(a),null==a.length||"string"===b||"function"===b||"regexp"===b||e.isWindow(a)?Z.call(c,a):e.merge(c,a));return c},inArray:function(a,m,b){var e;if(m){if(S)return S.call(m,a,b);e=m.length;for(b=b?0>b?Math.max(0,e+b):b:0;b<e;b++)if(b in m&&m[b]===a)return b}return-1},merge:function(a,m){var e=m.length,c=a.length,d=0;if("number"===typeof e)for(;d<e;d++)a[c++]=m[d];else for(;m[d]!==b;)a[c++]=m[d++];a.length=c;return a},grep:function(a,b,e){var c,d=[],g=0,l=a.length;
for(e=!!e;g<l;g++)c=!!b(a[g],g),e!==c&&d.push(a[g]);return d},map:function(a,m,c){var d,g,l=[],f=0,h=a.length;if(a instanceof e||h!==b&&"number"===typeof h&&(0<h&&a[0]&&a[h-1]||0===h||e.isArray(a)))for(;f<h;f++)d=m(a[f],f,c),null!=d&&(l[l.length]=d);else for(g in a)d=m(a[g],g,c),null!=d&&(l[l.length]=d);return l.concat.apply([],l)},guid:1,proxy:function(a,m){var c,d;"string"===typeof m&&(c=a[m],m=a,a=c);if(!e.isFunction(a))return b;d=w.call(arguments,2);c=function(){return a.apply(m,d.concat(w.call(arguments)))};
c.guid=a.guid=a.guid||e.guid++;return c},access:function(a,m,c,d,g,l,f){var h,r=null==c,s=0,w=a.length;if(c&&"object"===typeof c){for(s in c)e.access(a,m,s,c[s],1,l,d);g=1}else if(d!==b){h=f===b&&e.isFunction(d);r&&(h?(h=m,m=function(a,v,b){return h.call(e(a),b)}):(m.call(a,d),m=null));if(m)for(;s<w;s++)m(a[s],c,h?d.call(a[s],s,m(a[s],c)):d,f);g=1}return g?a:r?m.call(a):w?m(a[0],c):l},now:function(){return(new Date).getTime()}});e.ready.promise=function(v){if(!l)if(l=e.Deferred(),"complete"===s.readyState)setTimeout(e.ready,
1);else if(s.addEventListener)s.addEventListener("DOMContentLoaded",ya,!1),a.addEventListener("load",e.ready,!1);else{s.attachEvent("onreadystatechange",ya);a.attachEvent("onload",e.ready);var b=!1;try{b=null==a.frameElement&&s.documentElement}catch(c){}b&&b.doScroll&&function qb(){if(!e.isReady){try{b.doScroll("left")}catch(a){return setTimeout(qb,50)}e.ready()}}()}return l.promise(v)};e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Qa["[object "+b+"]"]=
b.toLowerCase()});U=e(s);var Ma={};e.Callbacks=function(a){a="string"===typeof a?Ma[a]||c(a):e.extend({},a);var m,B,d,g,l,f,h=[],s=!a.once&&[],r=function(b){m=a.memory&&b;B=!0;f=g||0;g=0;l=h.length;for(d=!0;h&&f<l;f++)if(!1===h[f].apply(b[0],b[1])&&a.stopOnFalse){m=!1;break}d=!1;h&&(s?s.length&&r(s.shift()):m?h=[]:w.disable())},w={add:function(){if(h){var b=h.length;(function wb(b){e.each(b,function(b,m){var c=e.type(m);"function"===c?(!a.unique||!w.has(m))&&h.push(m):m&&(m.length&&"string"!==c)&&
wb(m)})})(arguments);d?l=h.length:m&&(g=b,r(m))}return this},remove:function(){h&&e.each(arguments,function(a,v){for(var b;-1<(b=e.inArray(v,h,b));)h.splice(b,1),d&&(b<=l&&l--,b<=f&&f--)});return this},has:function(a){return-1<e.inArray(a,h)},empty:function(){h=[];return this},disable:function(){h=s=m=b;return this},disabled:function(){return!h},lock:function(){s=b;m||w.disable();return this},locked:function(){return!s},fireWith:function(a,v){v=v||[];v=[a,v.slice?v.slice():v];if(h&&(!B||s))d?s.push(v):
r(v);return this},fire:function(){w.fireWith(this,arguments);return this},fired:function(){return!!B}};return w};e.extend({Deferred:function(a){var b=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return e.Deferred(function(v){e.each(b,function(b,m){var c=
m[0],B=a[b];g[m[1]](e.isFunction(B)?function(){var a=B.apply(this,arguments);if(a&&e.isFunction(a.promise))a.promise().done(v.resolve).fail(v.reject).progress(v.notify);else v[c+"With"](this===g?v:this,[a])}:v[c])});a=null}).promise()},promise:function(a){return null!=a?e.extend(a,d):d}},g={};d.pipe=d.then;e.each(b,function(a,v){var e=v[2],l=v[3];d[v[1]]=e.add;l&&e.add(function(){c=l},b[a^1][2].disable,b[2][2].lock);g[v[0]]=e.fire;g[v[0]+"With"]=e.fireWith});d.promise(g);a&&a.call(g,g);return g},
when:function(a){var b=0,c=w.call(arguments),d=c.length,g=1!==d||a&&e.isFunction(a.promise)?d:0,l=1===g?a:e.Deferred(),f=function(a,v,b){return function(m){v[a]=this;b[a]=1<arguments.length?w.call(arguments):m;b===h?l.notifyWith(v,b):--g||l.resolveWith(v,b)}},h,s,r;if(1<d){h=Array(d);s=Array(d);for(r=Array(d);b<d;b++)c[b]&&e.isFunction(c[b].promise)?c[b].promise().done(f(b,r,c)).fail(l.reject).progress(f(b,s,h)):--g}g||l.resolveWith(r,c);return l.promise()}});e.support=function(){var v,b,c,d,g,l,
f,h=s.createElement("div");h.setAttribute("className","t");h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=h.getElementsByTagName("*");c=h.getElementsByTagName("a")[0];if(!b||!c||!b.length)return{};d=s.createElement("select");g=d.appendChild(s.createElement("option"));b=h.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";v={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,
style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:"on"===b.value,optSelected:g.selected,getSetAttribute:"t"!==h.className,enctype:!!s.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==s.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===s.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,
reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;v.noCloneChecked=b.cloneNode(!0).checked;d.disabled=!0;v.optDisabled=!g.disabled;try{delete h.test}catch(r){v.deleteExpando=!1}!h.addEventListener&&(h.attachEvent&&h.fireEvent)&&(h.attachEvent("onclick",c=function(){v.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",c));b=s.createElement("input");b.value="t";b.setAttribute("type","radio");v.radioValue="t"===b.value;b.setAttribute("checked","checked");
b.setAttribute("name","t");h.appendChild(b);c=s.createDocumentFragment();c.appendChild(h.lastChild);v.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;v.appendChecked=b.checked;c.removeChild(b);c.appendChild(h);if(h.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})b="on"+l,f=b in h,f||(h.setAttribute(b,"return;"),f="function"===typeof h[b]),v[l+"Bubbles"]=f;e(function(){var b,m,e,c=s.getElementsByTagName("body")[0];c&&(b=s.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",
c.insertBefore(b,c.firstChild),m=s.createElement("div"),b.appendChild(m),m.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=m.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",f=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",v.reliableHiddenOffsets=f&&0===e[0].offsetHeight,m.innerHTML="",m.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
v.boxSizing=4===m.offsetWidth,v.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(v.pixelPosition="1%"!==(a.getComputedStyle(m,null)||{}).top,v.boxSizingReliable="4px"===(a.getComputedStyle(m,null)||{width:"4px"}).width,e=s.createElement("div"),e.style.cssText=m.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",e.style.marginRight=e.style.width="0",m.style.width="1px",m.appendChild(e),v.reliableMarginRight=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight)),
"undefined"!==typeof m.style.zoom&&(m.innerHTML="",m.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",v.inlineBlockNeedsLayout=3===m.offsetWidth,m.style.display="block",m.style.overflow="visible",m.innerHTML="<div></div>",m.firstChild.style.width="5px",v.shrinkWrapBlocks=3!==m.offsetWidth,b.style.zoom=1),c.removeChild(b))});c.removeChild(h);b=c=d=g=b=c=h=null;return v}();var pb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ob=/([A-Z])/g;e.extend({cache:{},
deletedIds:[],uuid:0,expando:"jQuery"+(e.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?e.cache[a[e.expando]]:a[e.expando];return!!a&&!f(a)},data:function(a,m,c,d){if(e.acceptData(a)){var g=e.expando,l="string"===typeof m,f=a.nodeType,h=f?e.cache:a,s=f?a[g]:a[g]&&g;if(s&&h[s]&&(d||h[s].data)||!(l&&c===b)){s||(f?a[g]=s=e.deletedIds.pop()||e.guid++:s=g);h[s]||(h[s]={},f||(h[s].toJSON=e.noop));
if("object"===typeof m||"function"===typeof m)d?h[s]=e.extend(h[s],m):h[s].data=e.extend(h[s].data,m);a=h[s];d||(a.data||(a.data={}),a=a.data);c!==b&&(a[e.camelCase(m)]=c);l?(c=a[m],null==c&&(c=a[e.camelCase(m)])):c=a;return c}}},removeData:function(a,b,c){if(e.acceptData(a)){var d,g,l,h=a.nodeType,s=h?e.cache:a,r=h?a[e.expando]:e.expando;if(s[r]){if(b&&(d=c?s[r]:s[r].data)){e.isArray(b)||(b in d?b=[b]:(b=e.camelCase(b),b=b in d?[b]:b.split(" ")));g=0;for(l=b.length;g<l;g++)delete d[b[g]];if(!(c?
f:e.isEmptyObject)(d))return}if(!c&&(delete s[r].data,!f(s[r])))return;h?e.cleanData([a],!0):e.support.deleteExpando||s!=s.window?delete s[r]:s[r]=null}}},_data:function(a,b,c){return e.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&e.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});e.fn.extend({data:function(a,m){var c,g,l,h,f,s=this[0],r=0,w=null;if(a===b){if(this.length&&(w=e.data(s),1===s.nodeType&&!e._data(s,"parsedAttrs"))){l=s.attributes;for(f=l.length;r<
f;r++)h=l[r].name,h.indexOf("data-")||(h=e.camelCase(h.substring(5)),d(s,h,w[h]));e._data(s,"parsedAttrs",!0)}return w}if("object"===typeof a)return this.each(function(){e.data(this,a)});c=a.split(".",2);c[1]=c[1]?"."+c[1]:"";g=c[1]+"!";return e.access(this,function(m){if(m===b)return w=this.triggerHandler("getData"+g,[c[0]]),w===b&&s&&(w=e.data(s,a),w=d(s,a,w)),w===b&&c[1]?this.data(c[0]):w;c[1]=m;this.each(function(){var b=e(this);b.triggerHandler("setData"+g,c);e.data(this,a,m);b.triggerHandler("changeData"+
g,c)})},null,m,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){e.removeData(this,a)})}});e.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=e._data(a,b),c&&(!d||e.isArray(c)?d=e._data(a,b,e.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=e.queue(a,b),d=c.length,g=c.shift(),l=e._queueHooks(a,b),h=function(){e.dequeue(a,b)};"inprogress"===g&&(g=c.shift(),d--);g&&("fx"===b&&c.unshift("inprogress"),delete l.stop,g.call(a,h,l));
!d&&l&&l.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return e._data(a,c)||e._data(a,c,{empty:e.Callbacks("once memory").add(function(){e.removeData(a,b+"queue",!0);e.removeData(a,c,!0)})})}});e.fn.extend({queue:function(a,m){var c=2;"string"!==typeof a&&(m=a,a="fx",c--);return arguments.length<c?e.queue(this[0],a):m===b?this:this.each(function(){var b=e.queue(this,a,m);e._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&e.dequeue(this,a)})},dequeue:function(a){return this.each(function(){e.dequeue(this,
a)})},delay:function(a,b){a=e.fx?e.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,e){var m=setTimeout(b,a);e.stop=function(){clearTimeout(m)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,m){var c,d=1,g=e.Deferred(),l=this,h=this.length,f=function(){--d||g.resolveWith(l,[l])};"string"!==typeof a&&(m=a,a=b);for(a=a||"fx";h--;)if((c=e._data(l[h],a+"queueHooks"))&&c.empty)d++,c.empty.add(f);f();return g.promise(m)}});var ha,Ra,Sa,Ta=/[\t\r\n]/g,xb=/\r/g,yb=/^(?:button|input)$/i,
zb=/^(?:button|input|object|select|textarea)$/i,Ab=/^a(?:rea|)$/i,Ua=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Va=e.support.getSetAttribute;e.fn.extend({attr:function(a,b){return e.access(this,e.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){e.removeAttr(this,a)})},prop:function(a,b){return e.access(this,e.prop,a,b,1<arguments.length)},removeProp:function(a){a=e.propFix[a]||a;return this.each(function(){try{this[a]=
b,delete this[a]}catch(e){}})},addClass:function(a){var b,c,d,g,l,h,f;if(e.isFunction(a))return this.each(function(b){e(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a){b=a.split(ca);c=0;for(d=this.length;c<d;c++)if(g=this[c],1===g.nodeType)if(!g.className&&1===b.length)g.className=a;else{l=" "+g.className+" ";h=0;for(f=b.length;h<f;h++)0>l.indexOf(" "+b[h]+" ")&&(l+=b[h]+" ");g.className=e.trim(l)}}return this},removeClass:function(a){var m,c,d,g,l,h,f;if(e.isFunction(a))return this.each(function(b){e(this).removeClass(a.call(this,
b,this.className))});if(a&&"string"===typeof a||a===b){m=(a||"").split(ca);h=0;for(f=this.length;h<f;h++)if(d=this[h],1===d.nodeType&&d.className){c=(" "+d.className+" ").replace(Ta," ");g=0;for(l=m.length;g<l;g++)for(;0<=c.indexOf(" "+m[g]+" ");)c=c.replace(" "+m[g]+" "," ");d.className=a?e.trim(c):""}}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"===typeof b;return e.isFunction(a)?this.each(function(c){e(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===
c)for(var g,l=0,h=e(this),f=b,s=a.split(ca);g=s[l++];)f=d?f:!h.hasClass(g),h[f?"addClass":"removeClass"](g);else if("undefined"===c||"boolean"===c)this.className&&e._data(this,"__className__",this.className),this.className=this.className||!1===a?"":e._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;b<e;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ta," ").indexOf(a))return!0;return!1},val:function(a){var m,c,d,g=this[0];if(arguments.length)return d=
e.isFunction(a),this.each(function(c){var B=e(this);if(1===this.nodeType&&(c=d?a.call(this,c,B.val()):a,null==c?c="":"number"===typeof c?c+="":e.isArray(c)&&(c=e.map(c,function(a){return null==a?"":a+""})),m=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],!m||!("set"in m)||m.set(this,c,"value")===b))this.value=c});if(g){if((m=e.valHooks[g.type]||e.valHooks[g.nodeName.toLowerCase()])&&"get"in m&&(c=m.get(g,"value"))!==b)return c;c=g.value;return"string"===typeof c?c.replace(xb,""):null==
c?"":c}}});e.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,g=(a="select-one"===a.type||0>d)?null:[],l=a?d+1:c.length,h=0>d?l:a?d:0;h<l;h++)if(b=c[h],(b.selected||h===d)&&(e.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!e.nodeName(b.parentNode,"optgroup"))){b=e(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){var c=e.makeArray(b);
e(a).find("option").each(function(){this.selected=0<=e.inArray(e(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attrFn:{},attr:function(a,c,d,g){var l,h,f=a.nodeType;if(a&&!(3===f||8===f||2===f)){if(g&&e.isFunction(e.fn[c]))return e(a)[c](d);if("undefined"===typeof a.getAttribute)return e.prop(a,c,d);if(g=1!==f||!e.isXMLDoc(a))c=c.toLowerCase(),h=e.attrHooks[c]||(Ua.test(c)?Ra:ha);if(d!==b)if(null===d)e.removeAttr(a,c);else{if(h&&"set"in h&&g&&(l=h.set(a,d,c))!==b)return l;a.setAttribute(c,
d+"");return d}else{if(h&&"get"in h&&g&&null!==(l=h.get(a,c)))return l;l=a.getAttribute(c);return null===l?b:l}}},removeAttr:function(a,b){var c,d,g,l,h=0;if(b&&1===a.nodeType)for(d=b.split(ca);h<d.length;h++)if(g=d[h])c=e.propFix[g]||g,(l=Ua.test(g))||e.attr(a,g,""),a.removeAttribute(Va?g:c),l&&c in a&&(a[c]=!1)},attrHooks:{type:{set:function(a,b){if(yb.test(a.nodeName)&&a.parentNode)e.error("type property can't be changed");else if(!e.support.radioValue&&"radio"===b&&e.nodeName(a,"input")){var c=
a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return ha&&e.nodeName(a,"button")?ha.get(a,b):b in a?a.value:null},set:function(a,b,c){if(ha&&e.nodeName(a,"button"))return ha.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
prop:function(a,c,d){var g,l,h;h=a.nodeType;if(a&&!(3===h||8===h||2===h)){if(h=1!==h||!e.isXMLDoc(a))c=e.propFix[c]||c,l=e.propHooks[c];return d!==b?l&&"set"in l&&(g=l.set(a,d,c))!==b?g:a[c]=d:l&&"get"in l&&null!==(g=l.get(a,c))?g:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:b}}}});Ra={get:function(a,c){var d,g=e.prop(a,c);return!0===g||"boolean"!==typeof g&&(d=a.getAttributeNode(c))&&
!1!==d.nodeValue?c.toLowerCase():b},set:function(a,b,c){!1===b?e.removeAttr(a,c):(b=e.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}};Va||(Sa={name:!0,id:!0,coords:!0},ha=e.valHooks.button={get:function(a,c){var e;return(e=a.getAttributeNode(c))&&(Sa[c]?""!==e.value:e.specified)?e.value:b},set:function(a,b,c){var e=a.getAttributeNode(c);e||(e=s.createAttribute(c),a.setAttributeNode(e));return e.value=b+""}},e.each(["width","height"],function(a,b){e.attrHooks[b]=e.extend(e.attrHooks[b],
{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),e.attrHooks.contenteditable={get:ha.get,set:function(a,b,c){""===b&&(b="false");ha.set(a,b,c)}});e.support.hrefNormalized||e.each(["href","src","width","height"],function(a,c){e.attrHooks[c]=e.extend(e.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null===a?b:a}})});e.support.style||(e.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}});e.support.optSelected||
(e.propHooks.selected=e.extend(e.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));e.support.enctype||(e.propFix.enctype="encoding");e.support.checkOn||e.each(["radio","checkbox"],function(){e.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});e.each(["radio","checkbox"],function(){e.valHooks[this]=e.extend(e.valHooks[this],{set:function(a,b){if(e.isArray(b))return a.checked=0<=e.inArray(e(a).val(),
b)}})});var Ga=/^(?:textarea|input|select)$/i,Wa=/^([^\.]*|)(?:\.(.+)|)$/,Bb=/(?:^|\s)hover(\.\S+|)\b/,Cb=/^key/,Db=/^(?:mouse|contextmenu)|click/,Xa=/^(?:focusinfocus|focusoutblur)$/,Ya=function(a){return e.event.special.hover?a:a.replace(Bb,"mouseenter$1 mouseleave$1")};e.event={add:function(a,c,d,g,l){var h,f,s,r,w,k,n,u,x;if(!(3===a.nodeType||8===a.nodeType||!c||!d||!(h=e._data(a)))){d.handler&&(n=d,d=n.handler,l=n.selector);d.guid||(d.guid=e.guid++);s=h.events;s||(h.events=s={});f=h.handle;f||
(h.handle=f=function(a){return"undefined"!==typeof e&&(!a||e.event.triggered!==a.type)?e.event.dispatch.apply(f.elem,arguments):b},f.elem=a);c=e.trim(Ya(c)).split(" ");for(h=0;h<c.length;h++){r=Wa.exec(c[h])||[];w=r[1];k=(r[2]||"").split(".").sort();x=e.event.special[w]||{};w=(l?x.delegateType:x.bindType)||w;x=e.event.special[w]||{};r=e.extend({type:w,origType:r[1],data:g,handler:d,guid:d.guid,selector:l,needsContext:l&&e.expr.match.needsContext.test(l),namespace:k.join(".")},n);u=s[w];if(!u&&(u=
s[w]=[],u.delegateCount=0,!x.setup||!1===x.setup.call(a,g,k,f)))a.addEventListener?a.addEventListener(w,f,!1):a.attachEvent&&a.attachEvent("on"+w,f);x.add&&(x.add.call(a,r),r.handler.guid||(r.handler.guid=d.guid));l?u.splice(u.delegateCount++,0,r):u.push(r);e.event.global[w]=!0}a=null}},global:{},remove:function(a,b,c,d,g){var l,h,f,s,r,w,k,n,u,x,q=e.hasData(a)&&e._data(a);if(q&&(k=q.events)){b=e.trim(Ya(b||"")).split(" ");for(l=0;l<b.length;l++)if(h=Wa.exec(b[l])||[],f=s=h[1],h=h[2],f){n=e.event.special[f]||
{};f=(d?n.delegateType:n.bindType)||f;u=k[f]||[];r=u.length;h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(w=0;w<u.length;w++)if(x=u[w],(g||s===x.origType)&&(!c||c.guid===x.guid)&&(!h||h.test(x.namespace))&&(!d||d===x.selector||"**"===d&&x.selector))u.splice(w--,1),x.selector&&u.delegateCount--,n.remove&&n.remove.call(a,x);0===u.length&&r!==u.length&&((!n.teardown||!1===n.teardown.call(a,h,q.handle))&&e.removeEvent(a,f,q.handle),delete k[f])}else for(f in k)e.event.remove(a,
f+b[l],c,d,!0);e.isEmptyObject(k)&&(delete q.handle,e.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,m,d,g){if(!d||!(3===d.nodeType||8===d.nodeType)){var l,h,f,r,w,k,n=c.type||c;f=[];if(!Xa.test(n+e.event.triggered)&&(0<=n.indexOf("!")&&(n=n.slice(0,-1),l=!0),0<=n.indexOf(".")&&(f=n.split("."),n=f.shift(),f.sort()),d&&!e.event.customEvent[n]||e.event.global[n]))if(c="object"===typeof c?c[e.expando]?c:new e.Event(n,c):new e.Event(n),c.type=n,c.isTrigger=
!0,c.exclusive=l,c.namespace=f.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0>n.indexOf(":")?"on"+n:"",d){if(c.result=b,c.target||(c.target=d),m=null!=m?e.makeArray(m):[],m.unshift(c),r=e.event.special[n]||{},!(r.trigger&&!1===r.trigger.apply(d,m))){k=[[d,r.bindType||n]];if(!g&&!r.noBubble&&!e.isWindow(d)){w=r.delegateType||n;l=Xa.test(w+n)?d:d.parentNode;for(h=d;l;l=l.parentNode)k.push([l,w]),h=l;if(h===(d.ownerDocument||s))k.push([h.defaultView||
h.parentWindow||a,w])}for(h=0;h<k.length&&!c.isPropagationStopped();h++)l=k[h][0],c.type=k[h][1],(w=(e._data(l,"events")||{})[c.type]&&e._data(l,"handle"))&&w.apply(l,m),(w=f&&l[f])&&(e.acceptData(l)&&w.apply&&!1===w.apply(l,m))&&c.preventDefault();c.type=n;if(!g&&!c.isDefaultPrevented()&&(!r._default||!1===r._default.apply(d.ownerDocument,m))&&!("click"===n&&e.nodeName(d,"a"))&&e.acceptData(d))if(f&&d[n]&&("focus"!==n&&"blur"!==n||0!==c.target.offsetWidth)&&!e.isWindow(d))(h=d[f])&&(d[f]=null),e.event.triggered=
n,d[n](),e.event.triggered=b,h&&(d[f]=h);return c.result}}else for(h in d=e.cache,d)d[h].events&&d[h].events[n]&&e.event.trigger(c,m,d[h].handle.elem,!0)}},dispatch:function(c){c=e.event.fix(c||a.event);var m,d,g,l,h,f,s=(e._data(this,"events")||{})[c.type]||[],r=s.delegateCount,n=w.call(arguments),k=!c.exclusive&&!c.namespace,u=e.event.special[c.type]||{},x=[];n[0]=c;c.delegateTarget=this;if(!(u.preDispatch&&!1===u.preDispatch.call(this,c))){if(r&&!(c.button&&"click"===c.type))for(d=c.target;d!=
this;d=d.parentNode||this)if(!0!==d.disabled||"click"!==c.type){l={};h=[];for(m=0;m<r;m++)g=s[m],f=g.selector,l[f]===b&&(l[f]=g.needsContext?0<=e(f,this).index(d):e.find(f,this,null,[d]).length),l[f]&&h.push(g);h.length&&x.push({elem:d,matches:h})}s.length>r&&x.push({elem:this,matches:s.slice(r)});for(m=0;m<x.length&&!c.isPropagationStopped();m++){l=x[m];c.currentTarget=l.elem;for(d=0;d<l.matches.length&&!c.isImmediatePropagationStopped();d++)if(g=l.matches[d],k||!c.namespace&&!g.namespace||c.namespace_re&&
c.namespace_re.test(g.namespace))c.data=g.data,c.handleObj=g,g=((e.event.special[g.origType]||{}).handle||g.handler).apply(l.elem,n),g!==b&&(c.result=g,!1===g&&(c.preventDefault(),c.stopPropagation()))}u.postDispatch&&u.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],
filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var e,d,g=c.button,l=c.fromElement;null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||s,d=e.documentElement,e=e.body,a.pageX=c.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=c.clientY+(d&&d.scrollTop||e&&
e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0));!a.relatedTarget&&l&&(a.relatedTarget=l===a.target?c.toElement:l);!a.which&&g!==b&&(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[e.expando])return a;var b,c,d=a,g=e.event.fixHooks[a.type]||{},l=g.props?this.props.concat(g.props):this.props;a=e.Event(d);for(b=l.length;b;)c=l[--b],a[c]=d[c];a.target||(a.target=d.srcElement||s);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return g.filter?g.filter(a,d):
a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){e.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){a=e.extend(new e.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?e.event.trigger(a,null,b):e.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};e.event.handle=e.event.dispatch;e.removeEvent=s.removeEventListener?
function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};e.Event=function(a,b){if(!(this instanceof e.Event))return new e.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?k:n):this.type=a;b&&e.extend(this,b);this.timeStamp=a&&a.timeStamp||e.now();this[e.expando]=!0};e.Event.prototype=
{preventDefault:function(){this.isDefaultPrevented=k;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},
function(a,b){e.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,v=a.handleObj;if(!d||d!==this&&!e.contains(this,d))a.type=v.origType,c=v.handler.apply(this,arguments),a.type=b;return c}}});e.support.submitBubbles||(e.event.special.submit={setup:function(){if(e.nodeName(this,"form"))return!1;e.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=e.nodeName(a,"input")||e.nodeName(a,"button")?a.form:b)&&!e._data(a,"_submit_attached"))e.event.add(a,
"submit._submit",function(a){a._submit_bubble=!0}),e._data(a,"_submit_attached",!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&e.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(e.nodeName(this,"form"))return!1;e.event.remove(this,"._submit")}});e.support.changeBubbles||(e.event.special.change={setup:function(){if(Ga.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)e.event.add(this,"propertychange._change",
function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),e.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);e.event.simulate("change",this,a,!0)});return!1}e.event.add(this,"beforeactivate._change",function(a){a=a.target;Ga.test(a.nodeName)&&!e._data(a,"_change_attached")&&(e.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&e.event.simulate("change",this.parentNode,a,!0)}),e._data(a,
"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){e.event.remove(this,"._change");return!Ga.test(this.nodeName)}});e.support.focusinBubbles||e.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){e.event.simulate(b,a.target,e.event.fix(a),!0)};e.event.special[b]={setup:function(){0===c++&&s.addEventListener(a,d,!0)},teardown:function(){0===
--c&&s.removeEventListener(a,d,!0)}}});e.fn.extend({on:function(a,c,d,g,l){var h,f;if("object"===typeof a){"string"!==typeof c&&(d=d||c,c=b);for(f in a)this.on(f,c,d,a[f],l);return this}null==d&&null==g?(g=c,d=c=b):null==g&&("string"===typeof c?(g=d,d=b):(g=d,d=c,c=b));if(!1===g)g=n;else if(!g)return this;1===l&&(h=g,g=function(a){e().off(a);return h.apply(this,arguments)},g.guid=h.guid||(h.guid=e.guid++));return this.each(function(){e.event.add(this,a,g,d,c)})},one:function(a,b,c,e){return this.on(a,
b,c,e,1)},off:function(a,c,d){var g;if(a&&a.preventDefault&&a.handleObj)return g=a.handleObj,e(a.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"===typeof a){for(g in a)this.off(g,c,a[g]);return this}if(!1===c||"function"===typeof c)d=c,c=b;!1===d&&(d=n);return this.each(function(){e.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){e(this.context).on(a,
this.selector,b,c);return this},die:function(a,b){e(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){e.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return e.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||e.guid++,d=0,g=function(c){var g=(e._data(this,
"lastToggle"+a.guid)||0)%d;e._data(this,"lastToggle"+a.guid,g+1);c.preventDefault();return b[g].apply(this,arguments)||!1};for(g.guid=c;d<b.length;)b[d++].guid=c;return this.click(g)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){e.fn[b]=function(a,
c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};Cb.test(b)&&(e.event.fixHooks[b]=e.event.keyHooks);Db.test(b)&&(e.event.fixHooks[b]=e.event.mouseHooks)});(function(a,b){function c(a,b,e,d){e=e||[];b=b||M;var m,g,v,l,h=b.nodeType;if(!a||"string"!==typeof a)return e;if(1!==h&&9!==h)return[];v=S(b);if(!v&&!d&&(m=Ea.exec(a)))if(l=m[1])if(9===h)if((g=b.getElementById(l))&&g.parentNode){if(g.id===l)return e.push(g),e}else return e;else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(l))&&
t(b,g)&&g.id===l)return e.push(g),e}else{if(m[2])return Z.apply(e,A.call(b.getElementsByTagName(a),0)),e;if((l=m[3])&&ba&&b.getElementsByClassName)return Z.apply(e,A.call(b.getElementsByClassName(l),0)),e}return x(a.replace(F,"$1"),b,e,d,v)}function d(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function g(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function l(a){return aa(function(b){b=+b;return aa(function(c,
e){for(var d,m=a([],c.length,b),g=m.length;g--;)if(c[d=m[g]])c[d]=!(e[d]=c[d])})})}function h(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function f(a,b){var e,d,m,g,v,l,h;if(v=ea[J][a+" "])return b?0:v.slice(0);v=a;l=[];for(h=p.preFilter;v;){if(!e||(d=wa.exec(v)))d&&(v=v.slice(d[0].length)||v),l.push(m=[]);e=!1;if(d=Da.exec(v))m.push(e=new R(d.shift())),v=v.slice(e.length),e.type=d[0].replace(F," ");for(g in p.filter)if((d=T[g].exec(v))&&(!h[g]||(d=
h[g](d))))m.push(e=new R(d.shift())),v=v.slice(e.length),e.type=g,e.matches=d;if(!e)break}return b?v.length:v?c.error(a):ea(a,l).slice(0)}function s(a,b,c){var e=b.dir,d=c&&"parentNode"===b.dir,m=ra++;return b.first?function(b,c,m){for(;b=b[e];)if(d||1===b.nodeType)return a(b,c,m)}:function(b,c,g){if(g)for(;b=b[e];){if((d||1===b.nodeType)&&a(b,c,g))return b}else for(var v,l=C+" "+m+" ",h=l+z;b=b[e];)if(d||1===b.nodeType){if((v=b[J])===h)return b.sizset;if("string"===typeof v&&0===v.indexOf(l)){if(b.sizset)return b}else{b[J]=
h;if(a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function r(a){return 1<a.length?function(b,c,e){for(var d=a.length;d--;)if(!a[d](b,c,e))return!1;return!0}:a[0]}function w(a,b,c,e,d){for(var m,g=[],v=0,l=a.length,h=null!=b;v<l;v++)if(m=a[v])if(!c||c(m,e,d))g.push(m),h&&b.push(v);return g}function n(a,b,e,d,m,g){d&&!d[J]&&(d=n(d));m&&!m[J]&&(m=n(m,g));return aa(function(g,v,l,h){var f,s,r=[],n=[],k=v.length,u;if(!(u=g)){u=b||"*";for(var x=l.nodeType?[l]:l,q=[],z=0,p=x.length;z<p;z++)c(u,x[z],q);u=
q}u=a&&(g||!b)?w(u,r,a,l,h):u;x=e?m||(g?a:k||d)?[]:v:u;e&&e(u,x,l,h);if(d){f=w(x,n);d(f,[],l,h);for(l=f.length;l--;)if(s=f[l])x[n[l]]=!(u[n[l]]=s)}if(g){if(m||a){if(m){f=[];for(l=x.length;l--;)if(s=x[l])f.push(u[l]=s);m(null,x=[],f,h)}for(l=x.length;l--;)if((s=x[l])&&-1<(f=m?ca.call(g,s):r[l]))g[f]=!(v[f]=s)}}else x=w(x===v?x.splice(k,x.length):x),m?m(null,v,x,h):Z.apply(v,x)})}function k(a){var b,c,e,d=a.length,m=p.relative[a[0].type];c=m||p.relative[" "];for(var g=m?1:0,v=s(function(a){return a===
b},c,!0),l=s(function(a){return-1<ca.call(b,a)},c,!0),h=[function(a,c,e){return!m&&(e||c!==fa)||((b=c).nodeType?v(a,c,e):l(a,c,e))}];g<d;g++)if(c=p.relative[a[g].type])h=[s(r(h),c)];else{c=p.filter[a[g].type].apply(null,a[g].matches);if(c[J]){for(e=++g;e<d&&!p.relative[a[e].type];e++);return n(1<g&&r(h),1<g&&a.slice(0,g-1).join("").replace(F,"$1"),c,g<e&&k(a.slice(g,e)),e<d&&k(a=a.slice(e)),e<d&&a.join(""))}h.push(c)}return r(h)}function u(a,b){var e=0<b.length,d=0<a.length,m=function(g,v,l,h,f){var s,
r,n=[],k=0,u="0",x=g&&[],q=null!=f,V=fa,nb=g||d&&p.find.TAG("*",f&&v.parentNode||v),H=C+=null==V?1:Math.E;q&&(fa=v!==M&&v,z=m.el);for(;null!=(f=nb[u]);u++){if(d&&f){for(s=0;r=a[s];s++)if(r(f,v,l)){h.push(f);break}q&&(C=H,z=++m.el)}e&&((f=!r&&f)&&k--,g&&x.push(f))}k+=u;if(e&&u!==k){for(s=0;r=b[s];s++)r(x,n,v,l);if(g){if(0<k)for(;u--;)!x[u]&&!n[u]&&(n[u]=oa.call(h));n=w(n)}Z.apply(h,n);q&&(!g&&0<n.length&&1<k+b.length)&&c.uniqueSort(h)}q&&(C=H,fa=V);return x};m.el=0;return e?aa(m):m}function x(a,b,
c,e,d){var m,g,v,l,h=f(a);if(!e&&1===h.length){g=h[0]=h[0].slice(0);if(2<g.length&&"ID"===(v=g[0]).type&&9===b.nodeType&&!d&&p.relative[g[1].type]){b=p.find.ID(v.matches[0].replace(P,""),b,d)[0];if(!b)return c;a=a.slice(g.shift().length)}for(m=T.POS.test(a)?-1:g.length-1;0<=m;m--){v=g[m];if(p.relative[l=v.type])break;if(l=p.find[l])if(e=l(v.matches[0].replace(P,""),ta.test(g[0].type)&&b.parentNode||b,d)){g.splice(m,1);a=e.length&&g.join("");if(!a)return Z.apply(c,A.call(e,0)),c;break}}}y(a,h)(e,b,
d,c,ta.test(a));return c}function q(){}var z,V,p,L,S,t,y,I,G,fa,O=!0,J=("sizcache"+Math.random()).replace(".",""),R=String,M=a.document,D=M.documentElement,C=0,ra=0,oa=[].pop,Z=[].push,A=[].slice,ca=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},aa=function(a,b){a[J]=null==b||b;return a},ga=function(){var a={},b=[];return aa(function(c,e){b.push(c)>p.cacheLength&&delete a[b.shift()];return a[c+" "]=e},a)},E=ga(),ea=ga(),U=ga(),ga="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",sa=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+ga+")|[^:]|\\\\.)*|.*))\\)|)",F=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,wa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Da=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,Q=RegExp(sa),Ea=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ta=/[\x20\t\r\n\f]*[+~]/,K=/h\d/i,da=/input|select|textarea|button/i,P=/\\(?!\\)/g,
T={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ga),PSEUDO:RegExp("^"+sa),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},N=function(a){var b=M.createElement("div");try{return a(b)}catch(c){return!1}finally{}},ga=N(function(a){a.appendChild(M.createComment(""));return!a.getElementsByTagName("*").length}),X=N(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),
W=N(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),ba=N(function(a){a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),Y=N(function(a){a.id=J+0;a.innerHTML="<a name='"+J+"'></a><div name='"+J+"'></div>";D.insertBefore(a,D.firstChild);var b=M.getElementsByName&&
M.getElementsByName(J).length===2+M.getElementsByName(J+0).length;V=!M.getElementById(J);D.removeChild(a);return b});try{A.call(D.childNodes,0)[0].nodeType}catch(xa){A=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return 0<c(b,null,null,[a]).length};L=c.getText=function(a){var b,c="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=
a.nextSibling)c+=L(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[e];e++)c+=L(b);return c};S=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};t=c.contains=D.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!(!e||!(1===e.nodeType&&c.contains&&c.contains(e)))}:D.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;
return!1};c.attr=function(a,b){var c,e=S(a);e||(b=b.toLowerCase());return(c=p.attrHandle[b])?c(a):e||W?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?a[b]?b:null:c.specified?c.value:null:null};p=c.selectors={cacheLength:50,createPseudo:aa,match:T,attrHandle:X?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:V?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:
[]}:function(a,c,e){if("undefined"!==typeof c.getElementById&&!e)return(c=c.getElementById(a))?c.id===a||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").value===a?[c]:b:[]},TAG:ga?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var e,d=[],m=0;e=c[m];m++)1===e.nodeType&&d.push(e);return d}return c},NAME:Y&&function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},
CLASS:ba&&function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(P,"");a[3]=(a[4]||a[5]||"").replace(P,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===
a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]);return a},PSEUDO:function(a){var b,c;if(T.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4]){if(Q.test(b)&&(c=f(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length))b=b.slice(0,c),a[0]=a[0].slice(0,c);a[2]=b}return a.slice(0,3)}},filter:{ID:V?function(a){a=a.replace(P,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(P,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&
b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=a.replace(P,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=E[J][a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&E(a,function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,e){return function(d,m){var g=c.attr(d,a);if(null==g)return"!="===
b;if(!b)return!0;g+="";return"="===b?g===e:"!="===b?g!==e:"^="===b?e&&0===g.indexOf(e):"*="===b?e&&-1<g.indexOf(e):"$="===b?e&&g.substr(g.length-e.length)===e:"~="===b?-1<(" "+g+" ").indexOf(e):"|="===b?g===e||g.substr(0,e.length+1)===e+"-":!1}},CHILD:function(a,b,c,e){return"nth"===a?function(a){var b,d;b=a.parentNode;if(1===c&&0===e)return!0;if(b){d=0;for(b=b.firstChild;b&&!(1===b.nodeType&&(d++,a===b));b=b.nextSibling);}d-=e;return d===c||0===d%c&&0<=d/c}:function(b){var c=b;switch(a){case "only":case "first":for(;c=
c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var e,d=p.pseudos[a]||p.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return d[J]?d(b):1<d.length?(e=[a,a,"",b],p.setFilters.hasOwnProperty(a.toLowerCase())?aa(function(a,c){for(var e,m=d(a,b),g=m.length;g--;)e=ca.call(a,m[g]),a[e]=!(c[e]=m[g])}):function(a){return d(a,0,e)}):d}},pseudos:{not:aa(function(a){var b=[],
c=[],e=y(a.replace(F,"$1"));return e[J]?aa(function(a,b,c,d){d=e(a,null,d,[]);for(var m=a.length;m--;)if(c=d[m])a[m]=!(b[m]=c)}):function(a,d,m){b[0]=a;e(b,null,m,c);return!c.pop()}}),has:aa(function(a){return function(b){return 0<c(a,b).length}}),contains:aa(function(a){return function(b){return-1<(b.textContent||b.innerText||L(b)).indexOf(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===
b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!p.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return K.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),
checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:g("submit"),reset:g("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return da.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:l(function(){return[0]}),last:l(function(a,
b){return[b-1]}),eq:l(function(a,b,c){return[0>c?c+b:c]}),even:l(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:l(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:l(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:l(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};I=D.compareDocumentPosition?function(a,b){return a===b?(G=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,
b){if(a===b)return G=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,e,d=[],m=[];c=a.parentNode;e=b.parentNode;var g=c;if(c===e)return h(a,b);if(c){if(!e)return 1}else return-1;for(;g;)d.unshift(g),g=g.parentNode;for(g=e;g;)m.unshift(g),g=g.parentNode;c=d.length;e=m.length;for(g=0;g<c&&g<e;g++)if(d[g]!==m[g])return h(d[g],m[g]);return g===c?h(a,m[g],-1):h(d[g],b,1)};[0,0].sort(I);O=!G;c.uniqueSort=function(a){var b,c=[],e=1,d=0;G=O;a.sort(I);if(G){for(;b=a[e];e++)b===
a[e-1]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};y=c.compile=function(a,b){var c,e=[],d=[],m=U[J][a+" "];if(!m){b||(b=f(a));for(c=b.length;c--;)m=k(b[c]),m[J]?e.push(m):d.push(m);m=U(a,u(d,e))}return m};M.querySelectorAll&&function(){var a,b=x,e=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,m=[":focus"],g=[":active"],v=D.matchesSelector||D.mozMatchesSelector||D.webkitMatchesSelector||D.oMatchesSelector||
D.msMatchesSelector;N(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||m.push(":checked")});N(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||m.push(":enabled",
":disabled")});m=RegExp(m.join("|"));x=function(a,c,d,g,v){if(!g&&!v&&!m.test(a)){var l,h,s=!0,r=J;h=c;l=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){l=f(a);(s=c.getAttribute("id"))?r=s.replace(e,"\\$&"):c.setAttribute("id",r);r="[id='"+r+"'] ";for(h=l.length;h--;)l[h]=r+l[h].join("");h=ta.test(a)&&c.parentNode||c;l=l.join(",")}if(l)try{return Z.apply(d,A.call(h.querySelectorAll(l),0)),d}catch(w){}finally{s||c.removeAttribute("id")}}return b(a,c,d,g,v)};v&&(N(function(b){a=
v.call(b,"div");try{v.call(b,"[test!='']:sizzle"),g.push("!=",sa)}catch(c){}}),g=RegExp(g.join("|")),c.matchesSelector=function(b,e){e=e.replace(d,"='$1']");if(!S(b)&&!g.test(e)&&!m.test(e))try{var l=v.call(b,e);if(l||a||b.document&&11!==b.document.nodeType)return l}catch(h){}return 0<c(e,null,null,[b]).length})}();p.pseudos.nth=p.pseudos.eq;p.filters=q.prototype=p.pseudos;p.setFilters=new q;c.attr=e.attr;e.find=c;e.expr=c.selectors;e.expr[":"]=e.expr.pseudos;e.unique=c.uniqueSort;e.text=c.getText;
e.isXMLDoc=c.isXML;e.contains=c.contains})(a);var Eb=/Until$/,Fb=/^(?:parents|prev(?:Until|All))/,rb=/^.[^:#\[\.,]*$/,Za=e.expr.match.needsContext,Gb={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({find:function(a){var b,c,d,g,l,h,f=this;if("string"!==typeof a)return e(a).filter(function(){b=0;for(c=f.length;b<c;b++)if(e.contains(f[b],this))return!0});h=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(d=h.length,e.find(a,this[b],h),0<b)for(g=d;g<h.length;g++)for(l=0;l<d;l++)if(h[l]===
h[g]){h.splice(g--,1);break}return h},has:function(a){var b,c=e(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(e.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(u(this,a,!1),"not",a)},filter:function(a){return this.pushStack(u(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?Za.test(a)?0<=e(a,this.context).index(this[0]):0<e.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,d=0,g=this.length,l=[],h=Za.test(a)||
"string"!==typeof a?e(a,b||this.context):0;d<g;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(h?-1<h.index(c):e.find.matchesSelector(c,a)){l.push(c);break}c=c.parentNode}l=1<l.length?e.unique(l):l;return this.pushStack(l,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?e.inArray(this[0],e(a)):e.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?e(a,b):e.makeArray(a&&a.nodeType?[a]:a),d=e.merge(this.get(),
c);return this.pushStack(q(c[0])||q(d[0])?d:e.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});e.fn.andSelf=e.fn.addBack;e.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return e.dir(a,"parentNode")},parentsUntil:function(a,b,c){return e.dir(a,"parentNode",c)},next:function(a){return t(a,"nextSibling")},prev:function(a){return t(a,"previousSibling")},nextAll:function(a){return e.dir(a,"nextSibling")},
prevAll:function(a){return e.dir(a,"previousSibling")},nextUntil:function(a,b,c){return e.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return e.dir(a,"previousSibling",c)},siblings:function(a){return e.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return e.sibling(a.firstChild)},contents:function(a){return e.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:e.merge([],a.childNodes)}},function(a,b){e.fn[a]=function(c,d){var g=e.map(this,b,c);Eb.test(a)||(d=c);d&&
"string"===typeof d&&(g=e.filter(d,g));g=1<this.length&&!Gb[a]?e.unique(g):g;1<this.length&&Fb.test(a)&&(g=g.reverse());return this.pushStack(g,a,w.call(arguments).join(","))}});e.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?e.find.matchesSelector(b[0],a)?[b[0]]:[]:e.find.matches(a,b)},dir:function(a,c,d){var g=[];for(a=a[c];a&&9!==a.nodeType&&(d===b||1!==a.nodeType||!e(a).is(d));)1===a.nodeType&&g.push(a),a=a[c];return g},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===
a.nodeType&&a!==b&&c.push(a);return c}});var Na="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Hb=/ jQuery\d+="(?:null|\d+)"/g,Ha=/^\s+/,$a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ab=/<([\w:]+)/,Ib=/<tbody/i,Jb=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,Lb=/<(?:script|object|embed|option|style)/i,Ia=RegExp("<(?:"+Na+")[\\s/>]","i"),Oa=/^(?:checkbox|radio)$/,
bb=/checked\s*(?:[^=]|=\s*.checked.)/i,Mb=/\/(java|ecma)script/i,Nb=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Y={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},cb=g(s),Ja=cb.appendChild(s.createElement("div"));Y.optgroup=
Y.option;Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead;Y.th=Y.td;e.support.htmlSerialize||(Y._default=[1,"X<div>","</div>"]);e.fn.extend({text:function(a){return e.access(this,function(a){return a===b?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(e.isFunction(a))return this.each(function(b){e(this).wrapAll(a.call(this,b))});if(this[0]){var b=e(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return e.isFunction(a)?this.each(function(b){e(this).wrapInner(a.call(this,b))}):this.each(function(){var b=e(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=e.isFunction(a);return this.each(function(c){e(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||
e(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!q(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(a,
this),"before",this.selector)}},after:function(){if(!q(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)if(!a||e.filter(a,[c]).length)!b&&1===c.nodeType&&(e.cleanData(c.getElementsByTagName("*")),e.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&e.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return e.clone(this,a,b)})},html:function(a){return e.access(this,function(a){var c=this[0]||{},d=0,g=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Hb,""):b;if("string"===typeof a&&!Kb.test(a)&&(e.support.htmlSerialize||!Ia.test(a))&&(e.support.leadingWhitespace||!Ha.test(a))&&
!Y[(ab.exec(a)||["",""])[1].toLowerCase()]){a=a.replace($a,"<$1></$2>");try{for(;d<g;d++)c=this[d]||{},1===c.nodeType&&(e.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(l){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(!q(this[0])){if(e.isFunction(a))return this.each(function(b){var c=e(this),d=c.html();c.replaceWith(a.call(this,b,d))});"string"!==typeof a&&(a=e(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;e(this).remove();
b?e(b).before(a):e(c).append(a)})}return this.length?this.pushStack(e(e.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var g,l,h,f=0,s=a[0],r=[],w=this.length;if(!e.support.checkClone&&1<w&&"string"===typeof s&&bb.test(s))return this.each(function(){e(this).domManip(a,c,d)});if(e.isFunction(s))return this.each(function(g){var l=e(this);a[0]=s.call(this,g,c?l.html():b);l.domManip(a,c,d)});if(this[0]){g=e.buildFragment(a,
this,r);h=g.fragment;l=h.firstChild;1===h.childNodes.length&&(h=l);if(l){c=c&&e.nodeName(l,"tr");for(g=g.cacheable||w-1;f<w;f++)d.call(c&&e.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f],f===g?h:e.clone(h,!0,!0))}h=l=null;r.length&&e.each(r,function(a,b){b.src?e.ajax?e.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):e.error("no ajax"):e.globalEval((b.text||b.textContent||b.innerHTML||
"").replace(Nb,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});e.buildFragment=function(a,c,d){var g,l,h,f=a[0];c=c||s;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;if(1===a.length&&"string"===typeof f&&512>f.length&&c===s&&"<"===f.charAt(0)&&!Lb.test(f)&&(e.support.checkClone||!bb.test(f))&&(e.support.html5Clone||!Ia.test(f)))l=!0,g=e.fragments[f],h=g!==b;g||(g=c.createDocumentFragment(),e.clean(a,c,g,d),l&&(e.fragments[f]=h&&g));return{fragment:g,cacheable:l}};e.fragments={};e.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){e.fn[a]=function(c){var d,g=0,l=[];c=e(c);var h=c.length;d=1===this.length&&this[0].parentNode;if((null==d||d&&11===d.nodeType&&1===d.childNodes.length)&&1===h)return c[b](this[0]),this;for(;g<h;g++)d=(0<g?this.clone(!0):this).get(),e(c[g])[b](d),l=l.concat(d);return this.pushStack(l,a,c.selector)}});e.extend({clone:function(a,b,c){var d,g,l,h;e.support.html5Clone||e.isXMLDoc(a)||!Ia.test("<"+a.nodeName+
">")?h=a.cloneNode(!0):(Ja.innerHTML=a.outerHTML,Ja.removeChild(h=Ja.firstChild));if((!e.support.noCloneEvent||!e.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!e.isXMLDoc(a)){z(a,h);d=y(a);g=y(h);for(l=0;d[l];++l)g[l]&&z(d[l],g[l])}if(b&&(r(a,h),c)){d=y(a);g=y(h);for(l=0;d[l];++l)r(d[l],g[l])}return h},clean:function(a,b,c,d){var l,h,f,r,w,n,k=b===s&&cb,u=[];if(!b||"undefined"===typeof b.createDocumentFragment)b=s;for(l=0;null!=(f=a[l]);l++)if("number"===typeof f&&(f+=""),f){if("string"===
typeof f)if(Jb.test(f)){k=k||g(b);n=b.createElement("div");k.appendChild(n);f=f.replace($a,"<$1></$2>");h=(ab.exec(f)||["",""])[1].toLowerCase();r=Y[h]||Y._default;w=r[0];for(n.innerHTML=r[1]+f+r[2];w--;)n=n.lastChild;if(!e.support.tbody){w=Ib.test(f);r="table"===h&&!w?n.firstChild&&n.firstChild.childNodes:"<table>"===r[1]&&!w?n.childNodes:[];for(h=r.length-1;0<=h;--h)e.nodeName(r[h],"tbody")&&!r[h].childNodes.length&&r[h].parentNode.removeChild(r[h])}!e.support.leadingWhitespace&&Ha.test(f)&&n.insertBefore(b.createTextNode(Ha.exec(f)[0]),
n.firstChild);f=n.childNodes;n.parentNode.removeChild(n)}else f=b.createTextNode(f);f.nodeType?u.push(f):e.merge(u,f)}n&&(f=n=k=null);if(!e.support.appendChecked)for(l=0;null!=(f=u[l]);l++)e.nodeName(f,"input")?D(f):"undefined"!==typeof f.getElementsByTagName&&e.grep(f.getElementsByTagName("input"),D);if(c){a=function(a){if(!a.type||Mb.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(l=0;null!=(f=u[l]);l++)if(!e.nodeName(f,"script")||!a(f))c.appendChild(f),
"undefined"!==typeof f.getElementsByTagName&&(f=e.grep(e.merge([],f.getElementsByTagName("script")),a),u.splice.apply(u,[l+1,0].concat(f)),l+=f.length)}return u},cleanData:function(a,b){for(var c,d,g,l,h=0,f=e.expando,s=e.cache,r=e.support.deleteExpando,w=e.event.special;null!=(g=a[h]);h++)if(b||e.acceptData(g))if(c=(d=g[f])&&s[d]){if(c.events)for(l in c.events)w[l]?e.event.remove(g,l):e.removeEvent(g,l,c.handle);s[d]&&(delete s[d],r?delete g[f]:g.removeAttribute?g.removeAttribute(f):g[f]=null,e.deletedIds.push(d))}}});
(function(){var a,b;e.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=e.uaMatch(I.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);e.browser=b;e.sub=function(){function a(b,c){return new a.fn.init(b,
c)}e.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,d){d&&(d instanceof e&&!(d instanceof a))&&(d=a(d));return e.fn.init.call(this,c,d,b)};a.fn.init.prototype=a.fn;var b=a(s);return a}})();var W,la,ma,Ka=/alpha\([^)]*\)/i,Ob=/opacity=([^)]*)/,Pb=/^(top|right|bottom|left)$/,Qb=/^(none|table(?!-c[ea]).+)/,db=/^margin/,sb=RegExp("^("+oa+")(.*)$","i"),ua=RegExp("^("+oa+")(?!px)[a-z%]+$","i"),Rb=RegExp("^([-+])=("+oa+")","i"),Ba={BODY:"block"},
Sb={position:"absolute",visibility:"hidden",display:"block"},eb={letterSpacing:0,fontWeight:400},ia=["Top","Right","Bottom","Left"],Pa=["Webkit","O","Moz","ms"],Tb=e.fn.toggle;e.fn.extend({css:function(a,c){return e.access(this,function(a,c,d){return d!==b?e.style(a,c,d):e.css(a,c)},a,c,1<arguments.length)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(a,b){var c="boolean"===typeof a;return e.isFunction(a)&&e.isFunction(b)?Tb.apply(this,arguments):this.each(function(){(c?
a:F(this))?e(this).show():e(this).hide()})}});e.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=W(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":e.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,g){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var l,h,f,s=e.camelCase(c),r=a.style;c=e.cssProps[s]||(e.cssProps[s]=C(r,s));f=e.cssHooks[c]||e.cssHooks[s];if(d!==b){h=
typeof d;if("string"===h&&(l=Rb.exec(d)))d=(l[1]+1)*l[2]+parseFloat(e.css(a,c)),h="number";if(!(null==d||"number"===h&&isNaN(d)))if("number"===h&&!e.cssNumber[s]&&(d+="px"),!f||!("set"in f)||(d=f.set(a,d,g))!==b)try{r[c]=d}catch(w){}}else return f&&"get"in f&&(l=f.get(a,!1,g))!==b?l:r[c]}},css:function(a,c,d,g){var l,h;h=e.camelCase(c);c=e.cssProps[h]||(e.cssProps[h]=C(a.style,h));(h=e.cssHooks[c]||e.cssHooks[h])&&"get"in h&&(l=h.get(a,!0,g));l===b&&(l=W(a,c));"normal"===l&&c in eb&&(l=eb[c]);return d||
g!==b?(a=parseFloat(l),d||e.isNumeric(a)?a||0:l):l},swap:function(a,b,c){var e,d={};for(e in b)d[e]=a.style[e],a.style[e]=b[e];c=c.call(a);for(e in b)a.style[e]=d[e];return c}});a.getComputedStyle?W=function(b,c){var d,g,l,h,f=a.getComputedStyle(b,null),s=b.style;f&&(d=f.getPropertyValue(c)||f[c],""===d&&!e.contains(b.ownerDocument,b)&&(d=e.style(b,c)),ua.test(d)&&db.test(c)&&(g=s.width,l=s.minWidth,h=s.maxWidth,s.minWidth=s.maxWidth=s.width=d,d=f.width,s.width=g,s.minWidth=l,s.maxWidth=h));return d}:
s.documentElement.currentStyle&&(W=function(a,b){var c,e,d=a.currentStyle&&a.currentStyle[b],g=a.style;null==d&&(g&&g[b])&&(d=g[b]);if(ua.test(d)&&!Pb.test(b)){c=g.left;if(e=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left="fontSize"===b?"1em":d;d=g.pixelLeft+"px";g.left=c;e&&(a.runtimeStyle.left=e)}return""===d?"auto":d});e.each(["height","width"],function(a,b){e.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&Qb.test(W(a,"display"))?e.swap(a,Sb,
function(){return T(a,b,d)}):T(a,b,d)},set:function(a,c,d){return Q(a,c,d?da(a,b,d,e.support.boxSizing&&"border-box"===e.css(a,"boxSizing")):0)}}});e.support.opacity||(e.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,g=e.isNumeric(b)?"alpha(opacity="+100*b+")":"",l=d&&d.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===e.trim(l.replace(Ka,""))&&c.removeAttribute)&&
(c.removeAttribute("filter"),d&&!d.filter))return;c.filter=Ka.test(l)?l.replace(Ka,g):l+" "+g}});e(function(){e.support.reliableMarginRight||(e.cssHooks.marginRight={get:function(a,b){return e.swap(a,{display:"inline-block"},function(){if(b)return W(a,"marginRight")})}});!e.support.pixelPosition&&e.fn.position&&e.each(["top","left"],function(a,b){e.cssHooks[b]={get:function(a,c){if(c){var d=W(a,b);return ua.test(d)?e(a).position()[b]+"px":d}}}})});e.expr&&e.expr.filters&&(e.expr.filters.hidden=function(a){return 0===
a.offsetWidth&&0===a.offsetHeight||!e.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||W(a,"display"))},e.expr.filters.visible=function(a){return!e.expr.filters.hidden(a)});e.each({margin:"",padding:"",border:"Width"},function(a,b){e.cssHooks[a+b]={expand:function(c){var e="string"===typeof c?c.split(" "):[c],d={};for(c=0;4>c;c++)d[a+ia[c]+b]=e[c]||e[c-2]||e[0];return d}};db.test(a)||(e.cssHooks[a+b].set=Q)});var Ub=/%20/g,tb=/\[\]$/,fb=/\r?\n/g,Vb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Wb=/^(?:select|textarea)/i;e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?e.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Wb.test(this.nodeName)||Vb.test(this.type))}).map(function(a,b){var c=e(this).val();return null==c?null:e.isArray(c)?e.map(c,function(a,c){return{name:b.name,value:a.replace(fb,"\r\n")}}):{name:b.name,value:c.replace(fb,"\r\n")}}).get()}});
e.param=function(a,c){var d,g=[],l=function(a,b){b=e.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=e.ajaxSettings&&e.ajaxSettings.traditional);if(e.isArray(a)||a.jquery&&!e.isPlainObject(a))e.each(a,function(){l(this.name,this.value)});else for(d in a)K(d,a[d],c,l);return g.join("&").replace(Ub,"+")};var ja,ka,Xb=/#.*$/,Yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Zb=/^(?:GET|HEAD)$/,$b=/^\/\//,gb=/\?/,ac=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
bc=/([?&])_=[^&]*/,hb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ib=e.fn.load,Ca={},jb={},kb=["*/"]+["*"];try{ka=V.href}catch(jc){ka=s.createElement("a"),ka.href="",ka=ka.href}ja=hb.exec(ka.toLowerCase())||[];e.fn.load=function(a,c,d){if("string"!==typeof a&&ib)return ib.apply(this,arguments);if(!this.length)return this;var g,l,h,f=this,s=a.indexOf(" ");0<=s&&(g=a.slice(s,a.length),a=a.slice(0,s));e.isFunction(c)?(d=c,c=b):c&&"object"===typeof c&&(l="POST");e.ajax({url:a,type:l,dataType:"html",
data:c,complete:function(a,b){d&&f.each(d,h||[a.responseText,b,a])}}).done(function(a){h=arguments;f.html(g?e("<div>").append(a.replace(ac,"")).find(g):a)});return this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){e.fn[b]=function(a){return this.on(b,a)}});e.each(["get","post"],function(a,c){e[c]=function(a,d,g,l){e.isFunction(d)&&(l=l||g,g=d,d=b);return e.ajax({type:c,url:a,data:d,success:g,dataType:l})}});e.extend({getScript:function(a,c){return e.get(a,
b,c,"script")},getJSON:function(a,b,c){return e.get(a,b,c,"json")},ajaxSetup:function(a,b){b?ba(a,e.ajaxSettings):(b=a,a=e.ajaxSettings);ba(a,b);return a},ajaxSettings:{url:ka,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ja[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":kb},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:N(Ca),ajaxTransport:N(jb),ajax:function(a,c){function d(a,c,h,m){var r,n,v,p,L=c;if(2!==S){S=2;s&&clearTimeout(s);f=b;l=m||"";y.readyState=0<a?4:0;if(h){p=k;m=y;var t,I,G,B,fa=p.contents,J=p.dataTypes,O=p.responseFields;for(I in O)I in h&&(m[O[I]]=h[I]);for(;"*"===J[0];)J.shift(),t===
b&&(t=p.mimeType||m.getResponseHeader("content-type"));if(t)for(I in fa)if(fa[I]&&fa[I].test(t)){J.unshift(I);break}if(J[0]in h)G=J[0];else{for(I in h){if(!J[0]||p.converters[I+" "+J[0]]){G=I;break}B||(B=I)}G=G||B}G?(G!==J[0]&&J.unshift(G),p=h[G]):p=void 0}if(200<=a&&300>a||304===a)if(k.ifModified&&((h=y.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=h),(h=y.getResponseHeader("Etag"))&&(e.etag[g]=h)),304===a)L="notmodified",r=!0;else{a:{n=k;v=p;var M,D,L=n.dataTypes.slice();t=L[0];I={};G=
0;n.dataFilter&&(v=n.dataFilter(v,n.dataType));if(L[1])for(M in n.converters)I[M.toLowerCase()]=n.converters[M];for(;h=L[++G];)if("*"!==h){if("*"!==t&&t!==h){M=I[t+" "+h]||I["* "+h];if(!M)for(D in I)if(r=D.split(" "),r[1]===h&&(M=I[t+" "+r[0]]||I["* "+r[0]])){!0===M?M=I[D]:!0!==I[D]&&(h=r[0],L.splice(G--,0,h));break}if(!0!==M)if(M&&n["throws"])v=M(v);else try{v=M(v)}catch(R){r={state:"parsererror",error:M?R:"No conversion from "+t+" to "+h};break a}}t=h}r={state:"success",data:v}}L=r.state;n=r.data;
v=r.error;r=!v}else if(v=L,!L||a)L="error",0>a&&(a=0);y.status=a;y.statusText=(c||L)+"";r?q.resolveWith(u,[n,L,y]):q.rejectWith(u,[y,L,v]);y.statusCode(V);V=b;w&&x.trigger("ajax"+(r?"Success":"Error"),[y,k,r?n:v]);z.fireWith(u,[y,L]);w&&(x.trigger("ajaxComplete",[y,k]),--e.active||e.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=b);c=c||{};var g,l,h,f,s,r,w,n,k=e.ajaxSetup({},c),u=k.context||k,x=u!==k&&(u.nodeType||u instanceof e)?e(u):e.event,q=e.Deferred(),z=e.Callbacks("once memory"),
V=k.statusCode||{},p={},L={},S=0,t="canceled",y={readyState:0,setRequestHeader:function(a,b){if(!S){var c=a.toLowerCase();a=L[c]=L[c]||a;p[a]=b}return this},getAllResponseHeaders:function(){return 2===S?l:null},getResponseHeader:function(a){var c;if(2===S){if(!h)for(h={};c=Yb.exec(l);)h[c[1].toLowerCase()]=c[2];c=h[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){S||(k.mimeType=a);return this},abort:function(a){a=a||t;f&&f.abort(a);d(0,a);return this}};q.promise(y);y.success=y.done;
y.error=y.fail;y.complete=z.add;y.statusCode=function(a){if(a){var b;if(2>S)for(b in a)V[b]=[V[b],a[b]];else b=a[y.status],y.always(b)}return this};k.url=((a||k.url)+"").replace(Xb,"").replace($b,ja[1]+"//");k.dataTypes=e.trim(k.dataType||"*").toLowerCase().split(ca);null==k.crossDomain&&(r=hb.exec(k.url.toLowerCase()),k.crossDomain=!(!r||!(r[1]!==ja[1]||r[2]!==ja[2]||(r[3]||("http:"===r[1]?80:443))!=(ja[3]||("http:"===ja[1]?80:443)))));k.data&&(k.processData&&"string"!==typeof k.data)&&(k.data=e.param(k.data,
k.traditional));P(Ca,k,c,y);if(2===S)return y;w=k.global;k.type=k.type.toUpperCase();k.hasContent=!Zb.test(k.type);w&&0===e.active++&&e.event.trigger("ajaxStart");if(!k.hasContent&&(k.data&&(k.url+=(gb.test(k.url)?"&":"?")+k.data,delete k.data),g=k.url,!1===k.cache)){r=e.now();var I=k.url.replace(bc,"$1_="+r);k.url=I+(I===k.url?(gb.test(k.url)?"&":"?")+"_="+r:"")}(k.data&&k.hasContent&&!1!==k.contentType||c.contentType)&&y.setRequestHeader("Content-Type",k.contentType);k.ifModified&&(g=g||k.url,e.lastModified[g]&&
y.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&y.setRequestHeader("If-None-Match",e.etag[g]));y.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+kb+"; q=0.01":""):k.accepts["*"]);for(n in k.headers)y.setRequestHeader(n,k.headers[n]);if(k.beforeSend&&(!1===k.beforeSend.call(u,y,k)||2===S))return y.abort();t="abort";for(n in{success:1,error:1,complete:1})y[n](k[n]);if(f=P(jb,k,c,y)){y.readyState=1;w&&x.trigger("ajaxSend",
[y,k]);k.async&&0<k.timeout&&(s=setTimeout(function(){y.abort("timeout")},k.timeout));try{S=1,f.send(p,d)}catch(G){if(2>S)d(-1,G);else throw G;}}else d(-1,"No Transport");return y},active:0,lastModified:{},etag:{}});var lb=[],cc=/\?/,za=/(=)\?(?=&|$)|\?\?/,ec=e.now();e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=lb.pop()||e.expando+"_"+ec++;this[a]=!0;return a}});e.ajaxPrefilter("json jsonp",function(c,d,g){var l,h,f,s=c.data,r=c.url,k=!1!==c.jsonp,n=k&&za.test(r),w=k&&!n&&"string"===
typeof s&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&za.test(s);if("jsonp"===c.dataTypes[0]||n||w)return l=c.jsonpCallback=e.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,h=a[l],n?c.url=r.replace(za,"$1"+l):w?c.data=s.replace(za,"$1"+l):k&&(c.url+=(cc.test(r)?"&":"?")+c.jsonp+"="+l),c.converters["script json"]=function(){f||e.error(l+" was not called");return f[0]},c.dataTypes[0]="json",a[l]=function(){f=arguments},g.always(function(){a[l]=h;c[l]&&(c.jsonpCallback=
d.jsonpCallback,lb.push(l));f&&e.isFunction(h)&&h(f[0]);f=h=b}),"script"});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){e.globalEval(a);return a}}});e.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});e.ajaxTransport("script",function(a){if(a.crossDomain){var c,e=s.head||s.getElementsByTagName("head")[0]||
s.documentElement;return{send:function(d,g){c=s.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,d){if(d||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,e&&c.parentNode&&e.removeChild(c),c=b,d||g(200,"success")};e.insertBefore(c,e.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var pa,La=a.ActiveXObject?function(){for(var a in pa)pa[a](0,1)}:!1,fc=0;e.ajaxSettings.xhr=
a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&X()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:X;(function(a){e.extend(e.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(e.ajaxSettings.xhr());e.support.ajax&&e.ajaxTransport(function(c){if(!c.crossDomain||e.support.cors){var d;return{send:function(g,l){var h,f,s=c.xhr();c.username?s.open(c.type,c.url,c.async,c.username,c.password):s.open(c.type,c.url,c.async);if(c.xhrFields)for(f in c.xhrFields)s[f]=
c.xhrFields[f];c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType);!c.crossDomain&&!g["X-Requested-With"]&&(g["X-Requested-With"]="XMLHttpRequest");try{for(f in g)s.setRequestHeader(f,g[f])}catch(r){}s.send(c.hasContent&&c.data||null);d=function(a,g){var f,r,k,n,w;try{if(d&&(g||4===s.readyState))if(d=b,h&&(s.onreadystatechange=e.noop,La&&delete pa[h]),g)4!==s.readyState&&s.abort();else{f=s.status;k=s.getAllResponseHeaders();n={};if((w=s.responseXML)&&w.documentElement)n.xml=w;try{n.text=
s.responseText}catch(u){}try{r=s.statusText}catch(x){r=""}!f&&c.isLocal&&!c.crossDomain?f=n.text?200:404:1223===f&&(f=204)}}catch(q){g||l(-1,q)}n&&l(f,r,n,k)};c.async?4===s.readyState?setTimeout(d,0):(h=++fc,La&&(pa||(pa={},e(a).unload(La)),pa[h]=d),s.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var na,Aa,gc=/^(?:toggle|show|hide)$/,hc=RegExp("^(?:([-+])=|)("+oa+")([a-z%]*)$","i"),ic=/queueHooks$/,va=[function(a,b,c){var d,g,l,h,f,s,r=this,k=a.style,n={},w=[],u=a.nodeType&&F(a);c.queue||
(f=e._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,s=f.empty.fire,f.empty.fire=function(){f.unqueued||s()}),f.unqueued++,r.always(function(){r.always(function(){f.unqueued--;e.queue(a,"fx").length||f.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))c.overflow=[k.overflow,k.overflowX,k.overflowY],"inline"===e.css(a,"display")&&"none"===e.css(a,"float")&&(!e.support.inlineBlockNeedsLayout||"inline"===p(a.nodeName)?k.display="inline-block":k.zoom=1);c.overflow&&(k.overflow="hidden",
e.support.shrinkWrapBlocks||r.done(function(){k.overflow=c.overflow[0];k.overflowX=c.overflow[1];k.overflowY=c.overflow[2]}));for(d in b)l=b[d],gc.exec(l)&&(delete b[d],g=g||"toggle"===l,l!==(u?"hide":"show")&&w.push(d));if(b=w.length){l=e._data(a,"fxshow")||e._data(a,"fxshow",{});"hidden"in l&&(u=l.hidden);g&&(l.hidden=!u);u?e(a).show():r.done(function(){e(a).hide()});r.done(function(){var b;e.removeData(a,"fxshow",!0);for(b in n)e.style(a,b,n[b])});for(d=0;d<b;d++)g=w[d],h=r.createTween(g,u?l[g]:
0),n[g]=l[g]||e.style(a,g),g in l||(l[g]=h.start,u&&(h.end=h.start,h.start="width"===g||"height"===g?1:0))}}],qa={"*":[function(a,b){var c,d,g=this.createTween(a,b),l=hc.exec(b),h=g.cur(),f=+h||0,s=1,r=20;if(l){c=+l[2];d=l[3]||(e.cssNumber[a]?"":"px");if("px"!==d&&f){f=e.css(g.elem,a,!0)||c||1;do s=s||".5",f/=s,e.style(g.elem,a,f+d);while(s!==(s=g.cur()/h)&&1!==s&&--r)}g.unit=d;g.start=f;g.end=l[1]?f+(l[1]+1)*c:c}return g}]};e.Animation=e.extend(x,{tweener:function(a,b){e.isFunction(a)?(b=a,a=["*"]):
a=a.split(" ");for(var c,d=0,g=a.length;d<g;d++)c=a[d],qa[c]=qa[c]||[],qa[c].unshift(b)},prefilter:function(a,b){b?va.unshift(a):va.push(a)}});e.Tween=G;G.prototype={constructor:G,init:function(a,b,c,d,g,l){this.elem=a;this.prop=c;this.easing=g||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=l||(e.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];
this.pos=this.options.duration?b=e.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):G.propHooks._default.set(this);return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=e.css(a.elem,a.prop,!1,"");return!a||"auto"===
a?0:a},set:function(a){if(e.fx.step[a.prop])e.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[e.cssProps[a.prop]]||e.cssHooks[a.prop])?e.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};e.each(["toggle","show","hide"],function(a,b){var c=e.fn[b];e.fn[b]=function(d,g,l){return null==d||"boolean"===typeof d||!a&&e.isFunction(d)&&e.isFunction(g)?c.apply(this,arguments):
this.animate(O(b,!0),d,g,l)}});e.fn.extend({fadeTo:function(a,b,c,e){return this.filter(F).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,d){var g=e.isEmptyObject(a),l=e.speed(b,c,d);b=function(){var b=x(this,e.extend({},a),l);g&&b.stop(!0)};return g||!1===l.queue?this.each(b):this.queue(l.queue,b)},stop:function(a,c,d){var g=function(a){var b=a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=c,c=a,a=b);c&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=
!0,c=null!=a&&a+"queueHooks",l=e.timers,h=e._data(this);if(c)h[c]&&h[c].stop&&g(h[c]);else for(c in h)h[c]&&(h[c].stop&&ic.test(c))&&g(h[c]);for(c=l.length;c--;)if(l[c].elem===this&&(null==a||l[c].queue===a))l[c].anim.stop(d),b=!1,l.splice(c,1);(b||!d)&&e.dequeue(this,a)})}});e.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){e.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});e.speed=
function(a,b,c){var d=a&&"object"===typeof a?e.extend({},a):{complete:c||!c&&b||e.isFunction(a)&&a,duration:a,easing:c&&b||b&&!e.isFunction(b)&&b};d.duration=e.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in e.fx.speeds?e.fx.speeds[d.duration]:e.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){e.isFunction(d.old)&&d.old.call(this);d.queue&&e.dequeue(this,d.queue)};return d};e.easing={linear:function(a){return a},swing:function(a){return 0.5-
Math.cos(a*Math.PI)/2}};e.timers=[];e.fx=G.prototype.init;e.fx.tick=function(){var a,c=e.timers,d=0;for(na=e.now();d<c.length;d++)a=c[d],!a()&&c[d]===a&&c.splice(d--,1);c.length||e.fx.stop();na=b};e.fx.timer=function(a){a()&&(e.timers.push(a)&&!Aa)&&(Aa=setInterval(e.fx.tick,e.fx.interval))};e.fx.interval=13;e.fx.stop=function(){clearInterval(Aa);Aa=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fx.step={};e.expr&&e.expr.filters&&(e.expr.filters.animated=function(a){return e.grep(e.timers,function(b){return a===
b.elem}).length});var mb=/^(?:body|html)$/i;e.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){e.offset.setOffset(this,a,b)});var c,d,g,l,h,f={top:0,left:0};if(g=(l=this[0])&&l.ownerDocument){if((d=g.body)===l)return e.offset.bodyOffset(l);c=g.documentElement;if(!e.contains(c,l))return f;"undefined"!==typeof l.getBoundingClientRect&&(f=l.getBoundingClientRect());g=ea(g);l=c.clientTop||d.clientTop||0;d=c.clientLeft||d.clientLeft||0;h=g.pageYOffset||c.scrollTop;c=g.pageXOffset||
c.scrollLeft;return{top:f.top+h-l,left:f.left+c-d}}};e.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;e.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(e.css(a,"marginTop"))||0,c+=parseFloat(e.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=e.css(a,"position");"static"===d&&(a.style.position="relative");var g=e(a),l=g.offset(),h=e.css(a,"top"),f=e.css(a,"left"),s={},r={};("absolute"===d||"fixed"===d)&&-1<e.inArray("auto",[h,f])?(r=g.position(),
d=r.top,f=r.left):(d=parseFloat(h)||0,f=parseFloat(f)||0);e.isFunction(b)&&(b=b.call(a,c,l));null!=b.top&&(s.top=b.top-l.top+d);null!=b.left&&(s.left=b.left-l.left+f);"using"in b?b.using.call(a,s):g.css(s)}};e.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=mb.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(e.css(a,"marginTop"))||0;c.left-=parseFloat(e.css(a,"marginLeft"))||0;d.top+=parseFloat(e.css(b[0],"borderTopWidth"))||0;d.left+=
parseFloat(e.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||s.body;a&&!mb.test(a.nodeName)&&"static"===e.css(a,"position");)a=a.offsetParent;return a||s.body})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);e.fn[a]=function(g){return e.access(this,function(a,g,l){var h=ea(a);if(l===b)return h?c in h?h[c]:h.document.documentElement[g]:a[g];h?h.scrollTo(!d?
l:e(h).scrollLeft(),d?l:e(h).scrollTop()):a[g]=l},a,g,arguments.length,null)}});e.each({Height:"height",Width:"width"},function(a,c){e.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,g){e.fn[g]=function(g,l){var h=arguments.length&&(d||"boolean"!==typeof g),f=d||(!0===g||!0===l?"margin":"border");return e.access(this,function(c,d,g){return e.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(d=c.documentElement,Math.max(c.body["scroll"+a],d["scroll"+a],c.body["offset"+a],
d["offset"+a],d["client"+a])):g===b?e.css(c,d,g,f):e.style(c,d,g,f)},c,h?g:b,h,null)}})});a.jQuery=a.$=e;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return e})})(window);
(function(a){a.ajaxSetup({dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0});var b="placeholder"in document.createElement("input");a.fn.extend({align:function(b,c,d){var q,t,u,g;c=c||"";d=d||{};var r=document.documentElement.scrollTop||document.body.scrollTop||0,z=document.documentElement.scrollLeft||document.body.scrollLeft||0,y=document.documentElement.clientWidth,D=document.documentElement.clientHeight;if(b==window)q=z,t=r,u=a(window).width(),g=a(window).height();else{b=a(b);var C=
b.offset();q=C.left;t=C.top;u=b.innerWidth();g=b.innerHeight()}b=this.innerWidth();C=this.innerHeight();q=0<=c.indexOf("-left")?q:0<=c.indexOf("left")?q-b:0<=c.indexOf("-right")?q+u-b:0<=c.indexOf("right")?q+u:q+(u-b)/2;t=0<=c.indexOf("-top")?t:0<=c.indexOf("top")?t-C:0<=c.indexOf("-bottom")?t+g-C:0<=c.indexOf("bottom")?t+g:t+(g-C)/2;c=0<=c.indexOf("no-constraint")?!1:!0;q+=d.left||0;t+=d.top||0;c&&(q=Math.max(z,Math.min(q,z+y-b)),t=Math.max(r,Math.min(t,r+D-C)));a(this).css({position:"absolute",
left:q+"px",top:t+"px"});return this},setMode:function(a,b){b=b||"mode";var c=RegExp("\\w+_"+b+"(\\s|$)","g"),d=null===a?"":a+"_"+b;this.each(function(){this.className=(this.className.replace(c,"")+" "+d).replace(/\s\s/g," ")});return d},serializeJSON:function(){return _.reduce(this.serializeArray(),function(a,b){a[b.name]=b.value;return a},{})},outerHTML:function(){return a("<div></div>").append(this.clone()).html()},autohide:function(b){var c=this;b=_.extend({clickable:null,onHide:null},b||{});
c._autoignore=!0;setTimeout(function(){delete c._autoignore},0);c._autohider||(c.forceHide=function(d){if(!d&&b.onHide)b.onHide();c.hide();a(document).unbind("click",c._autohider);a(document).unbind("keypress",c._autohider);c._autohider=null;c.forceHide=null},c._autohider=function(d){if(!(1<d.which)&&!c._autoignore&&(!b.clickable||!(c[0]==d.target||_.include(a(d.target).parents(),c[0]))))(!b.onHide||b.onHide(d))&&c.forceHide(d)},a(document).bind("click",this._autohider),a(document).bind("keypress",
this._autohider))},draggable:function(b){b||(b={});this.each(function(){var c=this,d=null,q=null,t=null,u=function(a){a.stopPropagation();a.preventDefault();return!1},g=_.bind(function(a){if(!c._drag)return u(a);d?d.css({top:a.pageY-t,left:a.pageX-q}):(c.style.left=c._drag.left+a.pageX-c._drag.x+"px",c.style.top=c._drag.top+a.pageY-c._drag.y+"px")},c),r=_.bind(function(q){a(document.body).unbind("selectstart",u);a(document.body).unbind("mouseup",r);a(document.body).unbind("mousemove",g);a(d||c).removeClass("dragging");
d&&a(d).remove();c._drag=null;if(b.onDrop)b.onDrop(q)},c),z=_.bind(function(z){var D;D=a(z.target).closest("input, select, textarea, label, a, canvas, .tickLabel, .minibutton, .text_link, .selectable_text, .not_draggable").length?!0:a(z.target).parents(".is_draggable").andSelf().length?u(z):!0;if(D)return!0;b.ghost&&(q=a(c).width()/2,t=a(c).height()/2,d=a(c).clone().css({position:"absolute",cursor:"copy","z-index":1E3,top:z.pageY-t,left:z.pageX-q}).appendTo(document.body));a(d||c).addClass("dragging");
c._drag={left:parseInt(c.style.left,10)||0,top:parseInt(c.style.top,10)||0,x:z.pageX,y:z.pageY};a(document.body).bind("selectstart",u);a(document.body).bind("mouseup",r);a(document.body).bind("mousemove",g)},c);a(c).bind(b.ghost?"dragstart":"mousedown",z)})},selectable:function(b){var c=a(document),d=a(".selection");a(this).bind("mousedown",_.bind(function(q){if(!(1<q.which)&&(!b.ignore||!a(q.target).closest(b.ignore).length)){var t=this.offset();if(!(q.pageX>t.left+this.outerWidth()-17||q.pageY>
t.top+this.outerHeight()-17)){q.preventDefault();dc.app.searchBox&&(dc.app.searchBox.removeFocus(),dc.app.searchBox.disableFacets());var u=a(b.select),g=this.scrollTop(),r=this.scrollLeft(),z=q.pageX,y=q.pageY,D=function(a){return{left:Math.min(z,a.pageX),top:Math.min(y,a.pageY),width:Math.abs(a.pageX-z),height:Math.abs(a.pageY-y)}},C=function(c){if(!(c.pageX==z&&c.pageY==y)){var d=D(c);c=d.left+r;for(var k=d.top+g,n=c+d.width,q=k+d.height,t=[],C=0;C<u.length;C++){var E=a(u[C]),d=E.offset(),F=d.left+
r,d=d.top+g,A=F+E.outerWidth(),h=d+E.outerHeight();c>A||(n<F||k>h||q<d)||t.push(E)}if(b.onSelect)b.onSelect(t)}},F=_.bind(function(a){a.stopPropagation();a.preventDefault();d.show().css(D(a));C(a)},this),E=_.bind(function(a){a.stopPropagation();a.preventDefault();c.unbind("mouseup",E).unbind("mousemove",F);C(a);d.hide()},this);c.bind("mouseup",E).bind("mousemove",F)}}},this))},textWithNewlines:function(b){var c="";a.each(b||this,function(){a.each(this.childNodes,function(){if(8!=this.nodeType){var b=
this.tagName&&this.tagName.toLowerCase();if("div"==b||"p"==b||"br"==b)c+="\n";c+=1!=this.nodeType?this.nodeValue:a.fn.textWithNewlines([this])}})});return c},placeholder:function(c){if(!b){var d=a.extend({},{className:"placeholder"},c),k;this.each(function(){var b=a(this),c=b.attr("placeholder"),f=a('<div class="'+d.className+'">'+c+"</div>");f.hide().prependTo(b[0].parentNode);b.bind("blur",function(){""==b.val()&&f.show()});b.bind("focus",function(){k=this;f.hide()});f.bind("click",function(){a(k).blur();
b.focus()});b.blur()})}}});jQuery.expr[":"].focus=function(a){return a===document.activeElement&&(a.type||a.href)};var c=["DOMMouseScroll","mousewheel"],d=function(b){var c=[].slice.call(arguments,1),d=0;b=a.event.fix(b||window.event);b.type="mousewheel";var q=b.wheelDelta||b.originalEvent.wheelDelta;q?d=q/3:b.detail&&(d=9*-b.detail);c.unshift(b,d);return a.event.handle.apply(this,c)};a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],
d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],d,!1);else this.onmousewheel=null}}})(jQuery);
jQuery.ui||function(a){a.ui={version:"1.8.1",plugin:{add:function(b,c,d){b=a.ui[b].prototype;for(var f in d)b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([c,d[f]])},call:function(a,c,d){if((c=a.plugins[c])&&a.element[0].parentNode)for(var f=0;f<c.length;f++)a.options[c[f][0]]&&c[f][1].apply(a.element,d)}},contains:function(a,c){return document.compareDocumentPosition?a.compareDocumentPosition(c)&16:a!==c&&a.contains(c)},hasScroll:function(b,c){if("hidden"==a(b).css("overflow"))return!1;c=c&&"left"==
c?"scrollLeft":"scrollTop";var d=!1;if(0<b[c])return!0;b[c]=1;d=0<b[c];b[c]=0;return d},isOverAxis:function(a,c,d){return a>c&&a<c+d},isOver:function(b,c,d,f,n,k){return a.ui.isOverAxis(b,d,n)&&a.ui.isOverAxis(c,f,k)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,
SHIFT:16,SPACE:32,TAB:9,UP:38}};a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"===typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus();c&&c.call(d)},b)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var b;b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(void 0!==
b)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var c;b.length&&b[0]!==document;){c=b.css("position");if("absolute"==c||"relative"==c||"fixed"==c)if(c=parseInt(b.css("zIndex")),!isNaN(c)&&0!=c)return c;b=b.parent()}}return 0}});a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){var c=b.nodeName.toLowerCase(),d=a.attr(b,"tabindex");return(/input|select|textarea|button|object/.test(c)?!b.disabled:"a"==c||"area"==c?b.href||!isNaN(d):!isNaN(d))&&!a(b)["area"==
c?"parents":"closest"](":hidden").length},tabbable:function(b){var c=a.attr(b,"tabindex");return(isNaN(c)||0<=c)&&a(b).is(":focusable")}})}(jQuery);
(function(a){var b=a.fn.remove;a.fn.remove=function(c,d){return this.each(function(){d||(!c||a.filter(c,[this]).length)&&a("*",this).add(this).each(function(){a(this).triggerHandler("remove")});return b.call(a(this),c,d)})};a.widget=function(b,d,f){var n=b.split(".")[0],k;b=b.split(".")[1];k=n+"-"+b;f||(f=d,d=a.Widget);a.expr[":"][k]=function(d){return!!a.data(d,b)};a[n]=a[n]||{};a[n][b]=function(a,b){arguments.length&&this._createWidget(a,b)};d=new d;d.options=a.extend({},d.options);a[n][b].prototype=
a.extend(!0,d,{namespace:n,widgetName:b,widgetEventPrefix:a[n][b].prototype.widgetEventPrefix||b,widgetBaseClass:k},f);a.widget.bridge(b,a[n][b])};a.widget.bridge=function(b,d){a.fn[b]=function(f){var n="string"===typeof f,k=Array.prototype.slice.call(arguments,1),q=this;f=!n&&k.length?a.extend.apply(null,[!0,f].concat(k)):f;if(n&&"_"===f.substring(0,1))return q;n?this.each(function(){var d=a.data(this,b),u=d&&a.isFunction(d[f])?d[f].apply(d,k):d;if(u!==d&&void 0!==u)return q=u,!1}):this.each(function(){var k=
a.data(this,b);k?(f&&k.option(f),k._init()):a.data(this,b,new d(f,this))});return q}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,d){this.element=a(d).data(this.widgetName,this);this.options=a.extend(!0,{},this.options,a.metadata&&a.metadata.get(d)[this.widgetName],b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._init()},
_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,d){var f=b,n=this;if(0===arguments.length)return a.extend({},n.options);if("string"===typeof b){if(void 0===d)return this.options[b];f={};f[b]=d}a.each(f,function(a,b){n._setOption(a,
b)});return n},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,d,f){var n=this.options[b];d=a.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();f=f||{};if(d.originalEvent){b=a.event.props.length;
for(var k;b;)k=a.event.props[--b],d[k]=d.originalEvent[k]}this.element.trigger(d,f);return!(a.isFunction(n)&&!1===n.call(this.element[0],d,f)||d.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(a._preventClickEvent)return a._preventClickEvent=!1,c.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(b);this._mouseDownEvent=b;var c=this,d=1==b.which,f="string"==typeof this.options.cancel?a(b.target).parents().add(b.target).filter(this.options.cancel).length:!1;if(!d||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted))return b.preventDefault(),
!0;this._mouseMoveDelegate=function(a){return c._mouseMove(a)};this._mouseUpDelegate=function(a){return c._mouseUp(a)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||b.preventDefault();return b.originalEvent.mouseHandled=!0}},_mouseMove:function(b){if(a.browser.msie&&!b.button)return this._mouseUp(b);if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&
((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,this._preventClickEvent=b.target==this._mouseDownEvent.target,this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),
Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d=a.fn.position,f=a.fn.offset;a.fn.position=function(f){if(!f||!f.of)return d.apply(this,arguments);f=a.extend({},f);var k=a(f.of),q=(f.collision||"flip").split(" "),t=f.offset?f.offset.split(" "):[0,0],u,g,r;9===f.of.nodeType?(u=k.width(),g=k.height(),r={top:0,left:0}):f.of.scrollTo&&f.of.document?(u=k.width(),g=k.height(),r={top:k.scrollTop(),left:k.scrollLeft()}):f.of.preventDefault?(f.at="left top",u=g=0,r={top:f.of.pageY,
left:f.of.pageX}):(u=k.outerWidth(),g=k.outerHeight(),r=k.offset());a.each(["my","at"],function(){var a=(f[this]||"").split(" ");1===a.length&&(a=b.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]);a[0]=b.test(a[0])?a[0]:"center";a[1]=c.test(a[1])?a[1]:"center";f[this]=a});1===q.length&&(q[1]=q[0]);t[0]=parseInt(t[0],10)||0;1===t.length&&(t[1]=t[0]);t[1]=parseInt(t[1],10)||0;"right"===f.at[0]?r.left+=u:"center"===f.at[0]&&(r.left+=u/2);"bottom"===f.at[1]?r.top+=
g:"center"===f.at[1]&&(r.top+=g/2);r.left+=t[0];r.top+=t[1];return this.each(function(){var b=a(this),c=b.outerWidth(),d=b.outerHeight(),k=a.extend({},r);"right"===f.my[0]?k.left-=c:"center"===f.my[0]&&(k.left-=c/2);"bottom"===f.my[1]?k.top-=d:"center"===f.my[1]&&(k.top-=d/2);k.left=parseInt(k.left);k.top=parseInt(k.top);a.each(["left","top"],function(b,r){a.ui.position[q[b]]&&a.ui.position[q[b]][r](k,{targetWidth:u,targetHeight:g,elemWidth:c,elemHeight:d,offset:t,my:f.my,at:f.at})});a.fn.bgiframe&&
b.bgiframe();b.offset(a.extend(k,{using:f.using}))})};a.ui.position={fit:{left:function(b,c){var d=a(window);c=b.left+c.elemWidth-d.width()-d.scrollLeft();b.left=0<c?b.left-c:Math.max(0,b.left)},top:function(b,c){var d=a(window);c=b.top+c.elemHeight-d.height()-d.scrollTop();b.top=0<c?b.top-c:Math.max(0,b.top)}},flip:{left:function(b,c){if("center"!==c.at[0]){var d=a(window),d=b.left+c.elemWidth-d.width()-d.scrollLeft(),f="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,u=-2*c.offset[0];
b.left+=0>b.left?f+c.targetWidth+u:0<d?f-c.targetWidth+u:0}},top:function(b,c){if("center"!==c.at[1]){var d=a(window),d=b.top+c.elemHeight-d.height()-d.scrollTop(),f="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,u="top"===c.at[1]?c.targetHeight:-c.targetHeight,g=-2*c.offset[1];b.top+=0>b.top?f+c.targetHeight+g:0<d?f+u+g:0}}}};a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),f=d.offset(),u=parseInt(a.curCSS(b,
"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,f={top:c.top-f.top+u,left:c.left-f.left+g};"using"in c?c.using.call(b,f):d.css(f)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):f.call(this)})})(jQuery);
(function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,c=this.options;this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");c.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");
this.range=a([]);c.range&&(!0===c.range?(this.range=a("<div></div>"),c.values||(c.values=[this._valueMin(),this._valueMin()]),c.values.length&&2!==c.values.length&&(c.values=[c.values[0],c.values[0]])):this.range=a("<div></div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),("min"===c.range||"max"===c.range)&&this.range.addClass("ui-slider-range-"+c.range),this.range.addClass("ui-widget-header"));0===a(".ui-slider-handle",this.element).length&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");
if(c.values&&c.values.length)for(;a(".ui-slider-handle",this.element).length<c.values.length;)a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){c.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){c.disabled?
a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)});this.handles.keydown(function(c){var f=!0,n=a(this).data("index.ui-slider-handle"),k,q,t;if(!b.options.disabled){switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f=
!1,!b._keySliding&&(b._keySliding=!0,a(this).addClass("ui-state-active"),k=b._start(c,n),!1===k))return}t=b.options.step;k=b.options.values&&b.options.values.length?q=b.values(n):q=b.value();switch(c.keyCode){case a.ui.keyCode.HOME:q=b._valueMin();break;case a.ui.keyCode.END:q=b._valueMax();break;case a.ui.keyCode.PAGE_UP:q=k+(b._valueMax()-b._valueMin())/5;break;case a.ui.keyCode.PAGE_DOWN:q=k-(b._valueMax()-b._valueMin())/5;break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(k===b._valueMax())return;
q=k+t;break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(k===b._valueMin())return;q=k-t}b._slide(c,n,q);return f}}).keyup(function(c){var f=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,f),b._change(c,f),a(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");
this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options,d,f,n,k,q,t;if(c.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();d={x:b.pageX,y:b.pageY};f=this._normValueFromMouse(d);n=this._valueMax()-this._valueMin()+1;q=this;this.handles.each(function(b){var c=Math.abs(f-q.values(b));n>c&&(n=c,k=a(this),t=b)});!0===c.range&&this.values(1)===c.min&&(t+=1,k=a(this.handles[t]));if(!1===this._start(b,
t))return!1;this._mouseSliding=!0;q._handleIndex=t;k.addClass("ui-state-active").focus();c=k.offset();this._clickOffset=!a(b.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:b.pageX-c.left-k.width()/2,top:b.pageY-c.top-k.height()/2-(parseInt(k.css("borderTopWidth"),10)||0)-(parseInt(k.css("borderBottomWidth"),10)||0)+(parseInt(k.css("marginTop"),10)||0)};f=this._normValueFromMouse(d);this._slide(b,t,f);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var c=
this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var c;"horizontal"===this.orientation?(c=this.elementSize.width,
a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(c=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));c=a/c;1<c&&(c=1);0>c&&(c=0);"vertical"===this.orientation&&(c=1-c);a=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+c*a)},_start:function(a,c){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());return this._trigger("start",
a,d)},_slide:function(a,c,d){var f;if(this.options.values&&this.options.values.length){f=this.values(c?0:1);if(2===this.options.values.length&&!0===this.options.range&&(0===c&&d>f||1===c&&d<f))d=f;d!==this.values(c)&&(f=this.values(),f[c]=d,a=this._trigger("slide",a,{handle:this.handles[c],value:d,values:f}),this.values(c?0:1),!1!==a&&this.values(c,d,!0))}else d!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[c],value:d}),!1!==a&&this.value(d))},_stop:function(a,c){var d={handle:this.handles[c],
value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());this._trigger("stop",a,d)},_change:function(a,c){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(d.value=this.values(c),d.values=this.values());this._trigger("change",a,d)}},value:function(a){arguments.length&&(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,
0));return this._value()},values:function(b,c){var d,f,n;1<arguments.length&&(this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b));if(arguments.length)if(a.isArray(arguments[0])){d=this.options.values;f=arguments[0];for(n=0;n<d.length;n+=1)d[n]=this._trimAlignValue(f[n]),this._change(null,n);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(b):this.value();else return this._values()},_setOption:function(b,c){var d,f=
0;a.isArray(this.options.values)&&(f=this.options.values.length);a.Widget.prototype._setOption.apply(this,arguments);switch(b){case "disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(d=0;d<f;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var c,d;if(arguments.length)return c=this.options.values[a],this._trimAlignValue(c);c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);
return c},_trimAlignValue:function(a){if(a<this._valueMin())return this._valueMin();if(a>this._valueMax())return this._valueMax();var c=this.options.step,d=a%c;a-=d;d>=c/2&&(a+=c);return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,f=!this._animateOff?c.animate:!1,n,k={},q,t,u,g;if(this.options.values&&this.options.values.length)this.handles.each(function(b){n=
100*((d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin()));k["horizontal"===d.orientation?"left":"bottom"]=n+"%";a(this).stop(1,1)[f?"animate":"css"](k,c.animate);if(!0===d.options.range)if("horizontal"===d.orientation){if(0===b)d.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},c.animate);if(1===b)d.range[f?"animate":"css"]({width:n-q+"%"},{queue:!1,duration:c.animate})}else{if(0===b)d.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},c.animate);if(1===b)d.range[f?"animate":"css"]({height:n-
q+"%"},{queue:!1,duration:c.animate})}q=n});else{t=this.value();u=this._valueMin();g=this._valueMax();n=g!==u?100*((t-u)/(g-u)):0;k["horizontal"===d.orientation?"left":"bottom"]=n+"%";this.handle.stop(1,1)[f?"animate":"css"](k,c.animate);if("min"===b&&"horizontal"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},c.animate);if("max"===b&&"horizontal"===this.orientation)this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:c.animate});if("min"===b&&"vertical"===
this.orientation)this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},c.animate);if("max"===b&&"vertical"===this.orientation)this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:c.animate})}}});a.extend(a.ui.slider,{version:"1.8.1"})})(jQuery);
jQuery.effects||function(a){function b(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],
16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(b)?k.transparent:k[a.trim(b).toLowerCase()]}function c(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var f=a.length;f--;)c=a[f],"string"==typeof a[c]&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)"string"===
typeof a[c]&&(b[c]=a[c]);return b}function d(b){var c,d;for(c in b)d=b[c],(null==d||a.isFunction(d)||c in t||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function f(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function n(b,c,d,f){"object"==typeof b&&(f=c,d=null,c=b,b=c.effect);a.isFunction(c)&&(f=c,d=null,c={});a.isFunction(d)&&(f=d,d=null);if("number"==typeof c||a.fx.speeds[c])f=d,d=c,c={};c=c||{};d=d||c.duration;d=a.fx.off?0:"number"==typeof d?
d:a.fx.speeds[d]||a.fx.speeds._default;f=f||c.complete;return[b,c,d,f]}a.effects={};a.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),function(c,d){a.fx.step[d]=function(c){if(!c.colorInit){var f;f=c.elem;var k=d,u;do{u=a.curCSS(f,k);if(""!=u&&"transparent"!=u||a.nodeName(f,"body"))break;k="backgroundColor"}while(f=f.parentNode);f=b(u);c.start=f;c.end=b(c.end);c.colorInit=!0}c.elem.style[d]="rgb("+Math.max(Math.min(parseInt(c.pos*
(c.end[0]-c.start[0])+c.start[0],10),255),0)+","+Math.max(Math.min(parseInt(c.pos*(c.end[1]-c.start[1])+c.start[1],10),255),0)+","+Math.max(Math.min(parseInt(c.pos*(c.end[2]-c.start[2])+c.start[2],10),255),0)+")"}});var k={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],
darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,
0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},q=["add","remove","toggle"],t={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,g,r,k){a.isFunction(r)&&(k=r,r=null);return this.each(function(){var n=a(this),t=n.attr("style")||" ",C=d(c.call(this)),F,E=n.attr("className");a.each(q,function(a,c){b[c]&&n[c+"Class"](b[c])});F=d(c.call(this));n.attr("className",
E);n.animate(f(C,F),g,r,function(){a.each(q,function(a,c){b[c]&&n[c+"Class"](b[c])});"object"==typeof n.attr("style")?(n.attr("style").cssText="",n.attr("style").cssText=t):n.attr("style",t);k&&k.apply(this,arguments)})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,f){return c?a.effects.animateClass.apply(this,[{add:b},c,d,f]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,f){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,f]):this._removeClass(b)},
_toggleClass:a.fn.toggleClass,toggleClass:function(b,c,d,f,k){return"boolean"==typeof c||void 0===c?d?a.effects.animateClass.apply(this,[c?{add:b}:{remove:b},d,f,k]):this._toggleClass(b,c):a.effects.animateClass.apply(this,[{toggle:b},c,d,f])},switchClass:function(b,c,d,f,k){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,f,k])}});a.extend(a.effects,{version:"1.8.1",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,
b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){"toggle"==b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c;switch(a[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":a=0;break;case "center":a=0.5;break;case "right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();
var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});b.wrap(d);d=b.parent();"static"==b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d);isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",
top:0,left:0}));return d.css(c).show()},removeWrapper:function(a){return a.parent().is(".ui-effects-wrapper")?a.parent().replaceWith(a):a},setTransition:function(b,c,d,f){f=f||{};a.each(c,function(a,c){unit=b.cssUnit(c);0<unit[0]&&(f[c]=unit[0]*d+unit[1])});return f}});a.fn.extend({effect:function(b){var c=n.apply(this,arguments),c={options:c[1],duration:c[2],callback:c[3]},d=a.effects[b];return d&&!a.fx.off?d.call(this,c):this},_show:a.fn.show,show:function(b){if(!b||"number"==typeof b||a.fx.speeds[b])return this._show.apply(this,
arguments);var c=n.apply(this,arguments);c[1].mode="show";return this.effect.apply(this,c)},_hide:a.fn.hide,hide:function(b){if(!b||"number"==typeof b||a.fx.speeds[b])return this._hide.apply(this,arguments);var c=n.apply(this,arguments);c[1].mode="hide";return this.effect.apply(this,c)},__toggle:a.fn.toggle,toggle:function(b){if(!b||"number"==typeof b||a.fx.speeds[b]||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=n.apply(this,arguments);c[1].mode="toggle";return this.effect.apply(this,
c)},cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])});return d}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,f,k){return a.easing[a.easing.def](b,c,d,f,k)},easeInQuad:function(a,b,c,d,f){return d*(b/=f)*b+c},easeOutQuad:function(a,b,c,d,f){return-d*(b/=f)*(b-2)+c},easeInOutQuad:function(a,b,c,d,f){return 1>(b/=f/2)?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,f){return d*
(b/=f)*b*b+c},easeOutCubic:function(a,b,c,d,f){return d*((b=b/f-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,f){return 1>(b/=f/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,f){return d*(b/=f)*b*b*b+c},easeOutQuart:function(a,b,c,d,f){return-d*((b=b/f-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,f){return 1>(b/=f/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,f){return d*(b/=f)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,f){return d*((b=b/f-1)*b*b*b*b+1)+
c},easeInOutQuint:function(a,b,c,d,f){return 1>(b/=f/2)?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,f){return-d*Math.cos(b/f*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,f){return d*Math.sin(b/f*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,f){return-d/2*(Math.cos(Math.PI*b/f)-1)+c},easeInExpo:function(a,b,c,d,f){return 0==b?c:d*Math.pow(2,10*(b/f-1))+c},easeOutExpo:function(a,b,c,d,f){return b==f?c+d:d*(-Math.pow(2,-10*b/f)+1)+c},easeInOutExpo:function(a,b,c,d,f){return 0==
b?c:b==f?c+d:1>(b/=f/2)?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,f){return-d*(Math.sqrt(1-(b/=f)*b)-1)+c},easeOutCirc:function(a,b,c,d,f){return d*Math.sqrt(1-(b=b/f-1)*b)+c},easeInOutCirc:function(a,b,c,d,f){return 1>(b/=f/2)?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,f){var k=0,n=d;if(0==b)return c;if(1==(b/=f))return c+d;k||(k=0.3*f);n<Math.abs(d)?(n=d,a=k/4):a=k/(2*Math.PI)*Math.asin(d/n);return-(n*
Math.pow(2,10*(b-=1))*Math.sin(2*(b*f-a)*Math.PI/k))+c},easeOutElastic:function(a,b,c,d,f){var k=0,n=d;if(0==b)return c;if(1==(b/=f))return c+d;k||(k=0.3*f);n<Math.abs(d)?(n=d,a=k/4):a=k/(2*Math.PI)*Math.asin(d/n);return n*Math.pow(2,-10*b)*Math.sin(2*(b*f-a)*Math.PI/k)+d+c},easeInOutElastic:function(a,b,c,d,f){var k=0,n=d;if(0==b)return c;if(2==(b/=f/2))return c+d;k||(k=1.5*0.3*f);n<Math.abs(d)?(n=d,a=k/4):a=k/(2*Math.PI)*Math.asin(d/n);return 1>b?-0.5*n*Math.pow(2,10*(b-=1))*Math.sin(2*(b*f-a)*
Math.PI/k)+c:0.5*n*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*f-a)*Math.PI/k)+d+c},easeInBack:function(a,b,c,d,f,k){void 0==k&&(k=1.70158);return d*(b/=f)*b*((k+1)*b-k)+c},easeOutBack:function(a,b,c,d,f,k){void 0==k&&(k=1.70158);return d*((b=b/f-1)*b*((k+1)*b+k)+1)+c},easeInOutBack:function(a,b,c,d,f,k){void 0==k&&(k=1.70158);return 1>(b/=f/2)?d/2*b*b*(((k*=1.525)+1)*b-k)+c:d/2*((b-=2)*b*(((k*=1.525)+1)*b+k)+2)+c},easeInBounce:function(b,c,d,f,k){return f-a.easing.easeOutBounce(b,k-c,0,f,k)+d},easeOutBounce:function(a,
b,c,d,f){return(b/=f)<1/2.75?7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+0.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+0.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+0.984375)+c},easeInOutBounce:function(b,c,d,f,k){return c<k/2?0.5*a.easing.easeInBounce(b,2*c,0,f,k)+d:0.5*a.easing.easeOutBounce(b,2*c-k,0,f,k)+0.5*f+d}})}(jQuery);
(function(a){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","left"],f=a.effects.setMode(c,b.options.mode||"hide"),n=b.options.direction||"vertical";a.effects.save(c,d);c.show();var k=a.effects.createWrapper(c).css({overflow:"hidden"}),q="vertical"==n?"height":"width",n="vertical"==n?k.height():k.width();"show"==f&&k.css(q,0);var t={};t[q]="show"==f?n:0;k.animate(t,b.duration,b.options.easing,function(){"hide"==f&&c.hide();a.effects.restore(c,d);a.effects.removeWrapper(c);
b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);
(function(){var a=this,b=a._,c={},d=Array.prototype,f=Object.prototype,n=d.push,k=d.slice,q=d.concat,t=f.toString,u=f.hasOwnProperty,g=d.forEach,r=d.map,z=d.reduce,y=d.reduceRight,D=d.filter,C=d.every,F=d.some,E=d.indexOf,Q=d.lastIndexOf,f=Array.isArray,da=Object.keys,T=Function.prototype.bind,p=function(a){if(a instanceof p)return a;if(!(this instanceof p))return new p(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=p),exports._=
p):a._=p;p.VERSION="1.4.3";var K=p.each=p.forEach=function(a,b,d){if(null!=a)if(g&&a.forEach===g)a.forEach(b,d);else if(a.length===+a.length)for(var f=0,h=a.length;f<h&&b.call(d,a[f],f,a)!==c;f++);else for(f in a)if(p.has(a,f)&&b.call(d,a[f],f,a)===c)break};p.map=p.collect=function(a,b,c){var d=[];if(null==a)return d;if(r&&a.map===r)return a.map(b,c);K(a,function(a,l,f){d[d.length]=b.call(c,a,l,f)});return d};p.reduce=p.foldl=p.inject=function(a,b,c,d){var f=2<arguments.length;null==a&&(a=[]);if(z&&
a.reduce===z)return d&&(b=p.bind(b,d)),f?a.reduce(b,c):a.reduce(b);K(a,function(a,l,h){f?c=b.call(d,c,a,l,h):(c=a,f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return c};p.reduceRight=p.foldr=function(a,b,c,d){var f=2<arguments.length;null==a&&(a=[]);if(y&&a.reduceRight===y)return d&&(b=p.bind(b,d)),f?a.reduceRight(b,c):a.reduceRight(b);var h=a.length;if(h!==+h)var g=p.keys(a),h=g.length;K(a,function(k,x,n){x=g?g[--h]:--h;f?c=b.call(d,c,a[x],x,n):(c=a[x],f=!0)});
if(!f)throw new TypeError("Reduce of empty array with no initial value");return c};p.find=p.detect=function(a,b,c){var d;N(a,function(a,f,l){if(b.call(c,a,f,l))return d=a,!0});return d};p.filter=p.select=function(a,b,c){var d=[];if(null==a)return d;if(D&&a.filter===D)return a.filter(b,c);K(a,function(a,f,l){b.call(c,a,f,l)&&(d[d.length]=a)});return d};p.reject=function(a,b,c){return p.filter(a,function(a,d,f){return!b.call(c,a,d,f)},c)};p.every=p.all=function(a,b,d){b||(b=p.identity);var f=!0;if(null==
a)return f;if(C&&a.every===C)return a.every(b,d);K(a,function(a,l,h){if(!(f=f&&b.call(d,a,l,h)))return c});return!!f};var N=p.some=p.any=function(a,b,d){b||(b=p.identity);var f=!1;if(null==a)return f;if(F&&a.some===F)return a.some(b,d);K(a,function(a,l,h){if(f||(f=b.call(d,a,l,h)))return c});return!!f};p.contains=p.include=function(a,b){return null==a?!1:E&&a.indexOf===E?-1!=a.indexOf(b):N(a,function(a){return a===b})};p.invoke=function(a,b){var c=k.call(arguments,2);return p.map(a,function(a){return(p.isFunction(b)?
b:a[b]).apply(a,c)})};p.pluck=function(a,b){return p.map(a,function(a){return a[b]})};p.where=function(a,b){return p.isEmpty(b)?[]:p.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};p.max=function(a,b,c){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&p.isEmpty(a))return-Infinity;var d={computed:-Infinity,value:-Infinity};K(a,function(a,f,h){f=b?b.call(c,a,f,h):a;f>=d.computed&&(d={value:a,computed:f})});return d.value};p.min=function(a,
b,c){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&p.isEmpty(a))return Infinity;var d={computed:Infinity,value:Infinity};K(a,function(a,f,h){f=b?b.call(c,a,f,h):a;f<d.computed&&(d={value:a,computed:f})});return d.value};p.shuffle=function(a){var b,c=0,d=[];K(a,function(a){b=p.random(c++);d[c-1]=d[b];d[b]=a});return d};var P=function(a){return p.isFunction(a)?a:function(b){return b[a]}};p.sortBy=function(a,b,c){var d=P(b);return p.pluck(p.map(a,function(a,b,
f){return{value:a,index:b,criteria:d.call(c,a,b,f)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var ba=function(a,b,c,d){var f={},h=P(b||p.identity);K(a,function(b,g){var k=h.call(c,b,g,a);d(f,k,b)});return f};p.groupBy=function(a,b,c){return ba(a,b,c,function(a,b,c){(p.has(a,b)?a[b]:a[b]=[]).push(c)})};p.countBy=function(a,b,c){return ba(a,b,c,function(a,b){p.has(a,b)||(a[b]=0);a[b]++})};
p.sortedIndex=function(a,b,c,d){c=null==c?p.identity:P(c);b=c.call(d,b);for(var f=0,h=a.length;f<h;){var g=f+h>>>1;c.call(d,a[g])<b?f=g+1:h=g}return f};p.toArray=function(a){return!a?[]:p.isArray(a)?k.call(a):a.length===+a.length?p.map(a,p.identity):p.values(a)};p.size=function(a){return null==a?0:a.length===+a.length?a.length:p.keys(a).length};p.first=p.head=p.take=function(a,b,c){return null==a?void 0:null!=b&&!c?k.call(a,0,b):a[0]};p.initial=function(a,b,c){return k.call(a,0,a.length-(null==b||
c?1:b))};p.last=function(a,b,c){return null==a?void 0:null!=b&&!c?k.call(a,Math.max(a.length-b,0)):a[a.length-1]};p.rest=p.tail=p.drop=function(a,b,c){return k.call(a,null==b||c?1:b)};p.compact=function(a){return p.filter(a,p.identity)};var X=function(a,b,c){K(a,function(a){p.isArray(a)?b?n.apply(c,a):X(a,b,c):c.push(a)});return c};p.flatten=function(a,b){return X(a,b,[])};p.without=function(a){return p.difference(a,k.call(arguments,1))};p.uniq=p.unique=function(a,b,c,d){p.isFunction(b)&&(d=c,c=b,
b=!1);c=c?p.map(a,c,d):a;var f=[],h=[];K(c,function(c,d){if(b?!d||h[h.length-1]!==c:!p.contains(h,c))h.push(c),f.push(a[d])});return f};p.union=function(){return p.uniq(q.apply(d,arguments))};p.intersection=function(a){var b=k.call(arguments,1);return p.filter(p.uniq(a),function(a){return p.every(b,function(b){return 0<=p.indexOf(b,a)})})};p.difference=function(a){var b=q.apply(d,k.call(arguments,1));return p.filter(a,function(a){return!p.contains(b,a)})};p.zip=function(){for(var a=k.call(arguments),
b=p.max(p.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=p.pluck(a,""+d);return c};p.object=function(a,b){if(null==a)return{};for(var c={},d=0,f=a.length;d<f;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};p.indexOf=function(a,b,c){if(null==a)return-1;var d=0,f=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,f+c):c;else return d=p.sortedIndex(a,b),a[d]===b?d:-1;if(E&&a.indexOf===E)return a.indexOf(b,c);for(;d<f;d++)if(a[d]===b)return d;return-1};p.lastIndexOf=function(a,b,c){if(null==a)return-1;
var d=null!=c;if(Q&&a.lastIndexOf===Q)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};p.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),f=0,h=Array(d);f<d;)h[f++]=a,a+=c;return h};var A=function(){};p.bind=function(a,b){var c,d;if(a.bind===T&&T)return T.apply(a,k.call(arguments,1));if(!p.isFunction(a))throw new TypeError;c=k.call(arguments,2);return d=function(){if(!(this instanceof
d))return a.apply(b,c.concat(k.call(arguments)));A.prototype=a.prototype;var f=new A;A.prototype=null;var h=a.apply(f,c.concat(k.call(arguments)));return Object(h)===h?h:f}};p.bindAll=function(a){var b=k.call(arguments,1);0==b.length&&(b=p.functions(a));K(b,function(b){a[b]=p.bind(a[b],a)});return a};p.memoize=function(a,b){var c={};b||(b=p.identity);return function(){var d=b.apply(this,arguments);return p.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};p.delay=function(a,b){var c=k.call(arguments,2);
return setTimeout(function(){return a.apply(null,c)},b)};p.defer=function(a){return p.delay.apply(p,[a,1].concat(k.call(arguments,1)))};p.throttle=function(a,b){var c,d,f,h,g=0,k=function(){g=new Date;f=null;h=a.apply(c,d)};return function(){var x=new Date,n=b-(x-g);c=this;d=arguments;0>=n?(clearTimeout(f),f=null,g=x,h=a.apply(c,d)):f||(f=setTimeout(k,n));return h}};p.debounce=function(a,b,c){var d,f;return function(){var h=this,g=arguments,k=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||
(f=a.apply(h,g))},b);k&&(f=a.apply(h,g));return f}};p.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};p.wrap=function(a,b){return function(){var c=[a];n.apply(c,arguments);return b.apply(this,c)}};p.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};p.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};p.keys=da||function(a){if(a!==
Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)p.has(a,c)&&(b[b.length]=c);return b};p.values=function(a){var b=[],c;for(c in a)p.has(a,c)&&b.push(a[c]);return b};p.pairs=function(a){var b=[],c;for(c in a)p.has(a,c)&&b.push([c,a[c]]);return b};p.invert=function(a){var b={},c;for(c in a)p.has(a,c)&&(b[a[c]]=c);return b};p.functions=p.methods=function(a){var b=[],c;for(c in a)p.isFunction(a[c])&&b.push(c);return b.sort()};p.extend=function(a){K(k.call(arguments,1),function(b){if(b)for(var c in b)a[c]=
b[c]});return a};p.pick=function(a){var b={},c=q.apply(d,k.call(arguments,1));K(c,function(c){c in a&&(b[c]=a[c])});return b};p.omit=function(a){var b={},c=q.apply(d,k.call(arguments,1)),f;for(f in a)p.contains(c,f)||(b[f]=a[f]);return b};p.defaults=function(a){K(k.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])});return a};p.clone=function(a){return!p.isObject(a)?a:p.isArray(a)?a.slice():p.extend({},a)};p.tap=function(a,b){b(a);return a};var h=function(a,b,c,d){if(a===b)return 0!==
a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped);b instanceof p&&(b=b._wrapped);var f=t.call(a);if(f!=t.call(b))return!1;switch(f){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var g=
c.length;g--;)if(c[g]==a)return d[g]==b;c.push(a);d.push(b);var g=0,k=!0;if("[object Array]"==f){if(g=a.length,k=g==b.length)for(;g--&&(k=h(a[g],b[g],c,d)););}else{var f=a.constructor,w=b.constructor;if(f!==w&&(!p.isFunction(f)||!(f instanceof f&&p.isFunction(w)&&w instanceof w)))return!1;for(var x in a)if(p.has(a,x)&&(g++,!(k=p.has(b,x)&&h(a[x],b[x],c,d))))break;if(k){for(x in b)if(p.has(b,x)&&!g--)break;k=!g}}c.pop();d.pop();return k};p.isEqual=function(a,b){return h(a,b,[],[])};p.isEmpty=function(a){if(null==
a)return!0;if(p.isArray(a)||p.isString(a))return 0===a.length;for(var b in a)if(p.has(a,b))return!1;return!0};p.isElement=function(a){return!!(a&&1===a.nodeType)};p.isArray=f||function(a){return"[object Array]"==t.call(a)};p.isObject=function(a){return a===Object(a)};K("Arguments Function String Number Date RegExp".split(" "),function(a){p["is"+a]=function(b){return t.call(b)=="[object "+a+"]"}});p.isArguments(arguments)||(p.isArguments=function(a){return!(!a||!p.has(a,"callee"))});"function"!==typeof/./&&
(p.isFunction=function(a){return"function"===typeof a});p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};p.isNaN=function(a){return p.isNumber(a)&&a!=+a};p.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==t.call(a)};p.isNull=function(a){return null===a};p.isUndefined=function(a){return void 0===a};p.has=function(a,b){return u.call(a,b)};p.noConflict=function(){a._=b;return this};p.identity=function(a){return a};p.times=function(a,b,c){for(var d=Array(a),f=0;f<a;f++)d[f]=
b.call(c,f);return d};p.random=function(a,b){null==b&&(b=a,a=0);return a+(0|Math.random()*(b-a+1))};var x={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};x.unescape=p.invert(x.escape);var L={escape:RegExp("["+p.keys(x.escape).join("")+"]","g"),unescape:RegExp("("+p.keys(x.unescape).join("|")+")","g")};p.each(["escape","unescape"],function(a){p[a]=function(b){return null==b?"":(""+b).replace(L[a],function(b){return x[a][b]})}});p.result=function(a,b){if(null==a)return null;
var c=a[b];return p.isFunction(c)?c.call(a):c};p.mixin=function(a){K(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];n.apply(a,arguments);a=c.apply(p,a);return this._chain?p(a).chain():a}})};var G=0;p.uniqueId=function(a){var b=""+ ++G;return a?a+b:b};p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,ea={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\t|\u2028|\u2029/g;
p.template=function(a,b,c){c=p.defaults({},c,p.templateSettings);var d=RegExp([(c.escape||O).source,(c.interpolate||O).source,(c.evaluate||O).source].join("|")+"|$","g"),f=0,h="__p+='";a.replace(d,function(b,c,d,g,e){h+=a.slice(f,e).replace(U,function(a){return"\\"+ea[a]});c&&(h+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");d&&(h+="'+\n((__t=("+d+"))==null?'':__t)+\n'");g&&(h+="';\n"+g+"\n__p+='");f=e+b.length;return b});h+="';\n";c.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
h+"return __p;\n";try{var g=new Function(c.variable||"obj","_",h)}catch(k){throw k.source=h,k;}if(b)return g(b,p);b=function(a){return g.call(this,a,p)};b.source="function("+(c.variable||"obj")+"){\n"+h+"}";return b};p.chain=function(a){return p(a).chain()};p.mixin(p);K("pop push reverse shift sort splice unshift".split(" "),function(a){var b=d[a];p.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);("shift"==a||"splice"==a)&&0===c.length&&delete c[0];return this._chain?p(c).chain():
c}});K(["concat","join","slice"],function(a){var b=d[a];p.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?p(a).chain():a}});p.extend(p.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(){var a=this,b=a.Backbone,c=[],d=c.push,f=c.slice,n=c.splice,k;k="undefined"!==typeof exports?exports:a.Backbone={};k.VERSION="0.9.10";var q=a._;!q&&"undefined"!==typeof require&&(q=require("underscore"));k.$=a.jQuery||a.Zepto||a.ender;k.noConflict=function(){a.Backbone=b;return this};k.emulateHTTP=!1;k.emulateJSON=!1;var t=/\s+/,u=function(a,b,c,d){if(!c)return!0;if("object"===typeof c)for(var f in c)a[b].apply(a,[f,c[f]].concat(d));else if(t.test(c)){c=c.split(t);f=0;for(var g=c.length;f<
g;f++)a[b].apply(a,[c[f]].concat(d))}else return!0},g=function(a,b){var c,d=-1,f=a.length;switch(b.length){case 0:for(;++d<f;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<f;)(c=a[d]).callback.call(c.ctx,b[0]);break;case 2:for(;++d<f;)(c=a[d]).callback.call(c.ctx,b[0],b[1]);break;case 3:for(;++d<f;)(c=a[d]).callback.call(c.ctx,b[0],b[1],b[2]);break;default:for(;++d<f;)(c=a[d]).callback.apply(c.ctx,b)}},c=k.Events={on:function(a,b,c){if(!u(this,"on",a,[b,c])||!b)return this;this._events||(this._events=
{});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!u(this,"once",a,[b,c])||!b)return this;var d=this,f=q.once(function(){d.off(a,f);b.apply(this,arguments)});f._callback=b;this.on(a,f,c);return this},off:function(a,b,c){var d,f,g,k,l,n,r,p;if(!this._events||!u(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;k=a?[a]:q.keys(this._events);l=0;for(n=k.length;l<n;l++)if(a=k[l],d=this._events[a]){g=[];if(b||
c){r=0;for(p=d.length;r<p;r++)f=d[r],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&g.push(f)}this._events[a]=g}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!u(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&g(c,b);d&&g(d,arguments);return this},listenTo:function(a,b,c){var d=this._listeners||(this._listeners={}),f=a._listenerId||(a._listenerId=q.uniqueId("l"));d[f]=a;a.on(b,"object"===typeof b?this:c,this);
return this},stopListening:function(a,b,c){var d=this._listeners;if(d){if(a)a.off(b,"object"===typeof b?this:c,this),!b&&!c&&delete d[a._listenerId];else{"object"===typeof b&&(c=this);for(var f in d)d[f].off(b,c,this);this._listeners={}}return this}}};c.bind=c.on;c.unbind=c.off;q.extend(k,c);var r=k.Model=function(a,b){var c,d=a||{};this.cid=q.uniqueId("c");this.attributes={};b&&b.collection&&(this.collection=b.collection);b&&b.parse&&(d=this.parse(d,b)||{});if(c=q.result(this,"defaults"))d=q.defaults({},
d,c);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};q.extend(r.prototype,c,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return q.clone(this.attributes)},sync:function(){return k.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return q.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,f,g,k,l,n,r;if(null==a)return this;"object"===typeof a?(f=a,c=b):(f={})[a]=b;c||(c={});
if(!this._validate(f,c))return!1;g=c.unset;k=c.silent;a=[];l=this._changing;this._changing=!0;l||(this._previousAttributes=q.clone(this.attributes),this.changed={});r=this.attributes;n=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);for(d in f)b=f[d],q.isEqual(r[d],b)||a.push(d),q.isEqual(n[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete r[d]:r[d]=b;if(!k){a.length&&(this._pending=!0);b=0;for(d=a.length;b<d;b++)this.trigger("change:"+a[b],this,r[a[b]],c)}if(l)return this;
if(!k)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,q.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,q.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!q.isEmpty(this.changed):q.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?q.clone(this.changed):!1;var b,c=!1,d=this._changing?
this._previousAttributes:this.attributes,f;for(f in a)if(!q.isEqual(d[f],b=a[f]))(c||(c={}))[f]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return q.clone(this._previousAttributes)},fetch:function(a){a=a?q.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,c,d){if(!a.set(a.parse(c,d),d))return!1;b&&b(a,c,d)};return this.sync("read",this,a)},save:function(a,b,c){var d,f,g=this.attributes;
null==a||"object"===typeof a?(d=a,c=b):(d={})[a]=b;if(d&&(!c||!c.wait)&&!this.set(d,c))return!1;c=q.extend({validate:!0},c);if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=q.extend({},g,d));void 0===c.parse&&(c.parse=!0);f=c.success;c.success=function(a,b,c){a.attributes=g;var h=a.parse(b,c);c.wait&&(h=q.extend(d||{},h));if(q.isObject(h)&&!a.set(h,c))return!1;f&&f(a,b,c)};a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=d);a=this.sync(a,this,c);d&&c.wait&&(this.attributes=
g);return a},destroy:function(a){a=a?q.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(a,b,f){(f.wait||a.isNew())&&d();c&&c(a,b,f)};if(this.isNew())return a.success(this,null,a),!1;var f=this.sync("delete",this,a);a.wait||d();return f},url:function(){var a=q.result(this,"urlRoot")||q.result(this.collection,"url")||A();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},
isNew:function(){return null==this.id},isValid:function(a){return!this.validate||!this.validate(this.attributes,a)},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=q.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,b||{});return!1}});var z=k.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this.models=[];this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,q.extend({silent:!0},b))};q.extend(z.prototype,c,{model:r,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return k.sync.apply(this,arguments)},add:function(a,b){a=q.isArray(a)?a.slice():[a];b||(b={});var c,f,g,k,r,l,p,u,t,z;p=[];u=b.at;t=this.comparator&&null==u&&!1!=b.sort;z=q.isString(this.comparator)?this.comparator:null;c=0;for(f=a.length;c<f;c++)(g=this._prepareModel(k=a[c],b))?(r=this.get(g))?b.merge&&(r.set(k===
g?g.attributes:k,b),t&&(!l&&r.hasChanged(z))&&(l=!0)):(p.push(g),g.on("all",this._onModelEvent,this),this._byId[g.cid]=g,null!=g.id&&(this._byId[g.id]=g)):this.trigger("invalid",this,k,b);p.length&&(t&&(l=!0),this.length+=p.length,null!=u?n.apply(this.models,[u,0].concat(p)):d.apply(this.models,p));l&&this.sort({silent:!0});if(b.silent)return this;c=0;for(f=p.length;c<f;c++)(g=p[c]).trigger("add",g,this,b);l&&this.trigger("sort",this,b);return this},remove:function(a,b){a=q.isArray(a)?a.slice():[a];
b||(b={});var c,d,f,g;c=0;for(d=a.length;c<d;c++)if(g=this.get(a[c]))delete this._byId[g.id],delete this._byId[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,b.silent||(b.index=f,g.trigger("remove",g,this,b)),this._removeReference(g);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,q.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,q.extend({at:0},
b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){if(null!=a)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[a.id||a.cid||a[this._idAttr]||a]},at:function(a){return this.models[a]},where:function(a){return q.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
a||(a={});q.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(q.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return q.invoke(this.models,"get",a)},update:function(a,b){b=q.extend({add:!0,merge:!0,remove:!0},b);b.parse&&(a=this.parse(a,b));var c,d,f,g,k=[],l=[],n={};q.isArray(a)||(a=a?[a]:[]);if(b.add&&!b.remove)return this.add(a,b);d=0;for(f=a.length;d<f;d++)c=a[d],g=this.get(c),
b.remove&&g&&(n[g.cid]=!0),(b.add&&!g||b.merge&&g)&&k.push(c);if(b.remove){d=0;for(f=this.models.length;d<f;d++)c=this.models[d],n[c.cid]||l.push(c)}l.length&&this.remove(l,b);k.length&&this.add(k,b);return this},reset:function(a,b){b||(b={});b.parse&&(a=this.parse(a,b));for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);b.previousModels=this.models.slice();this._reset();a&&this.add(a,q.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=
a?q.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success;a.success=function(a,c,d){a[d.update?"update":"reset"](c,d);b&&b(a,c,d)};return this.sync("read",this,a)},create:function(a,b){b=b?q.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(a,b,f){f.wait&&c.add(a,f);d&&d(a,b,f)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models.length=
0;this._byId={}},_prepareModel:function(a,b){if(a instanceof r)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return!c._validate(a,b)?!1:c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=
b)),this.trigger.apply(this,arguments))},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=q.isFunction(b)?b:function(a){return a.get(b)};return q.sortedIndex(this.models,a,d,c)}});q.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){z.prototype[a]=function(){var b=
f.call(arguments);b.unshift(this.models);return q[a].apply(q,b)}});q.each(["groupBy","countBy","sortBy"],function(a){z.prototype[a]=function(b,c){var d=q.isFunction(b)?b:function(a){return a.get(b)};return q[a](this.models,d,c)}});var y=k.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,F=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;q.extend(y.prototype,c,{initialize:function(){},route:function(a,b,c){q.isRegExp(a)||
(a=this._routeToRegExp(a));c||(c=this[b]);k.history.route(a,q.bind(function(d){d=this._extractParameters(a,d);c&&c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d));this.trigger("route",b,d);k.history.trigger("route",this,b,d)},this));return this},navigate:function(a,b){k.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes)for(var a,b=q.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])},_routeToRegExp:function(a){a=a.replace(E,"\\$&").replace(D,"(?:$1)?").replace(C,
function(a,b){return b?a:"([^/]+)"}).replace(F,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var Q=k.History=function(){this.handlers=[];q.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},da=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,p=/msie [\w.]+/,K=/\/$/;Q.started=!1;q.extend(Q.prototype,c,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,
b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(K,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(da,"")},start:function(a){if(Q.started)throw Error("Backbone.history has already been started");Q.started=!0;this.options=q.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);a=this.getFragment();var b=document.documentMode,b=p.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(T,"/");b&&this._wantsHashChange&&(this.iframe=k.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)k.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)k.$(window).on("hashchange",this.checkUrl);
else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(da,""),this.history.replaceState({},document.title,
this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){k.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);Q.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},
loadUrl:function(a){var b=this.fragment=this.getFragment(a);return q.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!Q.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&
(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});k.history=new Q;var N=k.View=function(a){this.cid=q.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},P=/^(\S+)\s*(.*)$/,ba="model collection el id attributes className tagName events".split(" ");
q.extend(N.prototype,c,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof k.$?a:k.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=q.result(this,"events"))){this.undelegateEvents();for(var b in a){var c=a[b];q.isFunction(c)||(c=this[a[b]]);
if(!c)throw Error('Method "'+a[b]+'" does not exist');var d=b.match(P),f=d[1],d=d[2],c=q.bind(c,this),f=f+(".delegateEvents"+this.cid);if(""===d)this.$el.on(f,c);else this.$el.on(f,d,c)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=q.extend({},q.result(this,"options"),a));q.extend(this,q.pick(a,ba));this.options=a},_ensureElement:function(){if(this.el)this.setElement(q.result(this,"el"),!1);else{var a=q.extend({},q.result(this,"attributes"));
this.id&&(a.id=q.result(this,"id"));this.className&&(a["class"]=q.result(this,"className"));a=k.$("<"+q.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});var X={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};k.sync=function(a,b,c){var d=X[a];q.defaults(c||(c={}),{emulateHTTP:k.emulateHTTP,emulateJSON:k.emulateJSON});var f={type:d,dataType:"json"};c.url||(f.url=q.result(b,"url")||A());if(null==c.data&&b&&("create"===a||"update"===a||"patch"===a))f.contentType="application/json",
f.data=JSON.stringify(c.attrs||b.toJSON(c));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){f.type="POST";c.emulateJSON&&(f.data._method=d);var g=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(g)return g.apply(this,arguments)}}"GET"!==f.type&&!c.emulateJSON&&(f.processData=!1);var n=c.success;c.success=function(a){n&&n(b,a,c);b.trigger("sync",b,a,c)};
var l=c.error;c.error=function(a){l&&l(b,a,c);b.trigger("error",b,a,c)};a=c.xhr=k.ajax(q.extend(f,c));b.trigger("request",b,a,c);return a};k.ajax=function(){return k.$.ajax.apply(k.$,arguments)};r.extend=z.extend=y.extend=N.extend=Q.extend=function(a,b){var c=this,d;d=a&&q.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};q.extend(d,c,b);var f=function(){this.constructor=d};f.prototype=c.prototype;d.prototype=new f;a&&q.extend(d.prototype,a);d.__super__=c.prototype;return d};
var A=function(){throw Error('A "url" property or function must be specified');}}).call(this);"object"!==typeof JSON&&(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=q[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var f,q,y,D,C=n,F,E=d[a];E&&("object"===typeof E&&"function"===typeof E.toJSON)&&(E=E.toJSON(a));"function"===typeof t&&(E=t.call(d,a,E));switch(typeof E){case "string":return b(E);case "number":return isFinite(E)?String(E):"null";case "boolean":case "null":return String(E);
case "object":if(!E)return"null";n+=k;F=[];if("[object Array]"===Object.prototype.toString.apply(E)){D=E.length;for(f=0;f<D;f+=1)F[f]=c(f,E)||"null";y=0===F.length?"[]":n?"[\n"+n+F.join(",\n"+n)+"\n"+C+"]":"["+F.join(",")+"]";n=C;return y}if(t&&"object"===typeof t){D=t.length;for(f=0;f<D;f+=1)"string"===typeof t[f]&&(q=t[f],(y=c(q,E))&&F.push(b(q)+(n?": ":":")+y))}else for(q in E)Object.prototype.hasOwnProperty.call(E,q)&&(y=c(q,E))&&F.push(b(q)+(n?": ":":")+y);y=0===F.length?"{}":n?"{\n"+n+F.join(",\n"+
n)+"\n"+C+"}":"{"+F.join(",")+"}";n=C;return y}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,k,q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var f;k=n="";if("number"===typeof d)for(f=0;f<d;f+=1)k+=" ";else"string"===typeof d&&(k=d);if((t=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var f,k,n=a[d];if(n&&"object"===typeof n)for(f in n)Object.prototype.hasOwnProperty.call(n,f)&&(k=c(n,f),void 0!==k?n[f]=k:delete n[f]);return b.call(a,d,n)}var f;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof b?c({"":f},""):f;throw new SyntaxError("JSON.parse");})})();
(function(a){var b=a.console&&a.console.warn?a.console.warn:function(){},c=a.sprintf,d=function(){d.cache.hasOwnProperty(arguments[0])||(d.cache[arguments[0]]=d.parse(arguments[0]));return d.format.call(null,d.cache[arguments[0]],arguments)};d.noConflict=function(){a.sprintf=c;return this};d.format=function(a,c){var k=1,q=a.length,t="",u=[],g,r,z,y;for(g=0;g<q;g++)if(t=Object.prototype.toString.call(a[g]).slice(8,-1).toLowerCase(),"string"===t)u.push(a[g]);else if("array"===t){z=a[g];if(z[2]){t=c[k];
for(r=0;r<z[2].length;r++)t.hasOwnProperty(z[2][r])||b(d('[sprintf] property "%s" does not exist',z[2][r])),t=t[z[2][r]]}else t=z[1]?c[z[1]]:c[k++];/[^s]/.test(z[8])&&"number"!=Object.prototype.toString.call(t).slice(8,-1).toLowerCase()&&b("[sprintf] expecting number but was non-numeric");switch(z[8]){case "b":t=t.toString(2);break;case "c":t=String.fromCharCode(t);break;case "d":t=parseInt(t,10);break;case "e":t=z[7]?t.toExponential(z[7]):t.toExponential();break;case "f":t=z[7]?parseFloat(t).toFixed(z[7]):
parseFloat(t);break;case "o":t=t.toString(8);break;case "s":t=(t=String(t))&&z[7]?t.substring(0,z[7]):t;break;case "u":t>>>=0;break;case "x":t=t.toString(16);break;case "X":t=t.toString(16).toUpperCase()}t=/[def]/.test(z[8])&&z[3]&&0<=t?"+"+t:t;r=z[4]?"0"==z[4]?"0":z[4].charAt(1):" ";y=z[6]-String(t).length;if(z[6]){for(var D=[];0<y;D[--y]=r);r=D.join("")}else r="";u.push(z[5]?t+r:r+t)}return u.join("")};d.cache={};d.parse=function(a){for(var c=a,d=[],q=[],t=0;c;){if(null!==(d=/^[^\x25]+/.exec(c)))q.push(d[0]);
else if(null!==(d=/^\x25{2}/.exec(c)))q.push("%");else if(null!==(d=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(c))){if(d[2]){var t=t|1,u=[],g=d[2],r=[];if(null!==(r=/^([a-z_][a-z_\d]*)/i.exec(g)))for(u.push(r[1]);""!==(g=g.substring(r[0].length));)null!==(r=/^\.([a-z_][a-z_\d]*)/i.exec(g))?u.push(r[1]):null!==(r=/^\[(\d+)\]/.exec(g))?u.push(r[1]):b("[sprintf] error: "+a);else b("[sprintf] error: "+a);d[2]=u}else t|=2;3===t&&b("[sprintf] mixing positional and named placeholders is not (yet) supported");
q.push(d)}else b("[sprintf] error: "+a);c=c.substring(d[0].length)}return q};d.with_array=function(a,b){var c=b.slice(0);c.splice(0,0,a);return d.apply(null,c)};a.sprintf=d})("undefined"!=typeof exports?exports:window);
(function(){jQuery.fn.autohide=function(a){var b=this;a=DV._.extend({clickable:null,onHide:null},a||{});b._autoignore=!0;setTimeout(function(){delete b._autoignore},0);b._autohider||(b.forceHide=function(c){if(!c&&a.onHide)a.onHide();b.hide();DV.jQuery(document).unbind("click",b._autohider);DV.jQuery(document).unbind("keypress",b._autohider);b._autohider=null;b.forceHide=null},b._autohider=function(c){if(!b._autoignore&&(!a.clickable||!(b[0]==c.target||DV._.include(DV.jQuery(c.target).parents(),b[0]))))(!a.onHide||
a.onHide(c))&&b.forceHide(c)},DV.jQuery(document).bind("click",this._autohider),DV.jQuery(document).bind("keypress",this._autohider))};jQuery.fn.acceptInput=function(a){var b={delay:1E3,callback:null,className:"acceptInput",initialStateClassName:"acceptInput-awaitingActivity",typingStateClassName:"acceptInput-acceptingInput",inputClassName:"acceptInput-textField"};a&&DV.jQuery.extend(b,a);this.editTimer=null;this.deny=function(){this.parent().addClass("stopAcceptingInput")};this.allow=function(){this.parent().removeClass("stopAcceptingInput")};
this.each(function(a,d){if(DV.jQuery(d).parent().hasClass(b.initialStateClassName))return!0;d=DV.jQuery(d);var f=d.wrap('<span class="'+b.initialStateClassName+'"></span>'),f=f.parent(),n=DV.jQuery('<input type="text" class="'+b.inputClassName+'" style="display:none;" />').appendTo(f);n.bind("blur",function(){f.addClass(b.initialStateClassName).removeClass(b.typingStateClassName);n.hide();d.show()});n.bind("keyup",function(){var a=n.attr("value");d.text(a);b.changeCallBack&&(DV.jQuery.fn.acceptInput.editTimer=
setTimeout(b.changeCallBack,500))});n.bind("keydown",function(){DV.jQuery.fn.acceptInput.editTimer&&clearTimeout(DV.jQuery.fn.acceptInput.editTimer)});f.bind("click",function(){!f.hasClass("stopAcceptingInput")&&f.hasClass(b.initialStateClassName)&&(DV.jQuery(n).autohide({clickable:!0,onHide:DV.jQuery.proxy(function(){f.addClass(b.initialStateClassName).removeClass(b.typingStateClassName)},this)}),d.hide(),n.attr("value",d.text()).show()[0].focus(),n[0].select(),f.addClass(b.typingStateClassName).removeClass(b.initialStateClassName))})});
return this}}).call(this);
(function(a){a.fn.placeholder=function(b){var c=a.extend({},{message:"...",className:"placeholder",clearClassName:"show_cancel_search"},b);return this.each(function(){var b=a(this);"search"!=b.attr("type")&&(b.bind("blur",function(){""==b.val()&&(b.val(b.attr("placeholder")||c.message),b.addClass(c.className))}).bind("focus",function(){b.val()==(b.attr("placeholder")||c.message)&&b.val("");b.removeClass(c.className)}).bind("keyup",function(){var a=b.val();""!=a&&a!=c.message?b.parent().addClass(c.clearClassName):
b.parent().removeClass(c.clearClassName)}),DV._.defer(function(){b.keyup().blur()}))})}})(jQuery);
(function(a,b,c,d,f,n){function k(a,b){var c=typeof a[b];return"function"==c||!!("object"==c&&a[b])||"unknown"==c}function q(){if(!D(navigator.plugins)&&"object"==typeof navigator.plugins["Shockwave Flash"]){var a=navigator.plugins["Shockwave Flash"].description;a&&(!D(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&(O=a.match(/\d+/g))}if(!O){var b;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),
O=Array.prototype.slice.call(b.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1)}catch(c){}}if(!O)return!1;a=parseInt(O[0],10);b=parseInt(O[1],10);ea=9<a&&0<b;return!0}function t(){if(!s){s=!0;for(var a=0;a<V.length;a++)V[a]();V.length=0}}function u(a,b){s?a.call(b):V.push(function(){a.call(b)})}function g(){var a=parent;if(""!==X)for(var b=0,c=X.split(".");b<c.length;b++)a=a[c[b]];return a.easyXDM}function r(a){var b=a.toLowerCase().match(N);a=b[2];var c=b[3],b=b[4]||"";if("http:"==a&&
":80"==b||"https:"==a&&":443"==b)b="";return a+"//"+c+b}function z(a){a=a.replace(ba,"$1/");if(!a.match(/^(http||https):\/\//)){var b="/"===a.substring(0,1)?"":c.pathname;"/"!==b.substring(b.length-1)&&(b=b.substring(0,b.lastIndexOf("/")+1));a=c.protocol+"//"+c.host+b+a}for(;P.test(a);)a=a.replace(P,"");return a}function y(a,b){var c="",d=a.indexOf("#");-1!==d&&(c=a.substring(d),a=a.substring(0,d));var d=[],f;for(f in b)b.hasOwnProperty(f)&&d.push(f+"="+n(b[f]));return a+(G?"#":-1==a.indexOf("?")?
"?":"&")+d.join("&")+c}function D(a){return"undefined"===typeof a}function C(a,b,c){var d,f;for(f in b)b.hasOwnProperty(f)&&(f in a?(d=b[f],"object"===typeof d?C(a[f],d,c):c||(a[f]=b[f])):a[f]=b[f]);return a}function F(a){if(D(L)){var c=b.body.appendChild(b.createElement("form")),d=c.appendChild(b.createElement("input"));d.name=x+"TEST"+p;L=d!==c.elements[d.name];b.body.removeChild(c)}L?c=b.createElement('<iframe name="'+a.props.name+'"/>'):(c=b.createElement("IFRAME"),c.name=a.props.name);c.id=c.name=
a.props.name;delete a.props.name;"string"==typeof a.container&&(a.container=b.getElementById(a.container));a.container||(C(c.style,{position:"absolute",top:"-2000px",left:"0px"}),a.container=b.body);d=a.props.src;a.props.src="javascript:false";C(c,a.props);c.border=c.frameBorder=0;c.allowTransparency=!0;a.container.appendChild(c);a.onLoad&&U(c,"load",a.onLoad);if(a.usePost){var f=a.container.appendChild(b.createElement("form")),g;f.target=c.name;f.action=d;f.method="POST";if("object"===typeof a.usePost)for(var e in a.usePost)a.usePost.hasOwnProperty(e)&&
(L?g=b.createElement('<input name="'+e+'"/>'):(g=b.createElement("INPUT"),g.name=e),g.value=a.usePost[e],f.appendChild(g));f.submit();f.parentNode.removeChild(f)}else c.src=d;a.props.src=d;return c}function E(d){var f=d.protocol,g;d.isHost=d.isHost||D(R.xdm_p);G=d.hash||!1;d.props||(d.props={});if(d.isHost)d.remote=z(d.remote),d.channel=d.channel||"default"+p++,d.secret=Math.random().toString(16).substring(2),D(f)&&(f=r(c.href)==r(d.remote)?"4":k(a,"postMessage")||k(b,"postMessage")?"1":d.swf&&k(a,
"ActiveXObject")&&q()?"6":"Gecko"===navigator.product&&"frameElement"in a&&-1==navigator.userAgent.indexOf("WebKit")?"5":d.remoteHelper?"2":"0");else{d.channel=R.xdm_c.replace(/["'<>\\]/g,"");d.secret=R.xdm_s;d.remote=R.xdm_e.replace(/["'<>\\]/g,"");var f=R.xdm_p,h;if(h=d.acl){a:{h=d.acl;var l=d.remote;"string"==typeof h&&(h=[h]);for(var e,n=h.length;n--;)if(e=h[n],e=RegExp("^"==e.substr(0,1)?e:"^"+e.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),e.test(l)){h=!0;break a}h=!1}h=!h}if(h)throw Error("Access denied for "+
d.remote);}d.protocol=f;switch(f){case "0":C(d,{interval:100,delay:2E3,useResize:!0,useParent:!1,usePolling:!1},!0);if(d.isHost){if(!d.local){f=c.protocol+"//"+c.host;g=b.body.getElementsByTagName("img");for(l=g.length;l--;)if(h=g[l],h.src.substring(0,f.length)===f){d.local=h.src;break}d.local||(d.local=a)}f={xdm_c:d.channel,xdm_p:0};d.local===a?(d.usePolling=!0,d.useParent=!0,d.local=c.protocol+"//"+c.host+c.pathname+c.search,f.xdm_e=d.local,f.xdm_pa=1):f.xdm_e=z(d.local);d.container&&(d.useResize=
!1,f.xdm_po=1);d.remote=y(d.remote,f)}else C(d,{channel:R.xdm_c,remote:R.xdm_e,useParent:!D(R.xdm_pa),usePolling:!D(R.xdm_po),useResize:d.useParent?!1:d.useResize});g=[new A.stack.HashTransport(d),new A.stack.ReliableBehavior({}),new A.stack.QueueBehavior({encode:!0,maxLength:4E3-d.remote.length}),new A.stack.VerifyBehavior({initiate:d.isHost})];break;case "1":g=[new A.stack.PostMessageTransport(d)];break;case "2":d.remoteHelper=z(d.remoteHelper);g=[new A.stack.NameTransport(d),new A.stack.QueueBehavior,
new A.stack.VerifyBehavior({initiate:d.isHost})];break;case "3":g=[new A.stack.NixTransport(d)];break;case "4":g=[new A.stack.SameOriginTransport(d)];break;case "5":g=[new A.stack.FrameElementTransport(d)];break;case "6":O||q(),g=[new A.stack.FlashTransport(d)]}g.push(new A.stack.QueueBehavior({lazy:d.lazy,remove:!0}));return g}function Q(a){for(var b,c={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},
destroy:function(){this.down.destroy()}},d=0,f=a.length;d<f;d++)b=a[d],C(b,c,!0),0!==d&&(b.down=a[d-1]),d!==f-1&&(b.up=a[d+1]);return b}function da(a){a.up.down=a.down;a.down.up=a.up;a.up=a.down=null}var T=this,p=Math.floor(1E4*Math.random()),K=Function.prototype,N=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,P=/[\-\w]+\/\.\.\//,ba=/([^:])\/\//g,X="",A={},h=a.easyXDM,x="easyXDM_",L,G=!1,O,ea,U,l;if(k(a,"addEventListener"))U=function(a,b,c){a.addEventListener(b,c,!1)},l=function(a,b,c){a.removeEventListener(b,
c,!1)};else if(k(a,"attachEvent"))U=function(a,b,c){a.attachEvent("on"+b,c)},l=function(a,b,c){a.detachEvent("on"+b,c)};else throw Error("Browser not supported");var s=!1,V=[],I;"readyState"in b?(I=b.readyState,s="complete"==I||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==I||"interactive"==I)):s=!!b.body;if(!s){if(k(a,"addEventListener"))U(b,"DOMContentLoaded",t);else if(U(b,"readystatechange",function(){"complete"==b.readyState&&t()}),b.documentElement.doScroll&&a===top){var M=function(){if(!s){try{b.documentElement.doScroll("left")}catch(a){d(M,
1);return}t()}};M()}U(a,"load",t)}var R=function(a){a=a.substring(1).split("&");for(var b={},c,d=a.length;d--;)c=a[d].split("="),b[c[0]]=f(c[1]);return b}(/xdm_e=/.test(c.search)?c.search:c.hash),Z=function(){var a={},b={a:[1,2,3]};if("undefined"!=typeof JSON&&"function"===typeof JSON.stringify&&'{"a":[1,2,3]}'===JSON.stringify(b).replace(/\s/g,""))return JSON;Object.toJSON&&'{"a":[1,2,3]}'===Object.toJSON(b).replace(/\s/g,"")&&(a.stringify=Object.toJSON);"function"===typeof String.prototype.evalJSON&&
(b='{"a":[1,2,3]}'.evalJSON(),b.a&&(3===b.a.length&&3===b.a[2])&&(a.parse=function(a){return a.evalJSON()}));return a.stringify&&a.parse?(Z=function(){return a},a):null};C(A,{version:"2.4.17.1",query:R,stack:{},apply:C,getJSONObject:Z,whenReady:u,noConflict:function(b){a.easyXDM=h;(X=b)&&(x="easyXDM_"+X.replace(".","_")+"_");return A}});A.DomHelper={on:U,un:l,requiresJSON:function(c){"object"==typeof a.JSON&&a.JSON||b.write('<script type="text/javascript" src="'+c+'">\x3c/script>')}};(function(){var a=
{};A.Fn={set:function(b,c){a[b]=c},get:function(b,c){var d=a[b];c&&delete a[b];return d}}})();A.Socket=function(a){var b=Q(E(a).concat([{incoming:function(b,c){a.onMessage(b,c)},callback:function(b){if(a.onReady)a.onReady(b)}}])),c=r(a.remote);this.origin=r(a.remote);this.destroy=function(){b.destroy()};this.postMessage=function(a){b.outgoing(a,c)};b.init()};A.Rpc=function(a,b){if(b.local)for(var c in b.local)if(b.local.hasOwnProperty(c)){var d=b.local[c];"function"===typeof d&&(b.local[c]={method:d})}var f=
Q(E(a).concat([new A.stack.RpcBehavior(this,b),{callback:function(b){if(a.onReady)a.onReady(b)}}]));this.origin=r(a.remote);this.destroy=function(){f.destroy()};f.init()};A.stack.SameOriginTransport=function(a){var b,f,k,h;return b={outgoing:function(a,b,c){k(a);c&&c()},destroy:function(){f&&(f.parentNode.removeChild(f),f=null)},onDOMReady:function(){h=r(a.remote);a.isHost?(C(a.props,{src:y(a.remote,{xdm_e:c.protocol+"//"+c.host+c.pathname,xdm_c:a.channel,xdm_p:4}),name:x+a.channel+"_provider"}),
f=F(a),A.Fn.set(a.channel,function(a){k=a;d(function(){b.up.callback(!0)},0);return function(a){b.up.incoming(a,h)}})):(k=g().Fn.get(a.channel,!0)(function(a){b.up.incoming(a,h)}),d(function(){b.up.callback(!0)},0))},init:function(){u(b.onDOMReady,b)}}};A.stack.FlashTransport=function(a){function f(a,b){d(function(){k.up.incoming(a,e)},0)}function g(c){var d=a.swf+"?host="+a.isHost,e="easyXDM_swf_"+Math.floor(1E4*Math.random());A.Fn.set("flash_loaded"+c.replace(/[\-.]/g,"_"),function(){A.stack.FlashTransport[c].swf=
l=n.firstChild;for(var a=A.stack.FlashTransport[c].queue,b=0;b<a.length;b++)a[b]();a.length=0});a.swfContainer?n="string"==typeof a.swfContainer?b.getElementById(a.swfContainer):a.swfContainer:(n=b.createElement("div"),C(n.style,ea&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),b.body.appendChild(n));var f="callback=flash_loaded"+c.replace(/[\-.]/g,"_")+"&proto="+T.location.protocol+"&domain="+
T.location.href.match(N)[3]+"&port="+(T.location.href.match(N)[4]||"")+"&ns="+X;n.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+e+"' data='"+d+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+d+"'></param><param name='flashvars' value='"+f+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+f+"' allowScriptAccess='always' wmode='transparent' src='"+d+"' height='1' width='1'></embed></object>"}
var k,h,e,l,n;return k={outgoing:function(b,c,d){l.postMessage(a.channel,b.toString());d&&d()},destroy:function(){try{l.destroyChannel(a.channel)}catch(b){}l=null;h&&(h.parentNode.removeChild(h),h=null)},onDOMReady:function(){e=a.remote;A.Fn.set("flash_"+a.channel+"_init",function(){d(function(){k.up.callback(!0)})});A.Fn.set("flash_"+a.channel+"_onMessage",f);a.swf=z(a.swf);var b=a.swf.match(N)[3],n=function(){A.stack.FlashTransport[b].init=!0;l=A.stack.FlashTransport[b].swf;l.createChannel(a.channel,
a.secret,r(a.remote),a.isHost);a.isHost&&(ea&&a.swfNoThrottle&&C(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),C(a.props,{src:y(a.remote,{xdm_e:r(c.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:x+a.channel+"_provider"}),h=F(a))};A.stack.FlashTransport[b]&&A.stack.FlashTransport[b].init?n():A.stack.FlashTransport[b]?A.stack.FlashTransport[b].queue.push(n):(A.stack.FlashTransport[b]={queue:[n]},g(b))},init:function(){u(k.onDOMReady,k)}}};A.stack.PostMessageTransport=function(b){function f(a){var d;
if(a.origin)d=r(a.origin);else if(a.uri)d=r(a.uri);else if(a.domain)d=c.protocol+"//"+a.domain;else throw"Unable to retrieve the origin of the event";d==e&&a.data.substring(0,b.channel.length+1)==b.channel+" "&&g.up.incoming(a.data.substring(b.channel.length+1),d)}var g,k,h,e;return g={outgoing:function(a,c,d){h.postMessage(b.channel+" "+a,c||e);d&&d()},destroy:function(){l(a,"message",f);k&&(h=null,k.parentNode.removeChild(k),k=null)},onDOMReady:function(){e=r(b.remote);if(b.isHost){var n=function(c){c.data==
b.channel+"-ready"&&(h="postMessage"in k.contentWindow?k.contentWindow:k.contentWindow.document,l(a,"message",n),U(a,"message",f),d(function(){g.up.callback(!0)},0))};U(a,"message",n);C(b.props,{src:y(b.remote,{xdm_e:r(c.href),xdm_c:b.channel,xdm_p:1}),name:x+b.channel+"_provider"});k=F(b)}else U(a,"message",f),h="postMessage"in a.parent?a.parent:a.parent.document,h.postMessage(b.channel+"-ready",e),d(function(){g.up.callback(!0)},0)},init:function(){u(g.onDOMReady,g)}}};A.stack.FrameElementTransport=
function(f){var g,k,h,l;return g={outgoing:function(a,b,c){h.call(this,a);c&&c()},destroy:function(){k&&(k.parentNode.removeChild(k),k=null)},onDOMReady:function(){l=r(f.remote);f.isHost?(C(f.props,{src:y(f.remote,{xdm_e:r(c.href),xdm_c:f.channel,xdm_p:5}),name:x+f.channel+"_provider"}),k=F(f),k.fn=function(a){delete k.fn;h=a;d(function(){g.up.callback(!0)},0);return function(a){g.up.incoming(a,l)}}):(b.referrer&&r(b.referrer)!=R.xdm_e&&(a.top.location=R.xdm_e),h=a.frameElement.fn(function(a){g.up.incoming(a,
l)}),g.up.callback(!0))},init:function(){u(g.onDOMReady,g)}}};A.stack.NameTransport=function(a){function b(c){h.contentWindow.sendMessage(c,a.remoteHelper+(k?"#_3":"#_2")+a.channel)}function c(){k?(2===++p||!k)&&e.up.callback(!0):(b("ready"),e.up.callback(!0))}function f(a){e.up.incoming(a,s)}function g(){q&&d(function(){q(!0)},0)}var e,k,h,n,p,q,s,t;return e={outgoing:function(a,c,d){q=d;b(a)},destroy:function(){h.parentNode.removeChild(h);h=null;k&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){k=
a.isHost;p=0;s=r(a.remote);a.local=z(a.local);k?(A.Fn.set(a.channel,function(b){k&&"ready"===b&&(A.Fn.set(a.channel,f),c())}),t=y(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),C(a.props,{src:t+"#"+a.channel,name:x+a.channel+"_provider"}),n=F(a)):(a.remoteHelper=a.remote,A.Fn.set(a.channel,f));var b=function(){var e=h||this;l(e,"load",b);A.Fn.set(a.channel+"_load",g);(function Fa(){"function"==typeof e.contentWindow.sendMessage?c():d(Fa,50)})()};h=F({props:{src:a.local+"#_4"+a.channel},onLoad:b})},
init:function(){u(e.onDOMReady,e)}}};A.stack.HashTransport=function(b){function c(){if(n){var a=n.location.href,b="",d=a.indexOf("#");-1!=d&&(b=a.substring(d));b&&b!=h&&(h=b,f.up.incoming(h.substring(h.indexOf("_")+1),s))}}var f,g,k,e,h,l,n,q,p,s;return f={outgoing:function(a,c){if(q){var d=b.remote+"#"+l++ +"_"+a;(g||!p?q.contentWindow:q).location=d}},destroy:function(){a.clearInterval(k);(g||!p)&&q.parentNode.removeChild(q);q=null},onDOMReady:function(){g=b.isHost;e=b.interval;h="#"+b.channel;l=
0;p=b.useParent;s=r(b.remote);if(g){C(b.props,{src:b.remote,name:x+b.channel+"_provider"});if(p)b.onLoad=function(){n=a;k=setInterval(c,e);f.up.callback(!0)};else{var u=0,t=b.delay/50;(function xa(){if(++u>t)throw Error("Unable to reference listenerwindow");try{n=q.contentWindow.frames[x+b.channel+"_consumer"]}catch(a){}n?(k=setInterval(c,e),f.up.callback(!0)):d(xa,50)})()}q=F(b)}else n=a,k=setInterval(c,e),p?(q=parent,f.up.callback(!0)):(C(b,{props:{src:b.remote+"#"+b.channel+new Date,name:x+b.channel+
"_consumer"},onLoad:function(){f.up.callback(!0)}}),q=F(b))},init:function(){u(f.onDOMReady,f)}}};A.stack.ReliableBehavior=function(a){var b,c,d=0,f=0,e="";return b={incoming:function(a,g){var k=a.indexOf("_"),h=a.substring(0,k).split(",");a=a.substring(k+1);h[0]==d&&(e="",c&&(c(!0),c=null));0<a.length&&(b.down.outgoing(h[1]+","+d+"_"+e,g),f!=h[1]&&(f=h[1],b.up.incoming(a,g)))},outgoing:function(a,g,k){e=a;c=k;b.down.outgoing(f+","+ ++d+"_"+a,g)}}};A.stack.QueueBehavior=function(a){function b(){if(a.remove&&
0===g.length)da(c);else if(!k&&!(0===g.length||h)){k=!0;var e=g.shift();c.down.outgoing(e.data,e.origin,function(a){k=!1;e.callback&&d(function(){e.callback(a)},0);b()})}}var c,g=[],k=!0,e="",h,l=0,r=!1,q=!1;return c={init:function(){D(a)&&(a={});a.maxLength&&(l=a.maxLength,q=!0);a.lazy?r=!0:c.down.init()},callback:function(a){k=!1;var d=c.up;b();d.callback(a)},incoming:function(b,d){if(q){var g=b.indexOf("_"),k=parseInt(b.substring(0,g),10);e+=b.substring(g+1);0===k&&(a.encode&&(e=f(e)),c.up.incoming(e,
d),e="")}else c.up.incoming(b,d)},outgoing:function(d,e,f){a.encode&&(d=n(d));var k=[],h;if(q){for(;0!==d.length;)h=d.substring(0,l),d=d.substring(h.length),k.push(h);for(;h=k.shift();)g.push({data:k.length+"_"+h,origin:e,callback:0===k.length?f:null})}else g.push({data:d,origin:e,callback:f});r?c.down.init():b()},destroy:function(){h=!0;c.down.destroy()}}};A.stack.VerifyBehavior=function(a){function b(){d=Math.random().toString(16).substring(2);c.down.outgoing(d)}var c,d,f;return c={incoming:function(e,
g){var k=e.indexOf("_");-1===k?e===d?c.up.callback(!0):f||(f=e,a.initiate||b(),c.down.outgoing(e)):e.substring(0,k)===f&&c.up.incoming(e.substring(k+1),g)},outgoing:function(a,b,f){c.down.outgoing(d+"_"+a,b,f)},callback:function(c){a.initiate&&b()}}};A.stack.RpcBehavior=function(a,b){function c(a){a.jsonrpc="2.0";e.down.outgoing(g.stringify(a))}function d(a,b){var e=Array.prototype.slice;return function(){var d=arguments.length,f,g={method:b};0<d&&"function"===typeof arguments[d-1]?(1<d&&"function"===
typeof arguments[d-2]?(f={success:arguments[d-2],error:arguments[d-1]},g.params=e.call(arguments,0,d-2)):(f={success:arguments[d-1]},g.params=e.call(arguments,0,d-1)),h[""+ ++k]=f,g.id=k):g.params=e.call(arguments,0);a.namedParams&&1===g.params.length&&(g.params=g.params[0]);c(g)}}function f(a,b,d,e){if(d){var g,k;b?(g=function(a){g=K;c({id:b,result:a})},k=function(a,d){k=K;var e={id:b,error:{code:-32099,message:a}};d&&(e.error.data=d);c(e)}):g=k=K;"[object Array]"!==Object.prototype.toString.call(e)&&
(e=[e]);try{var h=d.method.apply(d.scope,e.concat([g,k]));D(h)||g(h)}catch(l){k(l.message)}}else b&&c({id:b,error:{code:-32601,message:"Procedure not found."}})}var e,g=b.serializer||Z(),k=0,h={};return e={incoming:function(a,d){var e=g.parse(a);if(e.method)b.handle?b.handle(e,c):f(e.method,e.id,b.local[e.method],e.params);else{var k=h[e.id];e.error?k.error&&k.error(e.error):k.success&&k.success(e.result);delete h[e.id]}},init:function(){if(b.remote)for(var c in b.remote)b.remote.hasOwnProperty(c)&&
(a[c]=d(b.remote[c],c));e.down.init()},destroy:function(){for(var c in b.remote)b.remote.hasOwnProperty(c)&&a.hasOwnProperty(c)&&delete a[c];e.down.destroy()}}};T.easyXDM=A})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);window.console||(window.console={});console.log||(console.log=_.identity);window.DV=window.DV||{};DV.jQuery=jQuery.noConflict(!0);DV._=_.noConflict();_=DV._;DV.viewers=DV.viewers||{};DV.model=DV.model||{};
DV.Annotation=function(a){this.position={top:a.top,left:a.left};this.dimensions={width:a.width,height:a.height};this.page=a.page;this.pageEl=a.pageEl;this.annotationContainerEl=a.annotationContainerEl;this.viewer=this.page.set.viewer;this.annotationEl=null;this.renderedHTML=a.renderedHTML;this.type=a.type;this.id=a.id;this.model=this.viewer.models.annotations.getAnnotation(this.id);this.state="collapsed";this.active=!1;this.remove();this.add();a.active&&(this.viewer.helpers.setActiveAnnotationLimits(this),
this.viewer.events.resetTracker(),this.active=null,this.show(),a.showEdit&&this.showEdit())};DV.Annotation.prototype.add=function(){if("page"===this.type)this.annotationEl=this.renderedHTML.insertBefore(this.annotationContainerEl);else if(0<this.page.annotations.length)for(var a=0,b=this.page.annotations.length;a<b;a++){if(this.page.annotations[a].id===this.id)return!1;this.annotationEl=this.renderedHTML.appendTo(this.annotationContainerEl)}else this.annotationEl=this.renderedHTML.appendTo(this.annotationContainerEl)};
DV.Annotation.prototype.next=function(){this.hide.preventRemovalOfCoverClass=!0;var a=this.viewer.models.annotations.getNextAnnotation(this.id);a&&this.page.set.showAnnotation({index:a.index,id:a.id,top:a.top})};DV.Annotation.prototype.previous=function(){this.hide.preventRemovalOfCoverClass=!0;var a=this.viewer.models.annotations.getPreviousAnnotation(this.id);a&&this.page.set.showAnnotation({index:a.index,id:a.id,top:a.top})};
DV.Annotation.prototype.show=function(a){this.annotationEl.find("div.DV-annotationBG").css({display:"block",opacity:1});this.annotationEl.addClass("DV-activeAnnotation");this.annotationEl.toggleClass("DV-isOwner",this.model.owns_note);this.viewer.configureActiveAnnotation(this);this.active=!0;this.pageEl.parent(".DV-set").addClass("DV-activePage");a&&a.edit&&this.showEdit()};
DV.Annotation.prototype.hide=function(a){parseInt(this.viewer.elements.currentPage.text(),10);"page"!==this.type&&this.annotationEl.find("div.DV-annotationBG").css({opacity:0,display:"none"});var b=this.annotationEl.hasClass("DV-editing");this.annotationEl.removeClass("DV-editing DV-activeAnnotation");!0===a&&this.viewer.elements.window.removeClass("DV-coverVisible");if(!1===this.hide.preventRemovalOfCoverClass||!this.hide.preventRemovalOfCoverClass)this.viewer.elements.window.removeClass("DV-coverVisible"),
this.hide.preventRemovalOfCoverClass=!1;this.viewer.activeAnnotation=null;this.viewer.events.trackAnnotation.h=null;this.viewer.events.trackAnnotation.id=null;this.viewer.events.trackAnnotation.combined=null;this.active=!1;this.viewer.pageSet.setActiveAnnotation(null);this.viewer.helpers.removeObserver("trackAnnotation");this.viewer.helpers.setActiveAnnotationInNav();this.pageEl.parent(".DV-set").removeClass("DV-activePage");this.removeConnector(!0);b&&this.viewer.helpers.saveAnnotation({target:this.annotationEl},
"onlyIfText")};DV.Annotation.prototype.toggle=function(a){this.viewer.activeAnnotation&&this.viewer.activeAnnotation!=this&&this.viewer.activeAnnotation.hide();"page"!==this.type&&(this.annotationEl.toggleClass("DV-activeAnnotation"),!0==this.active?this.hide(!0):this.show())};DV.Annotation.prototype.drawConnector=function(){!0!=this.active&&(this.viewer.elements.window.addClass("DV-annotationActivated"),this.annotationEl.addClass("DV-annotationHover"))};
DV.Annotation.prototype.removeConnector=function(a){!0!=this.active&&(this.viewer.elements.window.removeClass("DV-annotationActivated"),this.annotationEl.removeClass("DV-annotationHover"))};DV.Annotation.prototype.showEdit=function(){this.annotationEl.addClass("DV-editing");this.viewer.$(".DV-annotationTitleInput",this.annotationEl).focus()};DV.Annotation.prototype.allowEdit=function(a){this.annotationEl.toggleClass("DV-canEdit",a)};
DV.Annotation.prototype.remove=function(){DV.jQuery("#DV-annotation-"+this.id).remove()};DV.DragReporter=function(a,b,c,d){this.viewer=a;this.dragClassName="DV-dragging";this.sensitivityX=this.sensitivityY=1;this.oldPageY=0;DV._.extend(this,d);this.dispatcher=c;this.toWatch=this.viewer.$(b);this.boundReporter=DV._.bind(this.mouseMoveReporter,this);this.boundMouseUpReporter=DV._.bind(this.mouseUpReporter,this);this.boundMouseDownReporter=DV._.bind(this.mouseDownReporter,this);this.setBinding()};
DV.DragReporter.prototype.shouldIgnore=function(a){if(!this.ignoreSelector)return!1;a=this.viewer.$(a.target);return a.parents().is(this.ignoreSelector)||a.is(this.ignoreSelector)};DV.DragReporter.prototype.mouseUpReporter=function(a){if(this.shouldIgnore(a))return!0;a.preventDefault();clearInterval(this.updateTimer);this.stop()};DV.DragReporter.prototype.oldPositionUpdater=function(){this.oldPageY=this.pageY};
DV.DragReporter.prototype.stop=function(){this.toWatch.removeClass(this.dragClassName);this.toWatch.unbind("mousemove")};DV.DragReporter.prototype.setBinding=function(){this.toWatch.mouseup(this.boundMouseUpReporter);this.toWatch.mousedown(this.boundMouseDownReporter)};DV.DragReporter.prototype.unBind=function(){this.toWatch.unbind("mouseup",this.boundMouseUpReporter);this.toWatch.unbind("mousedown",this.boundMouseDownReporter)};
DV.DragReporter.prototype.destroy=function(){this.unBind();this.toWatch=null};DV.DragReporter.prototype.mouseDownReporter=function(a){if(this.shouldIgnore(a))return!0;a.preventDefault();this.pageY=a.pageY;this.pageX=a.pageX;this.oldPageY=a.pageY;this.updateTimer=setInterval(DV._.bind(this.oldPositionUpdater,this),1200);this.toWatch.addClass(this.dragClassName);this.toWatch.mousemove(this.boundReporter)};
DV.DragReporter.prototype.mouseMoveReporter=function(a){if(this.shouldIgnore(a))return!0;a.preventDefault();var b=Math.round(this.sensitivityX*(this.pageX-a.pageX)),c=Math.round(this.sensitivityY*(this.pageY-a.pageY));this.pageY=a.pageY;this.pageX=a.pageX;0===c&&0===b||this.dispatcher({event:a,deltaX:b,deltaY:c,directionX:0<b?"right":"left",directionY:0<c?"down":"up"})};DV.Elements=function(a){this._viewer=a;a=DV.Schema.elements;for(var b=0,c=a.length;b<c;b++)this.getElement(a[b])};
DV.Elements.prototype.getElement=function(a,b){this[a.name]=this._viewer.$(a.query)};
DV.History=function(a){this.viewer=a;DV.History.count++;this.URL_CHECK_INTERVAL=500;this.USE_IFRAME=DV.jQuery.browser.msie&&8>DV.jQuery.browser.version;this.handlers=[];this.defaultCallback=null;this.hash=window.location.hash;DV._.bindAll(this,"checkURL");1<DV.History.count||DV.jQuery(DV._.bind(function(){this.USE_IFRAME&&(this.iframe=DV.jQuery('<iframe src="javascript:0"/>').hide().appendTo("body")[0].contentWindow);"onhashchange"in window?window.onhashchange=this.checkURL:setInterval(this.checkURL,
this.URL_CHECK_INTERVAL)},this))};DV.History.count=0;
DV.History.prototype={register:function(a,b){this.handlers.push({matcher:a,callback:b})},save:function(a){1<DV.History.count||(window.location.hash=this.hash=a?"#"+a:"",this.USE_IFRAME&&(this.iframe&&this.hash!=this.iframe.location.hash)&&(this.iframe.document.open().close(),this.iframe.location.hash=this.hash))},checkURL:function(){if(!(1<DV.History.count)){try{var a=(this.USE_IFRAME?this.iframe:window).location.hash}catch(b){}if(!a||a==this.hash||"#"+a==this.hash||a==decodeURIComponent(this.hash))return!1;
this.USE_IFRAME&&(window.location.hash=a);this.loadURL(!0)}},loadURL:function(a){for(var b=this.hash=window.location.hash,c=this.handlers.length-1;0<=c;c--){var d=b.match(this.handlers[c].matcher);if(d)return!0===a&&this.handlers[c].callback.apply(this.handlers[c].callback,d.slice(1,d.length)),!0}if(null!=this.defaultCallback&&!0===a)this.defaultCallback();else return!1}};
(function(a,b){function c(b){this.codes={};this.sprintf=a.sprintf.noConflict();this.reconfigure(b);this.translate=d.bind(this.translate,this);t.push(this)}var d=a._,f=a.jQuery,n=a.I18n;if(d.isUndefined(a.I18n)){var k;k=a.console?window.console:{warn:f.noop,error:f.noop};var q={},t=[];c.noConflict=function(){a.I18n=n;return this};c.load=function(a){q[a.namespace]?q[a.namespace].push(a):q[a.namespace]=[a];d.each(t,function(a){a.reconfigure()});return!0};c.prototype._set=function(b,c){c||(c=a.DC_LANGUAGE_CODES?
a.DC_LANGUAGE_CODES[b]:"eng");this.codes[b]=c;this[b]=this.packForCode(c);return this[b]};c.prototype.reconfigure=function(a){d.isUndefined(a)?a=this.options:this.options=a;q[a.namespace]&&(this.packs=q[a.namespace]);if(a.language){var b=this._set("language",a.language);b&&d.isFunction(b.initialize)&&b.initialize()}a.fallback&&this._set("fallback",a.fallback)};c.prototype.packForCode=function(a){return d.detect(this.packs,function(b){return b.code==a})};c.prototype.translate=function(a,b){var c,f;
f=this.language;if(!f||!(c=f.strings[a]))if(k.warn("[i18n] lookup for "+a+" in '"+(f?f.code:this.options.language+" (missing)")+"' failed."),f=this.fallback,!f||!(c=f.strings[a]))return k.error("[i18n] lookup for "+a+" failed in all languages"),a;d.isArray(c)&&(c=c[f.pluralizer(d.isUndefined(b)?1:b)]);return this.sprintf.with_array(c,d.toArray(arguments).slice(1))};a.I18n=c}})(this);
DV.Page=function(a,b){this.viewer=a;this.index=b.index;for(var c in b)this[c]=b[c];this.el=this.viewer.$(this.el);this.parent=this.el.parent();this.pageNumberEl=this.el.find("span.DV-pageNumber");this.pageInsertEl=this.el.find(".DV-pageNoteInsert");this.removedOverlayEl=this.el.find(".DV-overlay");this.pageImageEl=this.getPageImage();this.pageEl=this.el.find("div.DV-page");this.annotationContainerEl=this.el.find("div.DV-annotations");this.coverEl=this.el.find("div.DV-cover");this.loadTimer=null;this.hasLayerRegional=
this.hasLayerPage=!1;this.pageNumber=this.offset=this.imgSource=null;this.zoom=1;this.annotations=[];c=this.viewer.models;this.model_document=c.document;this.model_pages=c.pages;this.model_annotations=c.annotations;this.model_chapters=c.chapters};DV.Page.prototype.setPageImage=function(){this.pageImageEl=this.getPageImage()};DV.Page.prototype.getPageImage=function(){return this.el.find("img.DV-pageImage")};DV.Page.prototype.getOffset=function(){return this.model_document.offsets[this.index]};
DV.Page.prototype.getPageNoteHeight=function(){return this.model_pages.pageNoteHeights[this.index]};
DV.Page.prototype.draw=function(a){if(!(this.index===a.index&&!a.force&&this.imgSource==this.model_pages.imageURL(this.index))){this.index=!0===a.force?this.index:a.index;var b=this.model_pages.imageURL(this.index);this.el[0].className=this.el[0].className.replace(/\s*DV-page-\d+/,"")+" DV-page-"+(this.index+1);this.imgSource!=b&&(this.imgSource=b,this.loadImage());this.sizeImage();this.position();if(this.pageNumber!=this.index+1||!0===a.forceAnnotationRedraw){for(b=0;b<this.annotations.length;b++)this.annotations[b].remove(),
delete this.annotations[b],this.hasLayerPage=this.hasLayerRegional=!1;this.annotations=[];var c=this.model_annotations.byPage[this.index];if(c)for(b=0;b<c.length;b++){var d=c[b];if(d.id===this.viewer.annotationToLoadId){var f=!0;d.id===this.viewer.annotationToLoadEdit&&(a.edit=!0);this.viewer.openingAnnotationFromHash&&(this.viewer.helpers.jump(this.index,(d.top||0)-37),this.viewer.openingAnnotationFromHash=!1)}else f=!1;"page"==d.type?this.hasLayerPage=!0:"regional"==d.type&&(this.hasLayerRegional=
!0);var n=this.viewer.$(".DV-allAnnotations .DV-annotation[rel=aid-"+d.id+"]").clone();n.attr("id","DV-annotation-"+d.id);n.find(".DV-img").each(function(){var a=DV.jQuery(this);a.attr("src",a.attr("data-src"))});d=new DV.Annotation({renderedHTML:n,id:d.id,page:this,pageEl:this.pageEl,annotationContainerEl:this.annotationContainerEl,pageNumber:this.pageNumber,state:"collapsed",top:d.y1,left:d.x1,width:d.x1+d.x2,height:d.y1+d.y2,active:f,showEdit:a.edit,type:d.type});this.annotations.push(d)}this.pageInsertEl.toggleClass("visible",
!this.hasLayerPage);this.renderMeta({pageNumber:this.index+1});this.drawRemoveOverlay()}this.setPageType()}};DV.Page.prototype.drawRemoveOverlay=function(){this.removedOverlayEl.toggleClass("visible",!!this.viewer.models.removedPages[this.index+1])};DV.Page.prototype.setPageType=function(){0<this.annotations.length?(!0===this.hasLayerPage&&this.el.addClass("DV-layer-page"),!0===this.hasLayerRegional&&this.el.addClass("DV-layer-page")):this.el.removeClass("DV-layer-page DV-layer-regional")};
DV.Page.prototype.position=function(a){this.el.css({top:this.model_document.offsets[this.index]});this.offset=this.getOffset()};DV.Page.prototype.renderMeta=function(a){this.pageNumberEl.text("p. "+a.pageNumber);this.pageNumber=a.pageNumber};
DV.Page.prototype.loadImage=function(a){this.loadTimer&&(clearTimeout(this.loadTimer),delete this.loadTimer);this.el.removeClass("DV-loaded").addClass("DV-loading");var b=this.model_pages,c=DV.jQuery(new Image),d=this;this.loadTimer=setTimeout(function(){d.loadTimer&&(clearTimeout(d.loadTimer),delete d.loadTimer);c.bind("load readystatechange",function(a){if((this.complete||"complete"==this.readyState&&"readystatechange"==a.type)&&c==d._currentLoader)b.updateHeight(c[0],d.index),d.drawImage(c[0].src),
clearTimeout(d.loadTimer),delete d.loadTimer});var a=d.model_pages.imageURL(d.index);d._currentLoader=c;c[0].src=a},150);this.viewer.pageSet.redraw()};DV.Page.prototype.sizeImage=function(){var a=this.model_pages.width,b=this.model_pages.getPageHeight(this.index);this.coverEl.css({width:a,height:b});this.pageImageEl.css({width:a,height:b});this.el.css({height:b,width:a});this.pageEl.css({height:b,width:a})};
DV.Page.prototype.drawImage=function(a){var b=this.model_pages.getPageHeight(this.index);a==this.pageImageEl.attr("src")&&b==this.pageImageEl.attr("height")||(this.pageImageEl.replaceWith('<img width="'+this.model_pages.width+'" height="'+b+'" class="DV-pageImage" src="'+a+'" />'),this.setPageImage(),this.sizeImage());this.el.addClass("DV-loaded").removeClass("DV-loading")};DV.PageSet=function(a){this.currentPage=null;this.pages={};this.viewer=a;this.zoomText()};
DV.PageSet.prototype.execute=function(a,b){this.pages.each(function(c){c[a].apply(c,b)})};DV.PageSet.prototype.buildPages=function(a){a=this.getPages();DV._.each(a,function(a){a.set=this;this.pages[a.label]=new DV.Page(this.viewer,a);!0==a.currentPage&&(this.currentPage=this.pages[a.label])},this);this.viewer.models.annotations.renderAnnotations()};
DV.PageSet.prototype.getPages=function(){var a=[];this.viewer.elements.sets.each(function(b,c){a.push({label:"p"+b,el:c,index:b,pageNumber:b+1,currentPage:0==b?!0:!1})});return a};DV.PageSet.prototype.reflowPages=function(){this.viewer.models.pages.resize();this.viewer.helpers.setActiveAnnotationLimits();this.redraw(!1,!0)};DV.PageSet.prototype.simpleReflowPages=function(){this.viewer.helpers.setActiveAnnotationLimits();this.redraw(!1,!1)};
DV.PageSet.prototype.cleanUp=function(){this.viewer.activeAnnotation&&this.viewer.activeAnnotation.hide(!0)};
DV.PageSet.prototype.zoom=function(a){if(this.viewer.models.document.zoomLevel!==a.zoomLevel){var b=this.viewer.models.document.currentIndex(),b=this.viewer.models.document.offsets[b],c=a.zoomLevel/(1*this.viewer.models.document.zoomLevel),d=this.viewer.elements.window.scrollTop();this.viewer.models.document.zoom(a.zoomLevel);b=(parseInt(d,10)>parseInt(b,10)?d-b:b-d)/this.viewer.models.pages.height;this.reflowPages();this.zoomText();"ViewThumbnails"===this.viewer.state&&(this.viewer.thumbnails.setZoom(a.zoomLevel),
this.viewer.thumbnails.lazyloadThumbnails());"ViewDocument"===this.viewer.state&&this.viewer.$(".DV-annotationRegion.DV-accessRedact").each(function(){var a=DV.jQuery(this);a.css({top:Math.round(a.position().top*c),left:Math.round(a.position().left*c),width:Math.round(a.width()*c),height:Math.round(a.height()*c)})});null!=this.viewer.activeAnnotation?(a={index:this.viewer.models.document.currentIndex(),top:this.viewer.activeAnnotation.top,id:this.viewer.activeAnnotation.id},this.viewer.activeAnnotation=
null,this.showAnnotation(a),this.viewer.helpers.setActiveAnnotationLimits(this.viewer.activeAnnotation)):(a=Math.round(this.viewer.models.pages.height*b),this.viewer.helpers.jump(this.viewer.models.document.currentIndex(),a))}};DV.PageSet.prototype.zoomText=function(){var a=this.viewer.models.pages.getPadding(),b=this.viewer.models.pages.zoomLevel;this.viewer.$(".DV-textContents").width(b-a);this.viewer.$(".DV-textPage").width(b);this.viewer.elements.collection.css({width:b+a})};
DV.PageSet.prototype.draw=function(a){for(var b=0,c=a.length;b<c;b++){var d=this.pages[a[b].label];d&&d.draw({index:a[b].index,pageNumber:a[b].index+1})}};
DV.PageSet.prototype.redraw=function(a,b){this.pages.p0&&this.pages.p0.draw({force:!0,forceAnnotationRedraw:b});this.pages.p1&&this.pages.p1.draw({force:!0,forceAnnotationRedraw:b});this.pages.p2&&this.pages.p2.draw({force:!0,forceAnnotationRedraw:b});b&&this.viewer.activeAnnotation&&this.viewer.helpers.jump(this.viewer.activeAnnotation.page.index,this.viewer.activeAnnotation.position.top-37)};
DV.PageSet.prototype.setActiveAnnotation=function(a,b){this.viewer.annotationToLoadId=a;this.viewer.annotationToLoadEdit=b?a:null};
DV.PageSet.prototype.showAnnotation=function(a,b){b=b||{};if("ViewAnnotation"===this.viewer.state){var c=this.viewer.$(".DV-allAnnotations div[rel=aid-"+a.id+"]")[0].offsetTop;this.viewer.elements.window.scrollTop(c+10,"fast");this.viewer.helpers.setActiveAnnotationInNav(a.id);this.viewer.activeAnnotationId=a.id}else{this.viewer.helpers.removeObserver("trackAnnotation");this.viewer.activeAnnotationId=null;null!=this.viewer.activeAnnotation&&this.viewer.activeAnnotation.hide();this.setActiveAnnotation(a.id,
b.edit);for(var c=a.top-("page"==this.viewer.models.annotations.byId[a.id].type?-7:36),d=0;2>=d;d++)if(this.pages["p"+d])for(var f=0;f<this.pages["p"+d].annotations.length;f++)if(this.pages["p"+d].annotations[f].id===a.id){this.viewer.helpers.jump(a.index,c);this.pages["p"+d].annotations[f].show(b);return}this.viewer.helpers.jump(a.index,c)}};
DV.Thumbnails=function(a){this.currentIndex=0;this.scrollTimer=this.zoomLevel=null;this.imageUrl=a.schema.document.resources.page.image.replace(/\{size\}/,"small");this.pageCount=a.schema.document.pages;this.viewer=a;this.resizeId=parseInt(DV._.uniqueId());this.sizes={0:{w:60,h:75},1:{w:90,h:112},2:{w:120,h:150},3:{w:150,h:188},4:{w:180,h:225}};DV._.bindAll(this,"lazyloadThumbnails","loadThumbnails")};
DV.Thumbnails.prototype.render=function(){this.el=this.viewer.$(".DV-thumbnails");this.getCurrentIndex();this.getZoom();this.buildThumbnails(1,this.pageCount);this.setZoom();this.viewer.elements.window.unbind("scroll.thumbnails").bind("scroll.thumbnails",this.lazyloadThumbnails);var a="resize.thumbnails-"+this.resizeId;DV.jQuery(window).unbind(a).bind(a,this.lazyloadThumbnails)};
DV.Thumbnails.prototype.buildThumbnails=function(a,b){1==a&&this.el.empty();var c=JST.thumbnails({page:a,endPage:b,zoom:this.zoomLevel,imageUrl:this.imageUrl});this.el.html(this.el.html()+c);this.highlightCurrentPage();DV._.defer(this.loadThumbnails)};DV.Thumbnails.prototype.getCurrentIndex=function(){this.currentIndex=this.viewer.models.document.currentIndex()};
DV.Thumbnails.prototype.highlightCurrentPage=function(){this.currentIndex=this.viewer.models.document.currentIndex();this.viewer.$(".DV-thumbnail.DV-selected").removeClass("DV-selected");var a=this.viewer.$(".DV-thumbnail:eq("+this.currentIndex+")");if(a.length){a.addClass("DV-selected");var b=this.viewer.$(".DV-pages");b.scrollTop(b.scrollTop()+a.position().top-12)}};
DV.Thumbnails.prototype.setZoom=function(a){this.getZoom(a);var b=this.sizes[this.zoomLevel];this.viewer.$(".DV-hasHeight").each(function(a){a=b.w/this.width;DV.jQuery(this).css({height:this.height*a})});this.viewer.$(".DV-hasWidth").each(function(a){a=b.h/this.height;var d=DV.jQuery(this);d.add(d.prev(".DV-thumbnail-shadow")).css({width:this.width*a})});this.el[0].className=this.el[0].className.replace(/DV-zoom-\d\s*/,"");this.el.addClass("DV-zoom-"+this.zoomLevel)};
DV.Thumbnails.prototype.getZoom=function(a){return null!=a?this.zoomLevel=DV._.indexOf(this.viewer.models.document.ZOOM_RANGES,a):this.zoomLevel=this.viewer.slider.slider("value")};DV.Thumbnails.prototype.setImageSize=function(a,b){var c=this.sizes[this.zoomLevel],d=a.height*(c.w/a.width);if(10<Math.abs(c.h-d)||/DV-has/.test(b[0].className))d<c.h?b.addClass("DV-hasHeight").css({height:d}):(c=c.w/(d/c.h),b.add(b.prev(".DV-thumbnail-shadow")).addClass("DV-hasWidth").css({width:c}));b.attr({src:a.src})};
DV.Thumbnails.prototype.lazyloadThumbnails=function(){"ViewThumbnails"==this.viewer.state&&(this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(this.loadThumbnails,100))};
DV.Thumbnails.prototype.loadThumbnails=function(){var a=this.viewer,b=a.$(".DV-thumbnails").width(),c=a.elements.window.height(),d=a.elements.window.scrollTop(),c=d+c,f=a.$(".DV-thumbnail:first-child"),a=f.outerHeight(!0),f=f.outerWidth(!0),b=Math.floor(b/f),d=Math.floor(d/a*b),c=Math.ceil(c/a*b);this.loadImages(d-(d%b+1),c+(b-c%b))};
DV.Thumbnails.prototype.loadImages=function(a,b){var c=this,d=this.viewer;d.$(".DV-thumbnail"+(b<=this.pageCount?":lt("+b+")":"")+(0<a?":gt("+a+")":"")).each(function(a){a=d.$(this);if(!a.attr("src")){a=d.$(".DV-thumbnail-image",a);var b=new Image;DV.jQuery(b).bind("load",DV._.bind(c.setImageSize,c,b,a)).attr({src:a.attr("data-src")})}})};
(function(a,b){var c=a._;Translations=function(b){this.aliases=b.aliases||[];this.viewer=b.viewer;this.locale=this.viewer.schema.document.display_language||"eng";b=a.DC_LANGUAGE_CODES?a.DC_LANGUAGE_CODES:{language:this.locale,fallback:"eng"};b.namespace="DV";a.DV.I18n?a.DV.I18n.reconfigure(b):a.DV.I18n=new I18n(b);this.i18n=a.DV.I18n;a.DV.t=this.i18n.translate};Translations.prototype.setAliases=function(a){this.aliases=a||[];return this};Translations.prototype.detectLocale=function(){for(var a=(navigator.language||
navigator.userLanguage||"").toLowerCase(),b=0,n=this.aliases.length;b<n;b++){var k=this.aliases[b],q;for(q in k)if(k.hasOwnProperty(q)&&!0===(c.isString(k[q])&&k[q]===a||c.isArray(k[q])&&-1!=k[q].indexOf(a)||c.isRegExp(k[q])&&a.match(k[q])||c.isFunction(k[q])&&!0==k[q].call(a))){a=q;break}}this.i18n.packForCode(a)&&this.setLocale(a);return this.locale};Translations.prototype.setLocale=function(b){if(this.i18n.packForCode(b))this.renderWithLocale(b);else{var c=this,n=this.viewer.schema.data.translationsURL.replace(/\{language\}/,
b).replace(/\{realm\}/,"viewer")+".json";a.DV.jQuery.ajax({url:n,dataType:"jsonp",success:function(a){this.i18n.load(a);c.renderWithLocale(b)}})}return this};Translations.prototype.renderWithLocale=function(a){}})(this);
window.I18n.load({namespace:"DV",code:"eng",nplurals:2,pluralizer:function(a){return 1!=a?1:0},strings:{CLOSE:"CLOSE",add_note_instructions:"Highlight a portion of the page, or click between pages to create a note.",add_private_note:"Add a Private Note",add_private_note_warn:"No one apart from you is ever allowed to view your private notes.",add_public_note:"Add a Public Note",add_public_note_warn:"Public notes are visible to everyone who views this document.",annotated_by:"Annotated by: %s",annotation_title:"Annotation Title",
cancel:"Cancel",click_add_page_note:"Click to Add a Page Note",container_not_found:"Document Viewer container element not found:",contents:"Contents",contributed_by:"Contributed by","delete":"Delete",description:"Description",dl_as_pdf:"Download this document as a PDF",document:["Document","Documents"],document_tools:"Document Tools",draft:"Draft",draft_note_visible:"This draft is only visible to you and collaborators.",edit_data:"Edit Data",expand:"Expand",finish:"Finish","for":"for",install_chrome_frame:"Or, if you'd like to continue using Internet Explorer 6, you can %sinstall Google Chrome Frame%s.",
link_to_note:"Link to this note",loading:"Loading",log_in:"Log In",log_out:"Log Out",logged_in_as:"Logged in as %s",must_upgrade:"To use the Document Viewer you need to upgrade your browser:",next:"Next",next_note:"Next Annotation",note:["Note","Notes"],note_by:"Note by %s",of:"of",organizations_documents:"Documents belonging to %s",original_document_pdf:"Original Document (PDF)",page:["Page","Pages"],pg:"p.",previous:"Previous",previous_note:"Previous Annotation",print_document_help:'To print the document, click the "Original Document" link to open the original PDF. At this time it is not possible to print the document with annotations.',
print_notes:"Print Notes",private_note:"Private note",private_note_visible:"This private note is only visible to you.",publish:"Publish",related_article:"Related Article",reviewer:"Reviewer",save:"Save",save_as_draft:"Save as Draft",search:"Search",text:"Text",toggle_description:"Toggle Description",untitled_note:"Untitled Note",view_fullscreen:"View Document in Fullscreen",x_collaborators:["One Collaborator","%d Collaborators"],x_documents:["%d Document","%d Documents"],x_notes:["%d Note","%d Notes"],
x_pages:["%d Page","%d Pages"],zoom:"Zoom"}});
window.I18n.load({namespace:"DV",code:"rus",nplurals:3,initialize:function(){window.dc&&window.dc.inflector&&(window.dc.inflector.possessivize=function(a){return a})},pluralizer:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},strings:{CLOSE:"\u0417\u0410\u041a\u0420\u042b\u0422\u042c",add_note_instructions:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u0435 \u0447\u0430\u0441\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0438\u043b\u0438 \u0449\u0435\u043b\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0435 \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",add_private_note:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u0437\u0430\u043c\u0435\u0442\u043a\u0443",
add_private_note_warn:"\u0412\u0430\u0448\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u0432\u0438\u0434\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u043c \u0438 \u043d\u0438\u043a\u043e\u043c\u0443 \u043a\u0440\u043e\u043c\u0435 \u0432\u0430\u0441.",add_public_note:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u0437\u0430\u043c\u0435\u0442\u043a\u0443",add_public_note_warn:"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u0438\u0434\u043d\u044b \u0432\u0441\u0435\u043c, \u043a\u0442\u043e \u0443\u0432\u0438\u0434\u0438\u0442 \u044d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",
annotated_by:"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u043c\u0435\u0442\u043a\u0438: %s",annotation_title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",click_add_page_note:"\u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",container_not_found:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0432 \u043e\u043a\u043d\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d:",
contents:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435",contributed_by:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e","delete":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",dl_as_pdf:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432 \u0432\u0438\u0434\u0435 PDF",document:["\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"],
document_tools:"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b",draft:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a",draft_note_visible:"\u042d\u0442\u043e\u0442 \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u043c \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043b\u0438",
edit_data:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",expand:"\u041d\u0430 \u0432\u0441\u0435 \u043e\u043a\u043d\u043e",finish:"\u0413\u043e\u0442\u043e\u0432\u043e","for":"\u0434\u043b\u044f",install_chrome_frame:"\u0418\u043b\u0438, \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u0441\u0435 \u0442\u0430\u043a\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0434\u0430\u043b\u044c\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Internet Explorer 6, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 %s\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Google Chrome Frame%s.",
link_to_note:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u044d\u0442\u0443 \u0437\u0430\u043c\u0435\u0442\u043a\u0443",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",log_in:"\u0412\u043e\u0439\u0442\u0438",log_out:"\u0412\u044b\u0439\u0442\u0438",logged_in_as:"\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a %s",must_upgrade:"\u0427\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u043a\u043e\u0448\u043a\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440:",
next:"\u0414\u0430\u043b\u0435\u0435",next_note:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430",note:["\u0417\u0430\u043c\u0435\u0442\u043a\u0430","\u0417\u0430\u043c\u0435\u0442\u043a\u0438"],note_by:"\u0417\u0430\u043c\u0435\u0442\u043a\u0443 \u043e\u0441\u0442\u0430\u0432\u0438\u043b %s",of:"\u0438\u0437",organizations_documents:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b %s",original_document_pdf:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 (PDF)",
page:["\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430","\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"],pg:"\u0441.",previous:"\u041d\u0430\u0437\u0430\u0434",previous_note:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430",print_document_help:'\u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0435 "\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430" - \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 PDF. \u0418\u043c\u0435\u0439\u0442\u0435 \u0432\u0432\u0438\u0434\u0443, \u0447\u0442\u043e \u0432 \u0442\u0430\u043a\u043e\u043c \u0432\u0438\u0434\u0435 \u043d\u0430\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043b\u044c\u0437\u044f.',
print_notes:"\u041d\u0430\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0438",private_note:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430",private_note_visible:"\u042d\u0442\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0430 \u0432\u0438\u0434\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u043c",publish:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",
related_article:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",reviewer:"\u0420\u0435\u0446\u0435\u043d\u0437\u0435\u043d\u0442",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",save_as_draft:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a",search:"\u041f\u043e\u0438\u0441\u043a",text:"\u0422\u0435\u043a\u0441\u0442",untitled_note:"\u0417\u0430\u043c\u0435\u0442\u043a\u0430 \u0431\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",
view_fullscreen:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043d\u0430 \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d",x_collaborators:["\u041e\u0434\u0438\u043d \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c","%d \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"],
x_documents:["%d \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442","%d \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430","%d \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"],x_notes:["%d \u0417\u0430\u043c\u0435\u0442\u043a\u0430","%d \u0417\u0430\u043c\u0435\u0442\u043a\u0438"],x_pages:["%d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430","%d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","%d \u0441\u0442\u0440\u0430\u043d\u0438\u0446"],zoom:"\u041c\u0430\u0441\u0448\u0442\u0430\u0431"}});
window.I18n.load({namespace:"DV",code:"spa",nplurals:2,pluralizer:function(a){return 1!=a?1:0},strings:{CLOSE:"CERRAR",add_note_instructions:"Destacar una parte de la p\u00e1gina, o hacer clic entre p\u00e1ginas para crear una nota.",add_private_note:"A\u00f1adir una nota privada.",add_private_note_warn:"Nadie m\u00e1s que t\u00fa jamas podr\u00e1 ver tus notas privadas.",add_public_note:"A\u00f1adir una Nota P\u00fablica",add_public_note_warn:"Notas P\u00fablicas son visibles para todos los que vean este documento.",
annotated_by:"Anotado por: %s",annotation_title:"T\u00edtulo de Anotaci\u00f3n",cancel:"Cancelar",click_add_page_note:"Haz clic para a\u00f1adir una Nota",container_not_found:"Document Viewer container element not found:",contents:"Contenidos",contributed_by:"Contribuido por","delete":"Borrar",description:"Descripci\u00f3n",dl_as_pdf:"Descargar este documento en PDF",document:["Documento","Documentos"],document_tools:"Herramientas",draft:"Borrador",draft_note_visible:"Esta nota en borrador s\u00f3lo la pueden ver t\u00fa y tus colaboradores.",
edit_data:"Editar datos",expand:"Expandir",finish:"Acabados","for":"para",install_chrome_frame:"O, si quieres continuar usando Internet Explorer 6, puedes %sinstalar Google Chrome Frame%s.",link_to_note:"Crear enlace a esta nota",loading:"Cargando",log_in:"Iniciar sesi\u00f3n\n",log_out:"Terminar la sesi\u00f3n",logged_in_as:"Conectado como %s",must_upgrade:"Necesitas actualizar tu navegador para usar el marco de inspectar los documentos:",next:"Pr\u00f3ximo",next_note:"Pr\u00f3xima Anotaci\u00f3n",
note:["Nota","Notas"],note_by:"Nota por %s",of:"de",organizations_documents:"Documentos de %s",original_document_pdf:"Documento Original (PDF)",page:["P\u00e1gina","P\u00e1ginas"],pg:"p.",previous:"Previa",previous_note:"Previa Anotaci\u00f3n",print_document_help:'Para imprimir el documento, haz clic en el enlace "Documento Original" para abrir el PDF original. Por ahora, no es posible imprimir el documento con sus anotaciones.',print_notes:"Imprimir Notas",private_note:"Nota privada",private_note_visible:"This private note is only visible to you.",
publish:"Publicar",related_article:"Art\u00edculo Relacionado",reviewer:"Revisor",save:"Guardar",save_as_draft:"Guardar como borrador",search:"Buscar",text:"Texto",toggle_description:"Mostrar Descripci\u00f3n",untitled_note:"Nota sin T\u00edtulo",view_fullscreen:"Ver Documento en Pantall Completa",x_collaborators:["Un Colaborador","%d Colaboradores"],x_documents:["%d Documento","%d Documentos"],x_notes:["Una Nota","%d Notas"],x_pages:["Una P\u00e1gina","%d P\u00e1ginas"],zoom:"Tama\u00f1o"}});
window.I18n.load({namespace:"DV",code:"ukr",nplurals:3,initialize:function(){window.dc&&window.dc.inflector&&(window.dc.inflector.possessivize=function(a){return a})},pluralizer:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},strings:{CLOSE:"\u0417\u0410\u041a\u0420\u0418\u0422\u0418",add_note_instructions:"\u0412\u0438\u0434\u0456\u043b\u0438\u0442\u044c \u0447\u0430\u0441\u0442\u0438\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0430\u0431\u043e \u043a\u043b\u0430\u0446\u043d\u0456\u0442\u044c \u043d\u0430 \u0437\u043e\u043d\u0443 \u043c\u0456\u0436 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430\u043c\u0438, \u0449\u043e\u0431 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u0443 \u043d\u043e\u0442\u0430\u0442\u043a\u0443",
add_private_note:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0443 \u043d\u043e\u0442\u0430\u0442\u043a\u0443",add_private_note_warn:"\u0412\u0430\u0448\u0456 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456 \u043d\u043e\u0442\u0430\u0442\u043a\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0456\u043b\u044c\u043a\u0438 \u0432\u0438 \u0456 \u043d\u0456\u0445\u0442\u043e \u043a\u0440\u0456\u043c \u0432\u0430\u0441.",add_public_note:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0443\u0431\u043b\u0456\u0447\u043d\u0443 \u043d\u043e\u0442\u0430\u0442\u043a\u0443",
add_public_note_warn:"\u041f\u0443\u0431\u043b\u0456\u0447\u043d\u0456 \u043d\u043e\u0442\u0430\u0442\u043a\u0438 \u0431\u0443\u0434\u0435 \u0432\u0438\u0434\u043d\u043e \u0432\u0441\u0456\u043c, \u0445\u0442\u043e \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u044c \u0446\u0438\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",annotated_by:"\u0410\u0432\u0442\u043e\u0440 \u043d\u043e\u0442\u0430\u0442\u043a\u0438: %s",annotation_title:"\u041d\u0430\u0437\u0432\u0430 \u043d\u043e\u0442\u0430\u0442\u043a\u0438",
cancel:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438",click_add_page_note:"\u041a\u043b\u0430\u0446\u043d\u0456\u0442\u044c, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0442\u0430\u0442\u043a\u0443",container_not_found:"\u0415\u043b\u0435\u043c\u0435\u043d\u0442 \u0443 \u0432\u0456\u043a\u043e\u043d\u0446\u0456  \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u0438\u0439:",
contents:"\u0417\u043c\u0456\u0441\u0442",contributed_by:"\u0414\u043e\u0434\u0430\u043d\u043e","delete":"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",description:"\u041e\u043f\u0438\u0441",dl_as_pdf:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0446\u0435\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0443 \u0432\u0438\u0433\u043b\u044f\u0434\u0456 PDF",document:["\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442","\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438"],
document_tools:"\u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438",draft:"\u0427\u0435\u0440\u043d\u0435\u0442\u043a\u0430",draft_note_visible:"\u0426\u044f \u0447\u0435\u0440\u043d\u0435\u0442\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u0456\u043b\u044c\u043a\u0438 \u0432\u0430\u043c \u0442\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\u043c, \u044f\u043a\u0438\u0445 \u0432\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0432\u0430\u043b\u0438",
edit_data:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",expand:"\u041d\u0430 \u0432\u0441\u0435 \u0432\u0456\u043a\u043d\u043e",finish:"\u0413\u043e\u0442\u043e\u0432\u043e","for":"\u0434\u043b\u044f",install_chrome_frame:"\u0410\u0431\u043e, \u044f\u043a\u0449\u043e \u0436 \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u0456 \u0434\u0430\u043b\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 Internet Explorer 6, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 %s\u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 Google Chrome Frame%s.",
link_to_note:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 \u0446\u044e \u043d\u043e\u0442\u0430\u0442\u043a\u0443",loading:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f",log_in:"\u0412\u0432\u0456\u0439\u0442\u0438",log_out:"\u0412\u0438\u0439\u0442\u0438",logged_in_as:"\u0412\u0438 \u0443\u0432\u0456\u0439\u0448\u043b\u0438 \u044f\u043a  %s",must_upgrade:"\u0429\u043e\u0431 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u0432\u0456\u043a\u043d\u043e \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432 , \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440:",
next:"\u0414\u0430\u043b\u0456",next_note:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u043e\u0442\u0430\u0442\u043a\u0430",note:["\u041d\u043e\u0442\u0430\u0442\u043a\u0430","\u041d\u043e\u0442\u0430\u0442\u043a\u0438"],note_by:"\u041d\u043e\u0442\u0430\u0442\u043a\u0443 \u0437\u0430\u043b\u0438\u0448\u0438\u0432 %s",of:"\u0437",organizations_documents:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438 %s",original_document_pdf:"\u041e\u0440\u0438\u0433\u0456\u043d\u0430\u043b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0443 (PDF)",
page:["\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430","\u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438"],pg:"\u0441.",previous:"\u041d\u0430\u0437\u0430\u0434",previous_note:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044f \u0437\u0430\u043c\u0456\u0442\u043a\u0430",print_document_help:'\u0429\u043e\u0431 \u0440\u043e\u0437\u0434\u0440\u0443\u043a\u0443\u0432\u0430\u0442\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u0456 "\u041e\u0440\u0438\u0433\u0456\u043d\u0430\u043b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0443" - \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 PDF. \u041c\u0430\u0439\u0442\u0435 \u043d\u0430 \u0443\u0432\u0430\u0437\u0456 , \u0449\u043e \u0432 \u0442\u0430\u043a\u043e\u043c\u0443 \u0432\u0438\u0433\u043b\u044f\u0434\u0456 \u043d\u0430\u0434\u0440\u0443\u043a\u0443\u0432\u0430\u0442\u0438 \u0437\u0430\u043c\u0456\u0442\u043a\u0438 \u0431\u0443\u0434\u0435 \u043d\u0435 \u043c\u043e\u0436\u043d\u0430.',
print_notes:"\u041d\u0430\u0434\u0440\u0443\u043a\u0443\u0432\u0430\u0442\u0438 \u043d\u043e\u0442\u0430\u0442\u043a\u0438",private_note:"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0430 \u043d\u043e\u0442\u0430\u0442\u043a\u0430",private_note_visible:"\u0426\u044e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0443 \u043d\u043e\u0442\u0430\u0442\u043a\u0443 \u043c\u043e\u0436\u0435\u0442\u0435 \u0431\u0430\u0447\u0438\u0442\u0438 \u0442\u0456\u043b\u044c\u043a\u0438 \u0432\u0438 ",publish:"\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u0443\u0432\u0430\u0442\u0438",
related_article:"\u041f\u043e\u0432'\u044f\u0437\u0430\u043d\u0456 \u0441\u0442\u0430\u0442\u0442\u0456",reviewer:"\u0420\u0435\u0446\u0435\u043d\u0437\u0435\u043d\u0442",save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",save_as_draft:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0447\u0435\u0440\u043d\u0435\u0442\u043a\u0443",search:"\u041f\u043e\u0448\u0443\u043a",text:"\u0422\u0435\u043a\u0441\u0442",untitled_note:"\u041d\u043e\u0442\u0430\u0442\u043a\u0430 \u0431\u0435\u0437 \u043d\u0430\u0437\u0432\u0438",
view_fullscreen:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043d\u0430 \u0432\u0435\u0441\u044c \u0435\u043a\u0440\u0430\u043d",x_collaborators:["\u041e\u0434\u0438\u043d \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447","%d \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432"],
x_documents:["%d \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442","%d \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430","%d \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0456\u0432"],x_notes:["%d \u041d\u043e\u0442\u0430\u0442\u043a\u0430","%d \u041d\u043e\u0442\u0430\u0442\u043a\u0438"],x_pages:["%d \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430","%d \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438","%d \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a"],zoom:"\u041c\u0430\u0441\u0448\u0442\u0430\u0431"}});
DV.Schema=function(){this.models={};this.views={};this.states={};this.helpers={};this.events={};this.elements={};this.text={};this.data={zoomLevel:700,pageWidthPadding:20,additionalPaddingOnPage:30,state:{page:{previous:0,current:0,next:1}}}};
DV.Schema.prototype.importCanonicalDocument=function(a){DV._.uniqueId();a.sections=DV._.sortBy(a.sections||[],function(a){return a.page});a.annotations=a.annotations||[];a.annotations_url=a.resources.annotations_url;a.canonicalURL=a.canonical_url;this.document=DV.jQuery.extend(!0,{},a);this.data.title=a.title;this.data.totalPages=a.pages;this.data.totalAnnotations=a.annotations.length;this.data.sections=a.sections;this.data.annotations_url=a.annotations_url;this.data.chapters=[];this.data.annotationsById=
{};this.data.annotationsByPage={};this.data.translationsURL=a.resources.translations_url;DV._.each(a.annotations,DV.jQuery.proxy(this.loadAnnotation,this))};
DV.Schema.prototype.loadAnnotation=function(a){a.id&&(a.server_id=a.id);var b=a.page-1;a.id=a.id||parseInt(DV._.uniqueId());a.title=a.title||DV.t("untitled_note");a.text=a.content||"";a.access=a.access||"public";a.html_content||(a.html_content=a.text);a.type=a.location&&a.location.image?"region":"page";if("region"===a.type){var c=DV.jQuery.map(a.location.image.split(","),function(a,b){return parseInt(a,10)});a.y1=c[0];a.x2=c[1];a.y2=c[2];a.x1=c[3]}else"page"===a.type&&(a.y1=0,a.x2=0,a.y2=0,a.x1=0);
this.data.annotationsById[a.id]=a;b=this.data.annotationsByPage[b]=this.data.annotationsByPage[b]||[];c=DV._.sortedIndex(b,a,function(a){return a.y1});b.splice(c,0,a);return a};
DV.Schema.elements=[{name:"browserDocument",query:document},{name:"browserWindow",query:window},{name:"header",query:"div.DV-header"},{name:"viewer",query:"div.DV-docViewer"},{name:"window",query:"div.DV-pages"},{name:"sets",query:"div.DV-set"},{name:"pages",query:"div.DV-page"},{name:"metas",query:"div.DV-pageMeta"},{name:"bar",query:"div.DV-bar"},{name:"currentPage",query:"span.DV-currentPage"},{name:"well",query:"div.DV-well"},{name:"collection",query:"div.DV-pageCollection"},{name:"annotations",
query:"div.DV-allAnnotations"},{name:"navigation",query:"div.DV-navigation"},{name:"chaptersContainer",query:"div.DV-chaptersContainer"},{name:"searchInput",query:"input.DV-searchInput"},{name:"textCurrentPage",query:"span.DV-textCurrentPage"},{name:"coverPages",query:"div.DV-cover"},{name:"fullscreen",query:"div.DV-fullscreen"},{name:"controlPanel",query:"div.DV-ControlPanel"}];
DV.model.Annotations=function(a){this.LEFT_MARGIN=25;this.PAGE_NOTE_FUDGE=window.dc&&dc.account&&(dc.account.isOwner||dc.account.isReviewer)?46:26;this.viewer=a;this.offsetsAdjustments=[];this.offsetAdjustmentSum=0;this.showingCallbacks=[];this.saveCallbacks=[];this.deleteCallbacks=[];this.byId=this.viewer.schema.data.annotationsById;this.byPage=this.viewer.schema.data.annotationsByPage;this.bySortOrder=this.sortAnnotations()};
DV.model.Annotations.prototype={render:function(a){var b=this.viewer.models.pages,c=b.zoomFactor(),d,f,n,k;"page"===a.type?(d=f=n=k=0,a.top=0):(n=Math.round(a.y1*c),k=Math.round(a.y2*c),d=Math.round(a.x1*c),f=Math.round(a.x2*c),a.top=n-5);a.owns_note=a.owns_note||!1;a.width=b.width;a.pageNumber=a.page;a.author=a.author||"";a.author_organization=a.author_organization||"";a.bgWidth=a.width;a.bWidth=a.width-16;a.excerptWidth=f-d-8;a.excerptMarginLeft=d-3;a.excerptHeight=k-n;a.index=a.page-1;a.image=
b.imageURL(a.index);a.imageTop=n+1;a.tabTop=(35>n?35-n:0)+8;a.imageWidth=b.width;a.imageHeight=Math.round(b.height*c);a.regionLeft=d;a.regionWidth=f-d;a.regionHeight=k-n;a.excerptDSHeight=a.excerptHeight-6;a.DSOffset=3;a.accessClass="DV-access"+a.access.charAt(0).toUpperCase()+a.access.slice(1);a.orderClass="";a.options=this.viewer.options;1==a.position&&(a.orderClass+=" DV-firstAnnotation");a.position==this.bySortOrder.length&&(a.orderClass+=" DV-lastAnnotation");return JST["page"===a.type?"pageAnnotation":
"annotation"](a)},sortAnnotations:function(){return this.bySortOrder=DV._.sortBy(DV._.values(this.byId),function(a){return 1E4*a.page+a.y1})},renderAnnotations:function(){if(!1!==this.viewer.options.showAnnotations){for(var a=0;a<this.bySortOrder.length;a++){var b=this.bySortOrder[a];b.of=DV._.indexOf(this.byPage[b.page-1],b);b.position=a+1;b.html=this.render(b)}this.renderAnnotationsByIndex()}},renderAnnotationsByIndex:function(){var a=DV._.map(this.bySortOrder,function(a){return a.html}).join("").replace(/id="DV-annotation-(\d+)"/g,
function(a,c){return'id="DV-listAnnotation-'+c+'" rel="aid-'+c+'"'});this.viewer.$("div.DV-allAnnotations").html(a);this.renderAnnotationsByIndex.rendered=!0;this.renderAnnotationsByIndex.zoomLevel=this.zoomLevel;this.updateAnnotationOffsets();DV._.defer(DV._.bind(this.updateAnnotationOffsets,this))},refreshAnnotation:function(a){a.html=this.render(a);DV.jQuery.$("#DV-annotation-"+a.id).replaceWith(a.html)},removeAnnotation:function(a,b){delete this.byId[a.id];var c=a.page-1;this.byPage[c]=DV._.without(this.byPage[c],
a);this.sortAnnotations();DV.jQuery("#DV-annotation-"+a.id+", #DV-listAnnotation-"+a.id).remove();this.viewer.api.redraw(!0);DV._.isEmpty(this.byId)&&this.viewer.open("ViewDocument")},updateAnnotationOffsets:function(){this.offsetsAdjustments=[];this.offsetAdjustmentSum=0;var a=this.viewer.models.document,b=this.viewer.$("div.DV-allAnnotations"),c=b.find(".DV-pageNote"),d=this.viewer.models.pages.pageNoteHeights;!1==this.viewer.$("div.DV-docViewer").hasClass("DV-viewAnnotations")&&b.addClass("DV-getHeights");
var f=[];DV._.each(DV._.select(this.bySortOrder,function(a){return"page"==a.type}),function(a,b){a.el=c[b];f[a.pageNumber]=a});for(var n=0,a=a.totalPages;n<=a;n++){d[n]=0;if(f[n]){var k=this.viewer.$(f[n].el).height()+this.PAGE_NOTE_FUDGE;d[n-1]=k;this.offsetAdjustmentSum+=k}this.offsetsAdjustments[n]=this.offsetAdjustmentSum}b.removeClass("DV-getHeights")},fireAnnotationIsShowing:function(a){_.each(this.showingCallbacks,function(b){b(a)})},fireSaveCallbacks:function(a){DV._.each(this.saveCallbacks,
function(b){b(a)})},fireDeleteCallbacks:function(a){DV._.each(this.deleteCallbacks,function(b){b(a)})},getAnnotations:function(a){return this.byPage[a]},getFirstAnnotation:function(){return DV._.first(this.bySortOrder)},getNextAnnotation:function(a){return this.bySortOrder[DV._.indexOf(this.bySortOrder,this.byId[a])+1]},getPreviousAnnotation:function(a){return this.bySortOrder[DV._.indexOf(this.bySortOrder,this.byId[a])-1]},getAnnotation:function(a){if(a.id)return this.byId[a.id];if(a.index&&!a.id)throw Error("looked up an annotation without an id");
return this.byId[a]}};DV.model.Chapters=function(a){this.viewer=a;this.loadChapters()};
DV.model.Chapters.prototype={loadChapters:function(){var a=this.viewer.schema.data.sections,b=this.chapters=this.viewer.schema.data.chapters=[];DV._.each(a,function(a){a.id||(a.id=parseInt(DV._.uniqueId()))});for(var c=0,d=0,f=this.viewer.schema.data.totalPages;d<f;d++){var n=a[c],k=a[c+1];k&&d>=k.page-1&&(c+=1,n=k);n&&!(n.page>d+1)&&(b[d]=n.id)}},getChapterId:function(a){return this.chapters[a]},getChapterPosition:function(a){for(var b=0,c=this.chapters.length;b<c;b++)if(this.chapters[b]===a)return b}};
DV.model.Document=function(a){this.viewer=a;this.currentPageIndex=0;this.offsets=[];this.baseHeightsPortion=[];this.baseHeightsPortionOffsets=[];this.paddedOffsets=[];this.originalPageText={};this.additionalPaddingOnPage=this.totalPages=this.totalDocumentHeight=0;this.ZOOM_RANGES=[500,700,800,900,1E3];a=this.viewer.schema.data;this.state=a.state;this.baseImageURL=a.baseImageURL;this.canonicalURL=a.canonicalURL;this.additionalPaddingOnPage=a.additionalPaddingOnPage;this.pageWidthPadding=a.pageWidthPadding;
this.totalPages=a.totalPages;this.onPageChangeCallbacks=[];if("auto"==(this.zoomLevel=this.viewer.options.zoom||a.zoomLevel))this.zoomLevel=a.zoomLevel;a=DV._.last(this.ZOOM_RANGES);this.zoomLevel>a&&(this.zoomLevel=a)};
DV.model.Document.prototype={setPageIndex:function(a){this.currentPageIndex=a;this.viewer.elements.currentPage.text(this.currentPage());this.viewer.helpers.setActiveChapter(this.viewer.models.chapters.getChapterId(a));DV._.each(this.onPageChangeCallbacks,function(a){a()});return a},currentPage:function(){return this.currentPageIndex+1},currentIndex:function(){return this.currentPageIndex},nextPage:function(){var a=this.currentIndex()+1;return a>=this.totalPages?this.currentIndex():this.setPageIndex(a)},
previousPage:function(){var a=this.currentIndex()-1;return 0>a?this.currentIndex():this.setPageIndex(a)},zoom:function(a,b){if(this.zoomLevel!=a||!0===b)this.zoomLevel=a,this.viewer.models.pages.resize(this.zoomLevel),this.viewer.models.annotations.renderAnnotations(),this.computeOffsets()},computeOffsets:function(){for(var a=this.viewer.models.annotations,b=0,c=0,d=this.totalPages,f=0,n=this.viewer.elements.window[0].scrollTop,k=0;k<d;k++){a.offsetsAdjustments[k]&&(c=a.offsetsAdjustments[k]);var q=
this.viewer.models.pages.getPageHeight(k),t=this.offsets[k]||0,u=this.offsets[k]=c+b;t!==u&&u<n&&(t=u-t-f,n+=t,f+=t);this.baseHeightsPortion[k]=Math.round((q+this.additionalPaddingOnPage)/3);this.baseHeightsPortionOffsets[k]=0==k?0:u-this.baseHeightsPortion[k];b+=q+this.additionalPaddingOnPage}b+=c;b!=this.totalDocumentHeight&&(f=0!=this.totalDocumentHeight?f:b-this.totalDocumentHeight,this.viewer.helpers.setDocHeight(b,f),this.totalDocumentHeight=b)},getOffset:function(a){return this.offsets[a]},
resetRemovedPages:function(){this.viewer.models.removedPages={}},addPageToRemovedPages:function(a){this.viewer.models.removedPages[a]=!0},removePageFromRemovedPages:function(a){this.viewer.models.removedPages[a]=!1},redrawPages:function(){DV._.each(this.viewer.pageSet.pages,function(a){a.drawRemoveOverlay()});this.viewer.thumbnails&&this.viewer.thumbnails.render()},redrawReorderedPages:function(){this.viewer.thumbnails&&this.viewer.thumbnails.render()}};
DV.model.Pages=function(a){this.viewer=a;this.averageHeight=0;this.pageHeights=[];this.pageNoteHeights=[];this.BASE_WIDTH=700;this.BASE_HEIGHT=906;this.SCALE_FACTORS={500:0.714,700:1,800:0.8,900:0.9,1E3:1};this.DEFAULT_PADDING=100;this.REDUCED_PADDING=44;this.MINI_PADDING=18;this.zoomLevel=this.viewer.models.document.zoomLevel;this.baseWidth=this.BASE_WIDTH;this.baseHeight=this.BASE_HEIGHT;this.width=this.zoomLevel;this.height=this.baseHeight*this.zoomFactor();this.numPagesLoaded=0};
DV.model.Pages.prototype={imageURL:function(a){var b=this.viewer.schema.document.resources.page.image,c=this.zoomLevel>this.BASE_WIDTH?"large":"normal";a+=1;this.viewer.schema.document.resources.page.zeropad&&(a=this.zeroPad(a,5));b=b.replace(/\{size\}/,c);return b=b.replace(/\{page\}/,a)},zeroPad:function(a,b){for(var c=a.toString();c.length<b;)c="0"+c;return c},getPadding:function(){return this.viewer.options.mini?this.MINI_PADDING:"auto"==this.viewer.options.zoom?this.REDUCED_PADDING:this.DEFAULT_PADDING},
zoomFactor:function(){return this.zoomLevel/this.BASE_WIDTH},resize:function(a){var b=this.viewer.models.pages.DEFAULT_PADDING;if(a){if(a==this.zoomLevel)return;var c=this.zoomFactor();this.zoomLevel=a||this.zoomLevel;a=this.zoomFactor()/c;this.width=Math.round(this.baseWidth*this.zoomFactor());this.height=Math.round(this.height*a);this.averageHeight=Math.round(this.averageHeight*a)}this.viewer.elements.sets.width(this.zoomLevel);this.viewer.elements.collection.css({width:this.width+b});this.viewer.$(".DV-textContents").css({"font-size":0.02*
this.zoomLevel+"px"})},updateHeight:function(a,b){var c=this.getPageHeight(b),d=a.height*(this.zoomLevel>this.BASE_WIDTH?0.7:1);a.width<this.baseWidth&&(d*=this.baseWidth/a.width);this.setPageHeight(b,d);this.averageHeight=(this.averageHeight*this.numPagesLoaded+d)/(this.numPagesLoaded+1);this.numPagesLoaded+=1;c!==d&&(this.viewer.models.document.computeOffsets(),this.viewer.pageSet.simpleReflowPages(),!this.viewer.activeAnnotation&&b<this.viewer.models.document.currentIndex()&&(c=Math.round(d*this.zoomFactor()-
c),this.viewer.elements.window[0].scrollTop+=c))},setPageHeight:function(a,b){this.pageHeights[a]=Math.round(b)},getPageHeight:function(a){a=this.pageHeights[a];return Math.round(a?a*this.zoomFactor():this.height)}};
DV.Schema.events={zoom:function(a){var b=this.viewer,c=function(){b.pageSet.zoom({zoomLevel:a});var c=b.models.document.ZOOM_RANGES;b.dragReporter.sensitivity=c[c.length-1]==a?1.5:1;b.notifyChangedState();return!0};b.confirmStateChange?b.confirmStateChange(c):c()},drawPages:function(){if("ViewDocument"==this.viewer.state){var a=this.models.document,b=this.elements.window[0],c=a.baseHeightsPortionOffsets,d=this.viewer.scrollPosition=b.scrollTop,f=d+this.viewer.$(b).height()/3,b=DV._.sortedIndex(c,
d),f=DV._.sortedIndex(c,f);c[b]==d&&b++&&f++;c=this.helpers.sortPages(f-1);a.currentPage()!=b&&a.setPageIndex(b-1);this.drawPageAt(c,f-1)}},drawPageAt:function(a,b){var c=0==b,d=b==this.models.document.totalPages-1;c&&(b+=1);var f=[{label:a[0],index:b-1},{label:a[1],index:b},{label:a[2],index:b+1}];d&&f.pop();f[c?0:f.length-1].currentPage=!0;this.viewer.pageSet.draw(f)},check:function(){var a=this.viewer;if(!1===a.busy){a.busy=!0;for(var b=0;b<this.viewer.observers.length;b++)this[a.observers[b]].call(this);
a.busy=!1}},loadText:function(a,b){this._previousTextIndex=a=!a?this.models.document.currentIndex():parseInt(a,10);var c=this,d=function(d){var f=parseInt(a,10)+1;c.viewer.$(".DV-textContents").replaceWith('<pre class="DV-textContents">'+d+"</pre>");c.elements.currentPage.text(f);c.elements.textCurrentPage.text("p. "+f);c.models.document.setPageIndex(a);c.helpers.setActiveChapter(c.models.chapters.getChapterId(a));"editText"==c.viewer.openEditor&&!(f in c.models.document.originalPageText)&&(c.models.document.originalPageText[f]=
d);"editText"==c.viewer.openEditor&&c.viewer.$(".DV-textContents").attr("contentEditable",!0).addClass("DV-editing");b&&b.call(c.helpers)};if(c.viewer.schema.text[a])return d(c.viewer.schema.text[a]);var f=DV.jQuery.proxy(function(b){d(c.viewer.schema.text[a]=b)},this);this.viewer.$(".DV-textContents").text("");var n=c.viewer.schema.document.resources.page.text.replace("{page}",a+1);this.helpers.isCrossDomain(n)?DV.jQuery.getJSON(n+"?callback=?",{},f):DV.jQuery.get(n,{},f,"text")},resetTracker:function(){this.viewer.activeAnnotation=
null;this.trackAnnotation.combined=null;this.trackAnnotation.h=null},trackAnnotation:function(){var a=this.viewer,b=this.helpers,c=this.elements.window[0].scrollTop;if(a.activeAnnotation){var d=a.activeAnnotation,f=this.trackAnnotation;f.id!=d.id&&(f.id=d.id,b.setActiveAnnotationLimits(d));if(!a.activeAnnotation.annotationEl.hasClass("DV-editing")&&(c>f.h||c<f.combined))d.hide(!0),a.pageSet.setActiveAnnotation(null),a.activeAnnotation=null,f.h=null,f.id=null,f.combined=null}else a.pageSet.setActiveAnnotation(null),
a.activeAnnotation=null,f.h=null,f.id=null,f.combined=null,b.removeObserver("trackAnnotation")},authenticateUser:function(){var a=this.viewer.$(".DV-loginContainer"),b=_.bind(a.hide,a);this._xdm_socket||(this._xdm_socket=new easyXDM.Rpc({remote:"https://dev.dcloud.org/auth/iframe",container:this.viewer.$(".DV-loginContainer .frame")[0]},{remote:{loadStartingPage:{}},local:{loggedInSuccess:function(a,d,f){_.delay(b,1500)},loggedInFailure:function(a,d){_.delay(b,1500)}}}));this._xdm_socket.loadStartingPage();
a.show()}};
DV.Schema.events.ViewAnnotation={next:function(a){a=this.viewer;var b=a.activeAnnotationId,c=this.models.annotations,b=null===b?c.getFirstAnnotation():c.getNextAnnotation(b);if(!b)return!1;a.pageSet.showAnnotation(b);this.helpers.setAnnotationPosition(b.position)},previous:function(a){a=this.viewer;var b=a.activeAnnotationId,c=this.models.annotations,b=!b?c.getFirstAnnotation():c.getPreviousAnnotation(b);if(!b)return!1;a.pageSet.showAnnotation(b);this.helpers.setAnnotationPosition(b.position)},search:function(a){a.preventDefault();
this.viewer.open("ViewSearch");return!1}};DV.Schema.events.ViewDocument={next:function(){var a=this.models.document.nextPage();this.helpers.jump(a)},previous:function(a){a=this.models.document.previousPage();this.helpers.jump(a)},search:function(a){a.preventDefault();this.viewer.open("ViewSearch");return!1}};
DV.Schema.events.ViewSearch={next:function(a){a=this.models.document.nextPage();this.loadText(a);this.viewer.open("ViewText")},previous:function(a){a=this.models.document.previousPage();this.loadText(a);this.viewer.open("ViewText")},search:function(a){a.preventDefault();this.helpers.getSearchResponse(this.elements.searchInput.val());return!1}};
DV.Schema.events.ViewText={next:function(a){a=this.models.document.nextPage();this.loadText(a)},previous:function(a){a=this.models.document.previousPage();this.loadText(a)},search:function(a){a.preventDefault();this.viewer.open("ViewSearch");return!1}};
DV.Schema.events.ViewThumbnails={next:function(){var a=this.models.document.nextPage();this.helpers.jump(a)},previous:function(a){a=this.models.document.previousPage();this.helpers.jump(a)},search:function(a){a.preventDefault();this.viewer.open("ViewSearch");return!1}};
DV._.extend(DV.Schema.events,{handleHashChangeViewDocumentPage:function(a){a=parseInt(a,10)-1;"ViewDocument"===this.viewer.state?(this.viewer.pageSet.cleanUp(),this.helpers.jump(a)):(this.models.document.setPageIndex(a),this.viewer.open("ViewDocument"))},handleHashChangeLegacyViewDocumentPage:function(a){parseInt(a,10);this.handleHashChangeViewDocumentPage(a)},handleHashChangeViewDocumentAnnotation:function(a,b){var c=parseInt(a,10)-1;b=parseInt(b,10);"ViewDocument"===this.viewer.state?this.viewer.pageSet.showAnnotation(this.viewer.models.annotations.byId[b]):
(this.models.document.setPageIndex(c),this.viewer.pageSet.setActiveAnnotation(b),this.viewer.openingAnnotationFromHash=!0,this.viewer.open("ViewDocument"))},handleHashChangeViewAnnotationAnnotation:function(a){a=parseInt(a,10);var b=this.viewer;"ViewAnnotation"===b.state?b.pageSet.showAnnotation(this.viewer.models.annotations.byId[a]):(b.activeAnnotationId=a,this.viewer.open("ViewAnnotation"))},handleHashChangeDefault:function(){this.viewer.pageSet.cleanUp();this.models.document.setPageIndex(0);"ViewDocument"===
this.viewer.state?this.helpers.jump(0):this.viewer.open("ViewDocument")},handleHashChangeViewText:function(a){a=parseInt(a,10)-1;"ViewText"===this.viewer.state?this.events.loadText(a):(this.models.document.setPageIndex(a),this.viewer.open("ViewText"))},handleHashChangeViewPages:function(){"ViewThumbnails"!=this.viewer.state&&this.viewer.open("ViewThumbnails")},handleHashChangeViewSearchRequest:function(a,b){var c=parseInt(a,10)-1;this.elements.searchInput.val(decodeURIComponent(b));"ViewSearch"!==
this.viewer.state&&this.models.document.setPageIndex(c);this.viewer.open("ViewSearch")},handleHashChangeViewEntity:function(a,b,c,d){a=parseInt(a,10)-1;b=decodeURIComponent(b);this.elements.searchInput.val(b);this.models.document.setPageIndex(a);this.states.ViewEntity(b,parseInt(c,10),parseInt(d,10))}});
DV._.extend(DV.Schema.events,{handleNavigation:function(a){a=this.viewer.$(a.target);var b=a.closest(".DV-trigger"),c=a.closest(".DV-annotationMarker"),d=a.closest(".DV-chapter");if(b.length){if(a.hasClass("DV-expander"))return d.toggleClass("DV-collapsed");if(c.length)a=c[0].id.replace("DV-annotationMarker-",""),a=this.models.annotations.getAnnotation(a),parseInt(a.index,10),"ViewText"===this.viewer.state?this.loadText(a.index):("ViewThumbnails"===this.viewer.state&&this.viewer.open("ViewDocument"),
this.viewer.pageSet.showAnnotation(a));else if(d.length)if(d.removeClass("DV-collapsed"),a=parseInt(d[0].id.replace("DV-chapter-",""),10),a=parseInt(this.models.chapters.getChapterPosition(a),10),parseInt(a,10),"ViewText"===this.viewer.state)this.loadText(a);else if("ViewDocument"===this.viewer.state||"ViewThumbnails"===this.viewer.state)this.helpers.jump(a),"ViewThumbnails"===this.viewer.state&&this.viewer.open("ViewDocument");else return!1;else return!1}}});
DV.Schema.helpers={HOST_EXTRACTOR:/https?:\/\/([^\/]+)\//,annotationClassName:".DV-annotation",bindEvents:function(a){var b=this.events.compile("zoom"),c=a.models.document,c=DV._.indexOf(c.ZOOM_RANGES,c.zoomLevel),d=this.viewer;d.slider=d.$(".DV-zoomBox").slider({step:1,min:0,max:4,value:c,slide:function(c,d){b(a.models.document.ZOOM_RANGES[parseInt(d.value,10)])},change:function(c,d){b(a.models.document.ZOOM_RANGES[parseInt(d.value,10)])}});c=d.compiled;c.next=this.events.compile("next");c.previous=
this.events.compile("previous");d.elements.well.delegate(".DV-authenticate.DV-UnknownAccount","click",function(a){a.preventDefault();d.helpers.editor.login()});d.helpers.editor?(d.elements.well.delegate(".DV-authenticate .DV-logout","click",function(a){a.preventDefault();d.helpers.editor.logout()}),d.$(".DV-loginContainer .close").click(function(a){d.jQuery(this).closest(".DV-loginContainer").hide()})):d.elements.well.find(".DV-authenticate").remove();d.$(".DV-navControlsContainer").delegate("span.DV-next",
"click",c.next);d.$(".DV-navControlsContainer").delegate("span.DV-previous","click",c.previous);d.$(".DV-annotationView").delegate(".DV-trigger","click",function(b){b.preventDefault();a.open("ViewAnnotation")});d.$(".DV-documentView").delegate(".DV-trigger","click",function(b){a.open("ViewDocument")});d.$(".DV-thumbnailsView").delegate(".DV-trigger","click",function(b){a.open("ViewThumbnails")});d.$(".DV-textView").delegate(".DV-trigger","click",function(b){a.open("ViewText")});d.$(".DV-allAnnotations").delegate(".DV-annotationGoto .DV-trigger",
"click",DV.jQuery.proxy(this.gotoPage,this));d.$("form.DV-searchDocument").submit(this.events.compile("search"));d.$(".DV-searchBar").delegate(".DV-closeSearch","click",function(b){b.preventDefault();a.open("ViewText")});d.$(".DV-searchBox").delegate(".DV-searchInput-cancel","click",DV.jQuery.proxy(this.clearSearch,this));d.$(".DV-searchResults").delegate("span.DV-resultPrevious","click",DV.jQuery.proxy(this.highlightPreviousMatch,this));d.$(".DV-searchResults").delegate("span.DV-resultNext","click",
DV.jQuery.proxy(this.highlightNextMatch,this));d.$(".DV-trigger").bind("selectstart",function(){return!1});this.elements.viewer.delegate(".DV-fullscreen","click",DV._.bind(this.openFullScreen,this));var c=DV.jQuery.proxy(this.annotationBridgeToggle,this),f=this.elements.collection;f.delegate(".DV-annotationTab","click",c);f.delegate(".DV-annotationRegion","click",DV.jQuery.proxy(this.annotationBridgeShow,this));f.delegate(".DV-annotationNext","click",DV.jQuery.proxy(this.annotationBridgeNext,this));
f.delegate(".DV-annotationPrevious","click",DV.jQuery.proxy(this.annotationBridgePrevious,this));f.delegate(".DV-showEdit","click",DV.jQuery.proxy(this.showAnnotationEdit,this));f.delegate(".DV-cancelEdit","click",DV.jQuery.proxy(this.cancelAnnotationEdit,this));f.delegate(".DV-saveAnnotation","click",DV.jQuery.proxy(this.saveAnnotation,this));f.delegate(".DV-saveAnnotationDraft","click",DV.jQuery.proxy(this.saveAnnotation,this));f.delegate(".DV-deleteAnnotation","click",DV.jQuery.proxy(this.deleteAnnotation,
this));f.delegate(".DV-pageNumber","click",DV._.bind(this.permalinkPage,this,"document"));f.delegate(".DV-textCurrentPage","click",DV._.bind(this.permalinkPage,this,"text"));f.delegate(".DV-annotationTitle","click",DV._.bind(this.permalinkAnnotation,this));f.delegate(".DV-permalink","click",DV._.bind(this.permalinkAnnotation,this));d.$(".DV-thumbnails").delegate(".DV-thumbnail-page","click",function(a){a=d.$(a.currentTarget);d.openEditor||(a=a.closest(".DV-thumbnail").attr("data-pageNumber")-1,d.models.document.setPageIndex(a),
d.open("ViewDocument"))});DV._.bindAll(this,"touchStart","touchMove","touchEnd");this.elements.window[0].ontouchstart=this.touchStart;this.elements.window[0].ontouchmove=this.touchMove;this.elements.window[0].ontouchend=this.touchEnd;this.elements.well[0].ontouchstart=this.touchStart;this.elements.well[0].ontouchmove=this.touchMove;this.elements.well[0].ontouchend=this.touchEnd;d.$(".DV-descriptionToggle").live("click",function(a){a.preventDefault();a.stopPropagation();d.$(".DV-descriptionText").toggle();
d.$(".DV-descriptionToggle").toggleClass("DV-showDescription")});var n=DV.jQuery.proxy(d.pageSet.cleanUp,this);this.elements.window.live("mousedown",function(b){var c=d.$(b.target);if(c.parents().is(".DV-annotation")||c.is(".DV-annotation"))return!0;a.elements.window.hasClass("DV-coverVisible")&&15<=c.width()-parseInt(b.clientX,10)&&n()});c=d.schema.document.id;!0==DV.jQuery.browser.msie?(this.elements.browserDocument.bind("focus."+c,DV.jQuery.proxy(this.focusWindow,this)),this.elements.browserDocument.bind("focusout."+
c,DV.jQuery.proxy(this.focusOut,this))):(this.elements.browserWindow.bind("focus."+c,DV.jQuery.proxy(this.focusWindow,this)),this.elements.browserWindow.bind("blur."+c,DV.jQuery.proxy(this.blurWindow,this)));this.elements.window.bind("scroll."+c,DV.jQuery.proxy(this.focusWindow,this));this.elements.coverPages.live("mousedown",n);d.acceptInput=this.elements.currentPage.acceptInput({changeCallBack:DV.jQuery.proxy(this.acceptInputCallBack,this)})},unbindEvents:function(){var a=this.viewer,b=a.schema.document.id;
!0==DV.jQuery.browser.msie?(this.elements.browserDocument.unbind("focus."+b),this.elements.browserDocument.unbind("focusout."+b)):(a.helpers.elements.browserWindow.unbind("focus."+b),a.helpers.elements.browserWindow.unbind("blur."+b));a.helpers.elements.browserWindow.unbind("scroll."+b);DV._.each(a.observers,function(b){a.helpers.removeObserver(b)})},ensureAnnotationImages:function(){this.viewer.$(".DV-img[data-src]").each(function(){var a=DV.jQuery(this);a.attr("src",a.attr("data-src"))})},startCheckTimer:function(){var a=
this.viewer;this.viewer.checkTimer=setInterval(function(){a.events.check()},100)},stopCheckTimer:function(){clearInterval(this.viewer.checkTimer)},blurWindow:function(){!0===this.viewer.isFocus&&(this.viewer.isFocus=!1,this.stopCheckTimer())},focusOut:function(){this.viewer.activeElement!=document.activeElement?(this.viewer.activeElement=document.activeElement,this.viewer.isFocus=!0):(this.viewer.isFocus=!1,this.viewer.helpers.stopCheckTimer())},focusWindow:function(){!0!==this.viewer.isFocus&&(this.viewer.isFocus=
!0,this.startCheckTimer())},touchStart:function(a){a.stopPropagation();a.preventDefault();a=a.changedTouches[0];this._moved=!1;this._touchX=a.pageX;this._touchY=a.pageY},touchMove:function(a){var b=a.currentTarget,c=a.changedTouches[0];a=this._touchX-c.pageX;c=this._touchY-c.pageY;b.scrollLeft+=a;b.scrollTop+=c;this._touchX-=a;this._touchY-=c;if(0!=c||0!=a)this._moved=!0},touchEnd:function(a){if(!this._moved){a=a.changedTouches[0];for(var b=a.target,c=document.createEvent("MouseEvent");1!==b.nodeType;)b=
b.parentNode;c.initMouseEvent("click",!0,!0,a.view,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);b.dispatchEvent(c)}this._moved=!1},permalinkPage:function(a,b){if("text"==a)var c=this.viewer.models.document.currentPage();else{var c=this.viewer.$(b.target).closest(".DV-set").attr("data-id"),d=this.viewer.pageSet.pages[c],c=d.pageNumber;this.jump(d.index)}this.viewer.history.save(a+"/p"+c)},permalinkAnnotation:function(a){a=this.viewer.$(a.target).closest(".DV-annotation").attr("data-id");
a=this.viewer.models.annotations.getAnnotation(a);var b=a.server_id||a.id;"ViewDocument"==this.viewer.state?(this.viewer.pageSet.showAnnotation(a),this.viewer.history.save("document/p"+a.pageNumber+"/a"+b)):this.viewer.history.save("annotation/a"+b)},setDocHeight:function(a,b){this.elements.bar.css("height",a);this.elements.window[0].scrollTop+=b},getWindowDimensions:function(){return{height:window.innerHeight?window.innerHeight:this.elements.browserWindow.height(),width:this.elements.browserWindow.width()}},
extractHost:function(a){return a.match(this.HOST_EXTRACTOR)[1]},isCrossDomain:function(a){return(a=this.extractHost(a))&&a!=window.location.host},resetScrollState:function(){this.elements.window.scrollTop(0)},gotoPage:function(a){a.preventDefault();a=this.viewer.$(a.target).parents(".DV-annotation").attr("rel").replace("aid-","");a=this.models.annotations.getAnnotation(a);var b=this.viewer;"ViewDocument"!==b.state&&(this.models.document.setPageIndex(a.index),b.open("ViewDocument"))},openFullScreen:function(){var a=
this.viewer.schema.document.canonicalURL.replace(/#\S+$/,""),b=this.models.document.currentPage();switch(this.viewer.state){case "ViewAnnotation":a+="#annotation/a"+this.viewer.activeAnnotationId;break;case "ViewDocument":a+="#document/p"+b;break;case "ViewSearch":a+="#search/p"+b+"/"+encodeURIComponent(this.elements.searchInput.val());break;case "ViewText":a+="#text/p"+b;break;case "ViewThumbnails":a+="#pages/p"+b}window.open(a,"documentviewer","toolbar=no,resizable=yes,scrollbars=no,status=no")},
sortPages:function(a){if(0==a||1==a%3)return["p0","p1","p2"];if(2==a%3)return["p1","p2","p0"];if(0==a%3)return["p2","p0","p1"]},addObserver:function(a){this.removeObserver(a);this.viewer.observers.push(a)},removeObserver:function(a){for(var b=this.viewer.observers,c=0,d=b.length;c<d;c++)a===b[c]&&b.splice(c,1)},toggleContent:function(a){this.elements.viewer.removeClass("DV-viewText DV-viewSearch DV-viewDocument DV-viewAnnotations DV-viewThumbnails").addClass("DV-"+a)},jump:function(a,b,c){b=b?parseInt(b,
10):0;b=this.models.document.getOffset(parseInt(a,10))+b;this.elements.window[0].scrollTop=b;this.models.document.setPageIndex(a);c&&this.viewer.pageSet.redraw(!0);"ViewThumbnails"===this.viewer.state&&this.viewer.thumbnails.highlightCurrentPage()},shift:function(a){var b=this.elements.window,c=b.scrollTop()+a.deltaY;a=b.scrollLeft()+a.deltaX;b.scrollTop(c);b.scrollLeft(a)},getAppState:function(){var a=this.models.document;return{page:0==a.currentIndex()?1:a.currentPage(),zoom:a.zoomLevel,view:this.viewer.state}},
constructPages:function(){for(var a=[],b=3>this.viewer.schema.data.totalPages?this.viewer.schema.data.totalPages:3,c=this.models.pages.height,d=0;d<b;d++)a.push(JST.pages({pageNumber:d+1,pageIndex:d,pageImageSource:null,baseHeight:c}));return a.join("")},positionViewer:function(){var a=this.elements.viewer.position();this.elements.viewer.css({position:"absolute",top:a.top,bottom:0,left:a.left,right:a.left})},unsupportedBrowser:function(){var a=DV.jQuery.browser;if(!(a.msie&&6>=parseFloat(a.version,
10)))return!1;DV.jQuery(this.viewer.options.container).html(JST.unsupported({viewer:this.viewer}));return!0},registerHashChangeEvents:function(){var a=this.events,b=this.viewer.history;b.defaultCallback=DV._.bind(a.handleHashChangeDefault,this.events);b.register(/document\/p(\d*)$/,DV._.bind(a.handleHashChangeViewDocumentPage,this.events));b.register(/p(\d*)$/,DV._.bind(a.handleHashChangeLegacyViewDocumentPage,this.events));b.register(/p=(\d*)$/,DV._.bind(a.handleHashChangeLegacyViewDocumentPage,
this.events));b.register(/document\/p(\d*)\/a(\d*)$/,DV._.bind(a.handleHashChangeViewDocumentAnnotation,this.events));b.register(/annotation\/a(\d*)$/,DV._.bind(a.handleHashChangeViewAnnotationAnnotation,this.events));b.register(/pages$/,DV._.bind(a.handleHashChangeViewPages,a));b.register(/text\/p(\d*)$/,DV._.bind(a.handleHashChangeViewText,this.events));b.register(/entity\/p(\d*)\/(.*)\/(\d+):(\d+)$/,DV._.bind(a.handleHashChangeViewEntity,this.events));b.register(/search\/p(\d*)\/(.*)$/,DV._.bind(a.handleHashChangeViewSearchRequest,
this.events))},autoZoomPage:function(){var a=this.elements.window.outerWidth(!0),a="auto"==this.viewer.options.zoom?Math.min(700,a-2*this.viewer.models.pages.getPadding()):this.viewer.options.zoom,b=[];if(500>=a)var b=700,c=a,d,b=[c,(c+b)/2,b,850,1E3];else if(750>=a){d=a;var c=0.66*d,b=100+d,f=200+d,b=[c,d,b,f,1E3]}else 750<a&&850>=a?(b=a,b=[0.66*b,700,b,(1E3-b)/2+b,1E3]):850<a&&1E3>a?(f=a,c=0.66*f,d=700,b=(f-d)/2+d,b=[c,d,b,f,1E3]):1E3<=a&&(a=1E3,b=this.viewer.models.document.ZOOM_RANGES);this.viewer.models.document.ZOOM_RANGES=
b;this.viewer.slider.slider({value:parseInt(DV._.indexOf(b,a),10)});this.events.zoom(a)},handleInitialState:function(){if(!this.viewer.history.loadURL(!0)){var a=this.viewer.options;this.viewer.open("ViewDocument");a.note?this.viewer.pageSet.showAnnotation(this.viewer.models.annotations.byId[a.note]):a.page&&this.jump(a.page-1)}},initializeLanguage:function(){this.translations||(this.translations=new Translations({viewer:this.viewer,aliases:DV.Schema.helpers.TranslationAliases,autoDetect:!0}))}};
DV._.extend(DV.Schema.helpers,{getAnnotationModel:function(a){a=parseInt(a.attr("rel").match(/\d+/),10);return this.models.annotations.getAnnotation(a)},getAnnotationObject:function(a){a=this.viewer.$(a);var b=a.attr("id").replace(/DV\-annotation\-|DV\-listAnnotation\-/,"");a=a.closest("div.DV-set").attr("data-id");for(var c=0;annotationObject=this.viewer.pageSet.pages[a].annotations[c];c++)if(annotationObject.id==b)return annotationObject;return!1},annotationBridgeToggle:function(a){a.preventDefault();
this.getAnnotationObject(this.viewer.$(a.target).closest(this.annotationClassName)).toggle()},annotationBridgeShow:function(a){a.preventDefault();this.getAnnotationObject(this.viewer.$(a.target).closest(this.annotationClassName)).show()},annotationBridgeHide:function(a){a.preventDefault();this.getAnnotationObject(this.viewer.$(a.target).closest(this.annotationClassName)).hide(!0)},annotationBridgeNext:function(a){a.preventDefault();this.getAnnotationObject(this.viewer.$(a.target).closest(this.annotationClassName)).next()},
annotationBridgePrevious:function(a){a.preventDefault();this.getAnnotationObject(this.viewer.$(a.target).closest(this.annotationClassName)).previous()},setAnnotationPosition:function(a){this.elements.currentPage.text(a)},setActiveAnnotationLimits:function(a){if((a=a?a:this.viewer.activeAnnotation)&&null!=a){var b=this.elements,c=a.page,d=a.annotationEl,f=a.position.top*this.models.pages.zoomFactor(),n=this.events.trackAnnotation;"page"===a.type?(n.h=d.outerHeight()+c.getOffset(),n.combined=c.getOffset()-
b.window.height()):(n.h=d.height()+f-20+c.getOffset()+c.getPageNoteHeight(),n.combined=f-20+c.getOffset()+c.getPageNoteHeight()-b.window.height())}}});
DV._.extend(DV.Schema.helpers,{showAnnotations:function(){return!1===this.viewer.options.showAnnotations?!1:0<DV._.size(this.models.annotations.byId)},renderViewer:function(){var a=this.viewer.schema.document,b=this.constructPages(),c=a.description?a.description:null,d=a.resources.related_article,f=JST.header({options:this.viewer.options,id:a.id,story_url:d,title:a.title||""}),n=JST.footer({options:this.viewer.options}),k=a.resources.pdf,k=k&&!1!==this.viewer.options.pdf?'<a target="_blank" href="'+
k+'">'+DV.t("original_document_pdf")+" &raquo;</a>":"",q=a.contributor&&a.contributor_organization&&""+a.contributor+", "+a.contributor_organization,a=this.showAnnotations()&&a.resources.print_annotations,b={options:this.viewer.options,pages:b,header:f,footer:n,pdf_url:k,contributors:q,story_url:d,print_notes_url:a,descriptionContainer:JST.descriptionContainer({description:c}),autoZoom:"auto"==this.viewer.options.zoom,mini:!1},c=this.viewer.options.width,d=this.viewer.options.height;c&&d&&(500>c&&
(this.viewer.options.mini=!0,b.mini=!0),DV.jQuery(this.viewer.options.container).css({position:"relative",width:this.viewer.options.width,height:this.viewer.options.height}));c=this.viewer.options.container;d=DV.jQuery(c);if(!d.length)throw"Document Viewer container element not found: "+c;d.html(JST.viewer(b))},displayNavigation:function(){var a=!this.viewer.schema.document.description&&!DV._.size(this.viewer.schema.data.annotationsById)&&!this.viewer.schema.data.sections.length;this.viewer.$(".DV-supplemental").toggleClass("DV-noNavigation",
a)},renderSpecificPageCss:function(){for(var a=[],b=1,c=this.models.document.totalPages;b<=c;b++)a.push(".DV-page-"+b+" .DV-pageSpecific-"+b);a='<style type="text/css" media="all">\n'+(a.join(", ")+" { display: block; }")+"\n</style>";DV.jQuery("head").append(a)},renderNavigation:function(){var a=this,b=[],c=JST.navigationExpander({}),d=[],f=[],n=this.viewer.models.boldsId||(this.viewer.models.boldsId=parseInt(DV._.uniqueId())),k=function(a,b){for(var c=[],g=a;g<b;g++)f[g]&&(c.push(f[g]),d[g]="");
return c.join("")},q=function(a){b.push("#DV-selectedChapter-"+a.id+" #DV-chapter-"+a.id+" .DV-navChapterTitle");return JST.chapterNav(a)},t=function(c){var d=[];c=a.viewer.schema.data.annotationsByPage[c];for(var f=0;f<c.length;f++){var g=c[f];d.push(JST.annotationNav(g));b.push("#DV-selectedAnnotation-"+g.id+" #DV-annotationMarker-"+g.id+" .DV-navAnnotationTitle")}return d.join("")};if(this.showAnnotations())for(var u=0,g=this.models.document.totalPages;u<g;u++)this.viewer.schema.data.annotationsByPage[u]&&
(d[u]=t(u),f[u]=d[u]);t=this.viewer.schema.data.sections;if(t.length)for(u=0;u<t.length;u++){var g=t[u],r=t[u+1];g.id=g.id||parseInt(DV._.uniqueId());g.pageNumber=g.page;g.endPage=r?r.page-1:this.viewer.schema.data.totalPages;r=k(g.pageNumber-1,g.endPage);""!=r?(g.navigationExpander=c,g.navigationExpanderClass="DV-hasChildren",g.noteViews=r):(g.navigationExpanderClass="DV-noChildren",g.noteViews="",g.navigationExpander="");d[g.pageNumber-1]=q(g)}c=d.join("");k=this.viewer.$("div.DV-chaptersContainer");
k.html(c);k.unbind("click").bind("click",this.events.compile("handleNavigation"));this.viewer.schema.data.sections.length||DV._.size(this.viewer.schema.data.annotationsById)?k.show():k.hide();this.displayNavigation();DV.jQuery("#DV-navigationBolds-"+n,DV.jQuery("head")).remove();c=b.join(", ")+" { font-weight:bold; color:#000 !important; }";DV.jQuery("head").append('<style id="DV-navigationBolds-'+n+'" type="text/css" media="screen,print">\n'+c+"\n</style>");k=null},renderComponents:function(){var a=
DV.jQuery(this.viewer.options.container),b=a.css("position");"relative"!=b&&("absolute"!=b&&!this.viewer.options.fixedSize)&&(DV.jQuery("html, body").css({overflow:"hidden"}),0==a.offset().top&&this.viewer.elements.viewer.css({border:0}));var c=this.showAnnotations(),d=1<this.models.document.totalPages,f=!1!==this.viewer.options.search&&!1!==this.viewer.options.text&&(!this.viewer.options.width||540<=this.viewer.options.width),b=!c&&!d&&!f&&!this.viewer.options.sidebar;this.viewer.$(".DV-annotationView")[c?
"show":"hide"]();f?(this.elements.viewer.addClass("DV-searchable"),this.viewer.$("input.DV-searchInput",a).placeholder({message:"Search",clearClassName:"DV-searchInput-show-search-cancel"})):this.viewer.$(".DV-textView").hide();d||this.viewer.$(".DV-thumbnailsView").hide();!c&&(!d&&!f)&&this.viewer.$(".DV-views").hide();this.viewer.api.roundTabCorners();this.viewer.$(".DV-navControls").remove();if(d||this.viewer.options.sidebar)a=JST.navControls({totalPages:this.viewer.schema.data.totalPages,totalAnnotations:this.viewer.schema.data.totalAnnotations}),
this.viewer.$(".DV-navControlsContainer").html(a);this.viewer.$(".DV-fullscreenControl").remove();this.viewer.schema.document.canonicalURL&&(a=JST.fullscreenControl({}),b?(this.viewer.$(".DV-collapsibleControls").prepend(a),this.elements.viewer.addClass("DV-hideFooter")):this.viewer.$(".DV-fullscreenContainer").html(a));this.viewer.options.sidebar&&(this.viewer.helpers.isCrossDomain(this.viewer.schema.document.canonicalURL)&&!this.editor&&(this.editor=new dc.ui.editor({viewer:this.viewer}),this.viewer.$(".DV-sidebar .DV-well").append(this.editor.render().el)),
this.viewer.$(".DV-sidebar").show());DV._.defer(DV._.bind(function(){700>=this.elements.viewer.width()&&(c||d||f)&&this.viewer.$(".DV-controls").addClass("DV-narrowControls")},this));this.elements.currentPage=this.viewer.$("span.DV-currentPage");this.models.document.setPageIndex(this.models.document.currentIndex())},reset:function(){this.resetNavigationState();this.cleanUpSearch();this.viewer.pageSet.cleanUp();this.removeObserver("drawPages");this.viewer.dragReporter.unBind();this.elements.window.scrollTop(0)}});
DV._.extend(DV.Schema.helpers,{showAnnotationEdit:function(a){a=this.viewer.$(a.target).closest(this.annotationClassName);var b=this.viewer.$(".DV-annotationTextArea",a);a.addClass("DV-editing");b.focus()},cancelAnnotationEdit:function(a){a=this.viewer.$(a.target).closest(this.annotationClassName);var b=this.getAnnotationModel(a);this.viewer.$(".DV-annotationTitleInput",a).val(b.title);this.viewer.$(".DV-annotationTextArea",a).val(b.text);b.unsaved?this.models.annotations.removeAnnotation(b):a.removeClass("DV-editing")},
fireAnnotationIsShowing:function(a){this.models.annotations.fireAnnotationIsShowing(a)},saveAnnotation:function(a,b){var c=this.viewer.$(a.target),d=c.closest(this.annotationClassName),f=this.getAnnotationModel(d);if(f){f.title=this.viewer.$(".DV-annotationTitleInput",d).val();f.text=this.viewer.$(".DV-annotationTextArea",d).val();f.owns_note=f.unsaved?!0:f.owns_note;f.owns_note&&(f.author=f.author||dc.account.name,f.author_organization=f.author_organization||dc.account.isReal&&dc.account.organization.name);
c.hasClass("DV-saveAnnotationDraft")?f.access="exclusive":d.hasClass("DV-accessExclusive")&&(f.access="public");if("onlyIfText"==b&&(!f.title||f.title==DV.t("untitled_note"))&&!f.text&&!f.server_id)return this.models.annotations.removeAnnotation(f);d.removeClass("DV-editing");this.viewer.api.redraw(!0);this.viewer.activeAnnotation&&this.viewer.pageSet.showAnnotation(f);this.models.annotations.fireSaveCallbacks(f)}},updateActiveAnnotationBody:function(a){this.viewer.$(".DV-activeAnnotation .DV-annotationBody").html(a)},
updateActiveAnnotation:function(){var a=this.getAnnotationModel(this.viewer.$(".DV-activeAnnotation"));this.updateActiveAnnotationBody(a.html_content);this.viewer.$(".DV-activeAnnotation .DV-annotationTitle").html(a.title)},setActiveAnnotationIsSaving:function(a){this.updateActiveAnnotationBody(a?'<div class="DV-loadingDocument"><span>Saving...</span></div>':this.updateActiveAnnotation())},deleteAnnotation:function(a){a=this.viewer.$(a.target).closest(this.annotationClassName);a=this.getAnnotationModel(a);
this.models.annotations.removeAnnotation(a);this.models.annotations.fireDeleteCallbacks(a)}});
DV._.extend(DV.Schema.helpers,{resetNavigationState:function(){var a=this.elements;a.chaptersContainer.length&&(a.chaptersContainer[0].id="");a.navigation.length&&(a.navigation[0].id="")},setActiveChapter:function(a){a&&this.elements.chaptersContainer.attr("id","DV-selectedChapter-"+a)},setActiveAnnotationInNav:function(a){null!=a?this.elements.navigation.attr("id","DV-selectedAnnotation-"+a):this.elements.navigation.attr("id","")}});
DV._.extend(DV.Schema.helpers,{getSearchResponse:function(a){var b=DV.jQuery.proxy(function(a){this.viewer.searchResponse=a;var b=0<a.results.length?!0:!1,c=b?"of "+a.results.length+" ":" ";this.viewer.$("span.DV-totalSearchResult").text(c);this.viewer.$("span.DV-searchQuery").text(a.query);b?(b=this.viewer.models.document.currentPage(),a=DV._.include(a.results,b)?b:a.results[0],this.events.loadText(a-1,this.highlightSearchResponses)):this.highlightSearchResponses()},this),c=this.viewer.schema.document.resources.search.replace("{query}",
encodeURIComponent(a));this.viewer.helpers.isCrossDomain(c)&&(c+="&callback=?");DV.jQuery.ajax({url:c,dataType:"json",success:b,error:function(){this.viewer.$(".DV-currentSearchResult").text("Search is not available at this time");this.viewer.$("span.DV-searchQuery").text(a);this.viewer.$(".DV-searchResults").addClass("DV-noResults")}})},acceptInputCallBack:function(){var a=parseInt(this.elements.currentPage.text(),10)-1,a=""===a?0:a,a=0>a?0:a,a=a+1>this.models.document.totalPages?this.models.document.totalPages-
1:a,b=a+1;this.elements.currentPage.text(b);this.viewer.$(".DV-pageNumberContainer input").val(b);"ViewDocument"===this.viewer.state||"ViewThumbnails"===this.viewer.state?this.jump(a):"ViewText"===this.viewer.state&&this.events.loadText(a)},highlightSearchResponses:function(){var a=this.viewer,b=a.searchResponse;if(!b)return!1;var c=b.results,d=this.viewer.$(".DV-currentSearchResult");0==c.length?(d.text("No Results"),this.viewer.$(".DV-searchResults").addClass("DV-noResults")):this.viewer.$(".DV-searchResults").removeClass("DV-noResults");
for(c=0;c<b.results.length;c++)if(this.models.document.currentPage()===b.results[c]){d.text("Page "+(c+1)+" ");break}d="(\\b|\\B)("+b.query.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&").replace(/\s+/g,"\\s+")+")(\\b|\\B)";b=this.viewer.$(".DV-textContents");d=b.text().replace(RegExp(d,"ig"),'$1<span class="DV-searchMatch">$2</span>$3');b.html(d);this.highlightMatch(a.toHighLight?a.toHighLight:0)},highlightEntity:function(a,b){this.viewer.$(".DV-searchResults").addClass("DV-noResults");var c=this.viewer.$(".DV-textContents"),
d=c.text(),f=d.substr(0,a),n=d.substr(a,b),d=d.substr(a+b),d=[f,'<span class="DV-searchMatch">',n,"</span>",d].join("");c.html(d);this.highlightMatch(0)},highlightMatch:function(a){var b=this.viewer.$(".DV-textContents span.DV-searchMatch");if(0==b.length)return!1;var c=this.getCurrentSearchPageIndex(),d=this.viewer.toHighLight;d&&!1!==d&&(a="last"===d?b.length-1:"first"===d?0:d);if(d=this.viewer.searchResponse){if(a===b.length){if(d.results.length===c+1)return;this.events.loadText(d.results[c+1]-
1,this.highlightSearchResponses);return}if(-1===a){if(0>c-1)return!1;this.events.loadText(d.results[c-1]-1,this.highlightSearchResponses);return}b.removeClass("DV-highlightedMatch")}b=this.viewer.$(".DV-textContents span.DV-searchMatch:eq("+a+")");b.addClass("DV-highlightedMatch");this.elements.window[0].scrollTop=b.position().top-50;d&&(d.highlighted=a)},getCurrentSearchPageIndex:function(){var a=this.viewer.searchResponse;if(!a)return!1;for(var b=this.models.document,c=0,d=a.results.length;c<d;c++)if(a.results[c]===
b.currentPage())return c},highlightPreviousMatch:function(a){a.preventDefault();this.highlightMatch(this.viewer.searchResponse.highlighted-1)},highlightNextMatch:function(a){a.preventDefault(a);this.highlightMatch(this.viewer.searchResponse.highlighted+1)},clearSearch:function(a){this.elements.searchInput.val("").keyup().focus()},showEntity:function(a,b,c){this.viewer.$("span.DV-totalSearchResult").text("");this.viewer.$("span.DV-searchQuery").text(a);this.viewer.$("span.DV-currentSearchResult").text("Searching");
this.events.loadText(this.models.document.currentIndex(),DV._.bind(this.viewer.helpers.highlightEntity,this.viewer.helpers,b,c))},cleanUpSearch:function(){var a=this.viewer;a.searchResponse=null;a.toHighLight=null;this.elements&&this.elements.searchInput.keyup().blur()}});DV.Schema.helpers.TranslationAliases=[{de:"en-us"}];
DV.Schema.states={InitialLoad:function(){this.helpers.initializeLanguage();this.helpers.unsupportedBrowser()||(this.helpers.renderViewer(),this.events.elements=this.helpers.elements=this.elements=new DV.Elements(this),this.helpers.renderComponents(),this.helpers.renderNavigation(),this.helpers.renderSpecificPageCss(),this.pageSet=new DV.PageSet(this),this.pageSet.buildPages(),this.helpers.bindEvents(this),this.helpers.positionViewer(),this.models.document.computeOffsets(),this.helpers.addObserver("drawPages"),
this.helpers.registerHashChangeEvents(),this.dragReporter=new DV.DragReporter(this,".DV-pageCollection",DV.jQuery.proxy(this.helpers.shift,this),{ignoreSelector:".DV-annotationContent"}),this.helpers.startCheckTimer(),this.helpers.handleInitialState(),DV._.defer(DV._.bind(this.helpers.autoZoomPage,this.helpers)))},ViewAnnotation:function(){this.helpers.reset();this.helpers.ensureAnnotationImages();this.activeAnnotationId=null;this.acceptInput.deny();DV.jQuery.browser.msie&&(this.elements.annotations.css({zoom:0}),
this.elements.annotations.css({zoom:1}));this.helpers.toggleContent("viewAnnotations");this.compiled.next();return!0},ViewDocument:function(){this.helpers.reset();this.helpers.addObserver("drawPages");this.dragReporter.setBinding();this.elements.window.mouseleave(DV.jQuery.proxy(this.dragReporter.stop,this.dragReporter));this.acceptInput.allow();this.helpers.toggleContent("viewDocument");this.helpers.setActiveChapter(this.models.chapters.getChapterId(this.models.document.currentIndex()));this.helpers.jump(this.models.document.currentIndex());
return!0},ViewEntity:function(a,b,c){this.helpers.reset();this.helpers.toggleContent("viewSearch");this.helpers.showEntity(a,b,c)},ViewSearch:function(){this.helpers.reset();if(""==this.elements.searchInput.val())this.elements.searchInput.val(a);else var a=this.elements.searchInput.val();this.helpers.getSearchResponse(a);this.acceptInput.deny();this.helpers.toggleContent("viewSearch");return!0},ViewText:function(){this.helpers.reset();this.acceptInput.allow();this.pageSet.zoomText();this.helpers.toggleContent("viewText");
this.events.loadText();return!0},ViewThumbnails:function(){this.helpers.reset();this.helpers.toggleContent("viewThumbnails");this.thumbnails=new DV.Thumbnails(this);this.thumbnails.render();return!0}};DV.Api=function(a){this.viewer=a};
DV.Api.prototype={currentPage:function(){return this.viewer.models.document.currentPage()},setCurrentPage:function(a){this.viewer.helpers.jump(a-1)},onPageChange:function(a){this.viewer.models.document.onPageChangeCallbacks.push(a)},getPageNumberForId:function(a){return this.viewer.pageSet.pages[a].index+1},getSchema:function(){return this.viewer.schema.document},getId:function(){return this.viewer.schema.document.id},getModelId:function(){return parseInt(this.getId(),10)},currentZoom:function(){var a=
this.viewer.models.document;return a.zoomLevel/a.ZOOM_RANGES[1]},relativeZoom:function(){var a=this.viewer.models;return this.currentZoom()*(a.document.ZOOM_RANGES[1]/a.pages.BASE_WIDTH)},numberOfPages:function(){return this.viewer.models.document.totalPages},getContributor:function(){return this.viewer.schema.document.contributor},getContributorOrganization:function(){return this.viewer.schema.document.contributor_organization},setSections:function(a){a=DV._.sortBy(a,function(a){return a.page});
this.viewer.schema.data.sections=a;this.viewer.models.chapters.loadChapters();this.redraw()},getSections:function(){return DV._.clone(this.viewer.schema.data.sections||[])},getDescription:function(){return this.viewer.schema.document.description},setDescription:function(a){this.viewer.schema.document.description=a;this.viewer.$(".DV-description").remove();this.viewer.$(".DV-navigation").prepend(JST.descriptionContainer({description:a}));this.viewer.helpers.displayNavigation()},getRelatedArticle:function(){return this.viewer.schema.document.resources.related_article},
setRelatedArticle:function(a){this.viewer.schema.document.resources.related_article=a;this.viewer.$(".DV-storyLink a").attr({href:a});this.viewer.$(".DV-storyLink").toggle(!!a)},getPublishedUrl:function(){return this.viewer.schema.document.resources.published_url},setPublishedUrl:function(a){this.viewer.schema.document.resources.published_url=a},getTitle:function(){return this.viewer.schema.document.title},setTitle:function(a){this.viewer.schema.document.title=a;document.title=a},getSource:function(){return this.viewer.schema.document.source},
setSource:function(a){this.viewer.schema.document.source=a},getPageText:function(a){return this.viewer.schema.text[a-1]},setPageText:function(a,b){this.viewer.schema.text[b-1]=a},resetPageText:function(a){var b=this,c=this.viewer.schema.text;a?this.viewer.models.document.originalPageText={}:DV._.each(this.viewer.models.document.originalPageText,function(a,f){f=parseInt(f,10);a!=c[f-1]&&(b.setPageText(a,f),f==b.currentPage()&&b.viewer.events.loadText())});"editText"==this.viewer.openEditor&&this.viewer.$(".DV-textContents").attr("contentEditable",
!0).addClass("DV-editing")},redraw:function(a){a&&(this.viewer.models.annotations.renderAnnotations(),this.viewer.models.document.computeOffsets());this.viewer.helpers.renderNavigation();this.viewer.helpers.renderComponents();a&&(this.viewer.elements.window.removeClass("DV-coverVisible"),this.viewer.pageSet.buildPages({noNotes:!0}),this.viewer.pageSet.reflowPages())},getAnnotationsBySortOrder:function(){return this.viewer.models.annotations.sortAnnotations()},getAnnotationsByPageIndex:function(a){return this.viewer.models.annotations.getAnnotations(a)},
getAnnotation:function(a){return this.viewer.models.annotations.getAnnotation(a)},addAnnotation:function(a){a=this.viewer.schema.loadAnnotation(a);this.viewer.models.annotations.sortAnnotations();this.redraw(!0);this.viewer.pageSet.showAnnotation(a,{active:!0,edit:!0});return a},onAnnotationShow:function(a){this.viewer.models.annotations.showingCallbacks.push(a)},onAnnotationSave:function(a){this.viewer.models.annotations.saveCallbacks.push(a)},onAnnotationDelete:function(a){this.viewer.models.annotations.deleteCallbacks.push(a)},
setConfirmStateChange:function(a){this.viewer.confirmStateChange=a},onChangeState:function(a){this.viewer.onStateChangeCallbacks.push(a)},getState:function(){return this.viewer.state},setState:function(a){this.viewer.open(a)},resetRemovedPages:function(){this.viewer.models.document.resetRemovedPages()},addPageToRemovedPages:function(a){this.viewer.models.document.addPageToRemovedPages(a)},removePageFromRemovedPages:function(a){this.viewer.models.document.removePageFromRemovedPages(a)},resetReorderedPages:function(){this.viewer.models.document.redrawReorderedPages()},
reorderPages:function(a,b){var c=this.getModelId();this.viewer.models.document.reorderPages(c,a,b)},loadJS:function(a,b){DV.jQuery.getScript(a,b)},roundTabCorners:function(){var a=this.viewer.$(".DV-views > div:visible");a.first().addClass("DV-first");a.last().addClass("DV-last")},registerHashListener:function(a,b){this.viewer.history.register(a,b)},clearHashListeners:function(){this.viewer.history.defaultCallback=null;this.viewer.history.handlers=[]},unload:function(a){this.viewer.helpers.unbindEvents();
DV.jQuery(".DV-docViewer",this.viewer.options.container).remove();this.viewer.helpers.stopCheckTimer();delete DV.viewers[this.viewer.schema.document.id]},enterRemovePagesMode:function(){this.viewer.openEditor="removePages"},leaveRemovePagesMode:function(){this.viewer.openEditor=null},enterAddPagesMode:function(){this.viewer.openEditor="addPages"},leaveAddPagesMode:function(){this.viewer.openEditor=null},enterReplacePagesMode:function(){this.viewer.openEditor="replacePages"},leaveReplacePagesMode:function(){this.viewer.openEditor=
null},enterReorderPagesMode:function(){this.viewer.openEditor="reorderPages";this.viewer.elements.viewer.addClass("DV-reorderPages")},leaveReorderPagesMode:function(){this.resetReorderedPages();this.viewer.openEditor=null;this.viewer.elements.viewer.removeClass("DV-reorderPages")},enterEditPageTextMode:function(){this.viewer.openEditor="editText";this.viewer.events.loadText()},leaveEditPageTextMode:function(){this.viewer.openEditor=null;this.resetPageText()}};
DV.DocumentViewer=function(a){this.options=a;this.window=window;this.$=this.jQuery;this.schema=new DV.Schema;this.api=new DV.Api(this);this.history=new DV.History(this);this.models=this.schema.models;this.events=DV._.extend({},DV.Schema.events);this.helpers=DV._.extend({},DV.Schema.helpers);this.states=DV._.extend({},DV.Schema.states);this.isFocus=!0;this.activeElement=this.confirmStateChange=this.openEditor=null;this.observers=[];this.windowDimensions={};this.scrollPosition=null;this.checkTimer=
{};this.busy=!1;this.dragReporter=this.annotationToLoadId=null;this.compiled={};this.tracker={};this.onStateChangeCallbacks=[];this.events=DV._.extend(this.events,{viewer:this,states:this.states,elements:this.elements,helpers:this.helpers,models:this.models,compile:function(a){var c=this.viewer;return function(){c.events[c.state][a]?c.events[c.state][a].apply(c.events,arguments):c.events[a].apply(c.events,arguments)}}});this.helpers=DV._.extend(this.helpers,{viewer:this,states:this.states,elements:this.elements,
events:this.events,models:this.models});this.states=DV._.extend(this.states,{viewer:this,helpers:this.helpers,elements:this.elements,events:this.events,models:this.models})};
DV.DocumentViewer.prototype.configureActiveAnnotation=function(a){this.activeAnnotation&&this.activeAnnotation.id!=this.id&&this.activeAnnotation.hide();this.activeAnnotation=a;this.annotationToLoadId=null;this.elements.window.addClass("DV-coverVisible");this.helpers.addObserver("trackAnnotation");this.helpers.setActiveAnnotationInNav(a.id);this.helpers.fireAnnotationIsShowing(a)};
DV.DocumentViewer.prototype.loadModels=function(){this.models.chapters=new DV.model.Chapters(this);this.models.document=new DV.model.Document(this);this.models.pages=new DV.model.Pages(this);this.models.annotations=new DV.model.Annotations(this);this.models.removedPages={}};
DV.DocumentViewer.prototype.open=function(a){if(this.state!=a){var b=DV._.bind(function(){this.state=a;this.states[a].apply(this,arguments);this.slapIE();this.notifyChangedState();return!0},this);this.confirmStateChange?this.confirmStateChange(b):b()}};DV.DocumentViewer.prototype.slapIE=function(){DV.jQuery(this.options.container).css({zoom:0.99}).css({zoom:1})};DV.DocumentViewer.prototype.notifyChangedState=function(){DV._.each(this.onStateChangeCallbacks,function(a){a()})};
DV.DocumentViewer.prototype.recordHit=function(a){var b=window.location,b=b.protocol+"//"+b.host+b.pathname;if(b.match(/^file:/))return!1;var b=b.replace(/[\/]+$/,""),c=this.api.getModelId(),b=encodeURIComponent("document:"+c+":"+b);DV.jQuery(document.body).append('<img class="DV-pixelping" alt="" width="1" height="1" src="'+a+"?key="+b+'" />')};DV.DocumentViewer.prototype.jQuery=function(a,b){b=b||this.options.container;return DV.jQuery.call(DV.jQuery,a,b)};
DV.load=function(a,b){b=b||{};var c=a.id||a.match(/([^\/]+)(\.js|\.json)$/)[1];"showSidebar"in b&&(b.sidebar=b.showSidebar);b=DV._.extend({},{container:document.body,zoom:"auto",documentId:c,sidebar:!0},b);b.fixedSize=!(!b.width&&!b.height);var d=new DV.DocumentViewer(b);DV.viewers[c]=d;var f=DV.loadJSON=function(a){var c=DV.viewers[a.id];c.schema.importCanonicalDocument(a);c.loadModels();DV.jQuery(function(){c.open("InitialLoad");b.afterLoad&&b.afterLoad(c);DV.afterLoad&&DV.afterLoad(c);DV.recordHit&&
c.recordHit(DV.recordHit)})},c=function(){DV._.isString(a)?a.match(/\.js$/)?DV.jQuery.getScript(a):(d.helpers.isCrossDomain(a)&&(a+="?callback=?"),DV.jQuery.getJSON(a,f)):f(a)};b.templates?DV.jQuery.getScript(b.templates,c):c();return d};DV.onload&&DV._.defer(DV.onload);
(function(a,b,c,d){a.dc||(a.dc={});a.dc.ui||(a.dc.ui={});a.dc.model||(a.dc.model={});a.dc.lib||(a.dc.lib={});a.DV.Backbone||(a.DV.Backbone=Backbone.noConflict());a.DV.easyXDM||(a.DV.easyXDM=easyXDM.noConflict("DV"))})(window,document,jQuery);
dc.access={DELETED:0,PRIVATE:1,ORGANIZATION:2,EXCLUSIVE:3,PUBLIC:4,PENDING:5,INVISIBLE:6,ERROR:7,PREMODERATED:8,POSTMODERATED:9,NAMES:{0:"deleted",1:"private",2:"organization",3:"exclusive",4:"public",5:"pending",6:"invisible",7:"error",8:"premoderated",9:"postmoderated"},PUBLIC_LEVELS:[4,8,9],COMMENTING_LEVELS:[8,9]};
dc.model.Account=DV.Backbone.Model.extend({isOwner:function(a){return a.get("account_id")==this.id},isLoggedIn:function(){return!_.isUndefined(this.id)},fullName:function(){return this.get("first_name")+"  "+this.get("last_name")},displayIdentifier:function(){return this.get("email")||this.fullName()},canEditAnnotation:function(a){return!(a.model.server_id&&!a.model.editable||!this.isLoggedIn())}});dc.account=new dc.model.Account({uninitialized:!0});
dc.model.Document=DV.Backbone.Model.extend({constructor:function(a,b){this.notes=new dc.model.NoteSet;DV.Backbone.Model.call(this,a,b);a&&a.id&&this.set("id",parseInt(a.id,10))},set:function(a){DV.Backbone.Model.prototype.set.apply(this,arguments);this.notes.reset(a.annotations||[])},allowedAnnotations:function(){return!_.isEmpty(this.annotationsEndpoint())},serverEndpoint:function(){return"https://"+DV.Schema.helpers.extractHost(this.get("canonical_url"))},annotationsEndpoint:function(){return this.get("annotations_url")}});
dc.model.Note=DV.Backbone.Model.extend({});dc.model.NoteSet=DV.Backbone.Collection.extend({model:dc.model.Note});
dc.ui.AnnotationEditor=DV.Backbone.View.extend({id:"annotation_editor",events:{"click .close":"close"},initialize:function(a){this._open=!1;this._buttons={};this._inserts=this.options.viewer.$(".DV-pageNoteInsert");this.viewer=this.options.viewer;this.document=this.options.document;_.bindAll(this,"open","close","drawAnnotation","saveAnnotation","deleteAnnotation","createPageNote","hideSaving","onShowAnnotation");this.viewer.api.onAnnotationSave(this.saveAnnotation);this.viewer.api.onAnnotationShow(this.onShowAnnotation);
this.viewer.api.onAnnotationDelete(this.deleteAnnotation);this.listenTo(this.document.notes,"reset",this.resetAnnotations);this._inserts.click(this.createPageNote)},open:function(a){this._open=!0;var b=this.viewer.elements;this._buttons[a]=b.controlPanel.find("."+a+"_annotation");this.pages=b.viewer.find(".DV-pages");this.page=b.viewer.find(".DV-page");this._guide=b.viewer.find("#"+a+"_note_guide");this.page.css({cursor:"crosshair"});"redact"!=a&&this._inserts.filter(".visible").show().addClass("DV-"+
a);this.page.bind("mousedown",this.drawAnnotation);b.viewer.bind("keydown",this.close);b.viewer.setMode(a,"editing");this._buttons[a].addClass("open");this._guide.fadeIn("fast")},close:function(){this._open=!1;this.page.css({cursor:""});this.page.unbind("mousedown",this.drawAnnotation);this.viewer.elements.viewer.unbind("keydown",this.close);this.clearAnnotation();this.clearRedactions();this._inserts.hide().removeClass("DV-public DV-private");this.viewer.elements.viewer.setMode(null,"editing");this._buttons[this._kind].removeClass("open");
this._guide.hide()},toggle:function(a){if(this._open&&(this.close(),a===this._kind))return;this.open(this._kind=a)},resetAnnotations:function(a){a.each(function(a){var c=a.toJSON();debugger;this.viewer.schema.data.annotationsById[a.id]?_.extend(this.viewer.schema.data.annotationsById[a.id],c):this.viewer.schema.loadAnnotation(c)},this);_.each(this.viewer.schema.data.annotationsById,function(b,c){!a.get(c)&&"public"!=b.access&&this.viewer.models.annotations.removeAnnotation(b,!0)},this);this.viewer.models.annotations.sortAnnotations();
this.viewer.api.redraw(!0)},clearAnnotation:function(){this.region&&DV.jQuery(this.region).remove()},clearRedactions:function(){this.viewer.elements.viewer.find(".DV-annotationRegion.DV-accessRedact").remove()},createPageNote:function(a){this.close();a=DV.jQuery(a.target).closest(".DV-set");a=this.viewer.api.getPageNumberForId(a.attr("data-id"));this.viewer.api.addAnnotation({page:a,unsaved:!0,access:this._kind||"public",owns_note:!0})},make:function(a,b,c){a=DV.Backbone.$("<"+a+">");b&&a.attr(b);
null!=c&&a.html(c);return a[0]},drawAnnotation:function(a){a.stopPropagation();a.preventDefault();this._activePage=DV.jQuery(a.currentTarget);this._activePageNumber=this.viewer.api.getPageNumberForId(this._activePage.closest(".DV-set").attr("data-id"));this.clearAnnotation();var b=this._activePage.offset().top,c=this._activePage.offset().left,d=a.pageX-c,f=a.pageY-b,n=this._activePage.height()-6,k=this._activePage.width()-6;this.region=this.make("div",{"class":"DV-annotationRegion active "+this._accessClass(this._kind),
style:"position:absolute;"});("redact"==this._kind?this._specificPage():this._activePage).append(this.region);var q=function(a){var g=a.pageX-c-3;a=a.pageY-b-3;g=0>g?0:g>k?k:g;a=0>a?0:a>n?n:a;return{left:Math.min(d,g),top:Math.min(f,a),width:Math.abs(g-d),height:Math.abs(a-f)}},t=DV.jQuery(this.region);t.css(q(a));var u=_.bind(function(a){t.css(q(a));return!1}),g=_.bind(function(a){this.viewer.elements.viewer.unbind("keydown",this.close);this.pages.unbind("mouseup",g).unbind("mousemove",u);a=q(a);
a.left-=1;a.top-=1;a.right=a.left+a.width;a.bottom=a.top+a.height;"redact"!=this._kind&&(a.top+=2,a.left+=5,a.right+=15,a.bottom+=5);var b=this.viewer.api.relativeZoom(),c=_.map([a.top,a.right,a.bottom,a.left],function(a){return Math.round(a/b)}).join(",");"redact"==this._kind?(5<a.width&&5<a.height?this.redactions.push({location:c,page:this._activePageNumber}):t.remove(),this.region=null):(this.close(),5<a.width&&5<a.height&&this.viewer.api.addAnnotation({location:{image:c},page:this._activePageNumber,
unsaved:!0,access:this._kind,owns_note:!0}));return!1},this);this.pages.bind("mouseup",g).bind("mousemove",u)},onShowAnnotation:function(a){a.allowEdit(dc.account.canEditAnnotation(a))},saveAnnotation:function(a){this[a.unsaved?"createAnnotation":"updateAnnotation"](a)},annotationToParams:function(a,b){var c={page_number:a.page,content:a.text,title:a.title,access:a.access};a.location&&(c.location=a.location.image);return _.extend(c,b||{})},hideSaving:function(){this.viewer.helpers.setActiveAnnotationIsSaving(!1)},
setSaving:function(){this.viewer.helpers.setActiveAnnotationIsSaving(!0)},_performAjax:function(a,b,c){this.setSaving();DV.jQuery.ajax(b,_.extend({type:"POST",dataType:"json",complete:this.hideSaving,success:function(b){delete a.unsaved;a.server_id=b.id;a.content=a.html_content=b.content;a.editable=!0}},c))},createAnnotation:function(a){this._performAjax(a,this.document.annotationsEndpoint()+".json",{data:this.annotationToParams(a)})},updateAnnotation:function(a){this._performAjax(a,this.document.annotationsEndpoint()+
"/"+a.server_id+".json",{data:this.annotationToParams(a,{_method:"put"})})},deleteAnnotation:function(a){a.server_id&&this._performAjax(a,this.document.annotationsEndpoint()+"/"+a.server_id,{data:{_method:"delete"},success:function(){},complete:function(){}})},_specificPage:function(){var a=$(".DV-pageSpecific-"+this._activePageNumber);if(a.length)return a;a=this.make("div",{"class":"DV-pageSpecific DV-pageSpecific-"+this._activePageNumber});this._activePage.append(a);return $(a)},_accessClass:function(a){return"DV-access"+
a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}});
dc.ui.ViewerControlPanel=DV.Backbone.View.extend({attributes:{"class":"control_panel"},events:{"click .public_annotation":"togglePublicAnnotation","click .private_annotation":"togglePrivateAnnotation"},initialize:function(){_.bindAll(this,"render");this.viewer=this.options.viewer;this.editor=this.options.editor;this.document=this.editor.document;this.listenTo(this.document,"change:annotations_url",this.render);this.listenTo(dc.account,"change",this.onAccountChange);this.annotationEditor=new dc.ui.AnnotationEditor({viewer:this.viewer,
document:this.document})},displayLoggedInStatus:function(){this.viewer.elements.well.find(".DV-authenticate").toggleClass("DV-UnknownAccount",!dc.account.isLoggedIn()).html(this._loggedInMessage())},onAccountChange:function(a){this.displayLoggedInStatus();this.render()},render:function(){this.document.allowedAnnotations()?this.$el.html(JST.control_panel({loggedIn:dc.account.isLoggedIn()})):this.$el.html("");return this},toggleAnnotate:function(a){dc.account.isLoggedIn()?(this.openDocumentTab(),this.annotationEditor.toggle(a)):
this.editor.login(_.bind(this.toggleAnnotate,this,a))},togglePublicAnnotation:function(){this.toggleAnnotate("public")},togglePrivateAnnotation:function(){this.toggleAnnotate("private")},openDocumentTab:function(){"ViewDocument"!=this.viewer.state&&this.viewer.open("ViewDocument")},_loggedInMessage:function(a){return dc.account.isLoggedIn()?DV.t("logged_in_as",dc.account.displayIdentifier())+'<div class="DV-logout minibutton">'+DV.t("log_out")+"</div>":'<div class="DV-login minibutton">'+DV.t("log_in")+
"</div"}});
dc.ui.editor=DV.Backbone.View.extend({initialize:function(){this.viewer=this.options.viewer;this.elements=this.viewer.elements;this.document=new dc.model.Document(this.viewer.schema.document);this.remoteSocket=new dc.lib.RemoteSocket(this.document,this.viewer);this.createSubViews()},render:function(){this.setAccess();this.renderSubViews();return this},createSubViews:function(){this.controlPanel=new dc.ui.ViewerControlPanel({el:this.viewer.elements.controlPanel,editor:this,viewer:this.viewer})},login:function(a){this._login||
(this._login=new dc.ui.Login(_.extend({el:this.viewer.$(".DV-loginContainer")},{socket:this.remoteSocket})));this._login.open(a)},logout:function(){this.remoteSocket.logout()},setAccess:function(){var a="DV-isCommentor";this.options.isReviewer&&(a="DV-isReviewer");this.options.isOwner&&(a="DV-isOwner");this.viewer.elements.viewer.addClass(a).find(".DV-thumbnailsView").show()},renderSubViews:function(){this.$el.append(this.controlPanel.render().el);this.controlPanel.displayLoggedInStatus(!1);this.controlPanel.render().$el.insertBefore(this.viewer.elements.well.find(".DV-logo"));
this.viewer.api.roundTabCorners();var a=this.viewer.elements.viewer.find(".DV-supplemental");a.hasClass("DV-noNavigation")&&a.removeClass("DV-noNavigation").addClass("DV-noNavigationMargin")}});
dc.ui.Login=DV.Backbone.View.extend({initialize:function(a){this.socket=a.socket;_.bindAll(this,"close","delayedClose")},open:function(a){this.callback=a;this.socket.showLogin(this.delayedClose);this.$el.show()},delayedClose:function(){_.delay(this.close,1500)},close:function(){_.isFunction(this.callback)&&(this.callback(),this.callback=null);this.$el.hide()}});
(function(a,b,c,d){function f(a){this.document=a;this.onSuccess=_.bind(function(a){a.account?dc.account.set(a.account):dc.account.clear();a.document&&this.document.set(a.document)},this);this.onFailure=_.bind(function(a){alert("Remote communication failure: "+a.message);console&&console.warn&&console.warn(a)},this)}function n(a,b){this.dispatcher=new f(a);this.document=a;this.viewer=b;var c=this;this._socket=new DV.easyXDM.Rpc({remote:this.document.serverEndpoint()+"/auth/iframe",container:this.viewer.$(".DV-loginContainer .frame")[0]},
{remote:{loadLoginStartingPage:{},getRemoteData:{},logout:{}},local:{loggedInStatus:function(a){c.dispatcher.onSuccess(a.data);_.isFunction(c._close_callback)&&c._close_callback(a)}}})}n.prototype.logout=function(){this._socket.logout(this.document.id)};n.prototype.showLogin=function(a){this._close_callback=a;this._socket.loadLoginStartingPage(this.document.id)};n.prototype.getRemoteData=function(){this._socket.getRemoteData(this.document.id,this.dispatcher.onSuccess,this.dispatcher.onFailure)};dc.lib.RemoteSocket=
n})(window,document,jQuery);
